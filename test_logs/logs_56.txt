[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0
virtual: 6582339944732886
weight: 1
jumpSize: 100
minAnchorPrice: 6517168262111768
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 7237459641307989
weight: 1
jumpSize: 1
minAnchorPrice: 3618729820653994
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1
virtual: 1
weight: 15
jumpSize: 1
minAnchorPrice: 7
jumpLog: 0.6931471805599453
anchorLog: 0.13353139262452257
5.190893069684433
maxTicks: 1
maxTicks_: 5
1
virtual: 1
weight: 25
jumpSize: 1
minAnchorPrice: 12
jumpLog: 0.6931471805599453
anchorLog: 0.08004270767353636
8.659716802522823
maxTicks: 1
maxTicks_: 8
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 261

trials left: 1 - iteration: 3 - block: 262
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 5729552677257276
weight: 1
jumpSize: 100
minAnchorPrice: 5672824432927996
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 1262

trials left: 1 - iteration: 5 - block: 1263
virtual: 4692736066255900
weight: 2
jumpSize: 1
minAnchorPrice: 4692736066255900
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 6 - block: 2263
virtual: 4395047909551708
weight: 2
jumpSize: 100
minAnchorPrice: 8703065167429124
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 8585326359310453
weight: 1
jumpSize: 57
minAnchorPrice: 8437303491046479
jumpLog: 0.01739174271186924
anchorLog: 2.2204460492503128e-16
78325445996497.86
maxTicks: 1
maxTicks_: 78325445996497
1
virtual: 5885888092331444
weight: 1
jumpSize: 100
minAnchorPrice: 5827611972605390
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 2264
virtual: 4617430710675908
weight: 1
jumpSize: 1
minAnchorPrice: 2308715355337954
jumpLog: 0.6931471805599453
anchorLog: 4.440892098500625e-16
1560828692041340
maxTicks: 1
maxTicks_: 1560828692041340
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 2265

trials left: 1 - iteration: 9 - block: 3093
virtual: 6368307888532848
weight: 2
jumpSize: 1
minAnchorPrice: 6368307888532848
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 2087246535572483
maxTicks_: 3121657384082680
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 695748845190827
maxTicks_: 3121657384082680
3
virtual: 9007199254740991
weight: 1
jumpSize: 41
minAnchorPrice: 8792742129628110
jumpLog: 0.024097551579060524
anchorLog: 2.2204460492503128e-16
108525724311998.3
maxTicks: 695748845190827
maxTicks_: 108525724311998
3
virtual: 6368307888532848
weight: 2
jumpSize: 1
minAnchorPrice: 6368307888532848
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
virtual: 6368307888532848
weight: 2
jumpSize: 1
minAnchorPrice: 6368307888532848
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
virtual: 9007199254740991
weight: 1
jumpSize: 41
minAnchorPrice: 8792742129628110
jumpLog: 0.024097551579060524
anchorLog: 2.2204460492503128e-16
108525724311998.3
virtual: 9007199254740991
weight: 1
jumpSize: 41
minAnchorPrice: 8792742129628110
jumpLog: 0.024097551579060524
anchorLog: 2.2204460492503128e-16
108525724311998.3
virtual: 9007199254740991
weight: 1
jumpSize: 41
minAnchorPrice: 8792742129628110
jumpLog: 0.024097551579060524
anchorLog: 2.2204460492503128e-16
108525724311998.3
virtual: 9007199254740991
weight: 1
jumpSize: 41
minAnchorPrice: 8792742129628110
jumpLog: 0.024097551579060524
anchorLog: 2.2204460492503128e-16
108525724311998.3
Opening pool with 6 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 3494
virtual: 4987901373552264
weight: 2
jumpSize: 1
minAnchorPrice: 4987901373552264
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 9007199254740991
weight: 1
jumpSize: 28
minAnchorPrice: 8696606176991301
jumpLog: 0.03509131981127019
anchorLog: 2.2204460492503128e-16
158037254825975.38
maxTicks: 1
maxTicks_: 158037254825975
1
virtual: 6777244029387993
weight: 1
jumpSize: 5
minAnchorPrice: 5647703357823327
jumpLog: 0.1823215567939546
anchorLog: 2.2204460492503128e-16
821103295238862.8
maxTicks: 1
maxTicks_: 821103295238862
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 3859
Swapping.boundary()
addedBuyingA0: 17639642294462149
addedSellingA0: 25755979077931356
diff: -8116336783469207
Swapping.boundary()
addedBuyingA0: 146413881677420773419089100157
addedSellingA0: 146413881677437076706472309104
diff: -16303287383208947
subSwap: 1 sold
subSwap: 1 bought
addedBuyingA0: 17639642294462149
addedSellingA0: 25755979077931356
diff: -8116336783469207
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 535e2efb1b55f75836934ce324a0887fd011f7530a27905e367006da, 
   +     +  virtual: +[
   +     +  +  01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff_k0LojkR6bYha2awoXb6Tn: 4395047909551708,
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 8585326359310453,
   +     +  +  dc74f13d2ffd41669107cd3dc30c2a94687da76fcfd9781c1e5445d3_: 5885888092331444
   +     +  ], 
   +     +  weights: +[
   +     +  +  01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff_k0LojkR6bYha2awoXb6Tn: 2,
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 1,
   +     +  +  dc74f13d2ffd41669107cd3dc30c2a94687da76fcfd9781c1e5445d3_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff_k0LojkR6bYha2awoXb6Tn: 100,
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 57,
   +     +  +  dc74f13d2ffd41669107cd3dc30c2a94687da76fcfd9781c1e5445d3_: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 535e2efb1b55f75836934ce324a0887fd011f7530a27905e367006da,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: e4f73c7a81796f0c6787c4042762bc8a1fdd946cf9c922ad27fd00351dd23779),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 6b879b059a8ce292464b82af477dafe88dd4a0c828ff45d885b7c8e07a702c16),
   +     +  anchorPrices: +[
   +     +  +  01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff_k0LojkR6bYha2awoXb6Tn: 8703065167429124,
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 8437303491046479,
   +     +  +  dc74f13d2ffd41669107cd3dc30c2a94687da76fcfd9781c1e5445d3_: 5827611972605390
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3154920,
   +  +  01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff_k0LojkR6bYha2awoXb6Tn: 4405376177667804,
   +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 1,
   +  +  dc74f13d2ffd41669107cd3dc30c2a94687da76fcfd9781c1e5445d3_: 1697502394112768
   +  ]
     )
  boughtAsset: Asset(7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8, 2)
  soldAsset: Asset(01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff, k0LojkR6bYha2awoXb6Tn)
  boughtAmount: 1
  soldAmount: 3
  boughtSpot: 8585326359310452
  soldSpot: 17639642294462149
  boughtExp: 1
  soldExp: 71
  spotPrice: 2.0546268780257426
  effectivePrice: 3
)

trials left: 1 - iteration: 12 - block: 3860
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 82
minAnchorPrice: 8898678781792304
jumpLog: 0.01212136053234482
anchorLog: 2.2204460492503128e-16
54589754776691.58
maxTicks: 1
maxTicks_: 54589754776691
1
virtual: 2
weight: 80
jumpSize: 100
minAnchorPrice: 158
jumpLog: 0.009950330853168092
anchorLog: 0.006309169193264756
1.5771222087038648
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 4860
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 1
weight: 88
jumpSize: 78
minAnchorPrice: 86
jumpLog: 0.012739025777429712
anchorLog: 0.011560822401076006
1.1019134569737916
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 14 - block: 5860
Swapping.boundary()
addedBuyingA0: 146413881677403133776794638008
addedSellingA0: 146413881677414431952846218728
diff: -11298176051580720
Swapping.boundary()
addedBuyingA0: 8735946120000109
addedSellingA0: 17464992370754602
diff: -8729046250754493
subSwap: 8300274984792 bought
addedBuyingA0: 146413881677403133776794638008
addedSellingA0: 146413881677406883701637521936
diff: -3749924842883928
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 535e2efb1b55f75836934ce324a0887fd011f7530a27905e367006da, 
   +     +  virtual: +[
   +     +  +  01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff_k0LojkR6bYha2awoXb6Tn: 4395047909551708,
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 8585326359310453,
   +     +  +  dc74f13d2ffd41669107cd3dc30c2a94687da76fcfd9781c1e5445d3_: 5885888092331444
   +     +  ], 
   +     +  weights: +[
   +     +  +  01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff_k0LojkR6bYha2awoXb6Tn: 2,
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 1,
   +     +  +  dc74f13d2ffd41669107cd3dc30c2a94687da76fcfd9781c1e5445d3_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff_k0LojkR6bYha2awoXb6Tn: 100,
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 57,
   +     +  +  dc74f13d2ffd41669107cd3dc30c2a94687da76fcfd9781c1e5445d3_: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 535e2efb1b55f75836934ce324a0887fd011f7530a27905e367006da,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: e4f73c7a81796f0c6787c4042762bc8a1fdd946cf9c922ad27fd00351dd23779),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 6b879b059a8ce292464b82af477dafe88dd4a0c828ff45d885b7c8e07a702c16),
   +     +  anchorPrices: +[
   +     +  +  01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff_k0LojkR6bYha2awoXb6Tn: 8703065167429124,
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 8437303491046479,
   +     +  +  dc74f13d2ffd41669107cd3dc30c2a94687da76fcfd9781c1e5445d3_: 5827611972605390
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3154920,
   +  +  01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff_k0LojkR6bYha2awoXb6Tn: 4405376177667807,
   +  +  dc74f13d2ffd41669107cd3dc30c2a94687da76fcfd9781c1e5445d3_: 1697502394112768
   +  ]
     )
  boughtAsset: Asset(dc74f13d2ffd41669107cd3dc30c2a94687da76fcfd9781c1e5445d3, )
  soldAsset: Asset(01fbd625cf345d81cee79213ade0f706c235df78aeb896af75888fff, k0LojkR6bYha2awoXb6Tn)
  boughtAmount: 8300274984792
  soldAmount: 19397060011558
  boughtSpot: 7548251208696792
  soldSpot: 17639642294462149
  boughtExp: 26
  soldExp: 71
  spotPrice: 2.3369177583992515
  effectivePrice: 2.3369177583993115
)

trials left: 1 - iteration: 15 - block: 5861
Swapping.boundary()
addedBuyingA0: 68069569358949905702400
addedSellingA0: 68069575503098054008590
diff: -6144148148306190
Swapping.boundary()
addedBuyingA0: 42881141646310028139600
addedSellingA0: 42881149952797734516360
diff: -8306487706376760
Swapping.boundary()
addedBuyingA0: 68069569358949905702400
addedSellingA0: 68069575503098054008590
diff: -6144148148306190
Swapping.boundary()
addedBuyingA0: 68069569358949905702400
addedSellingA0: 68069575503098054008590
diff: -6144148148306190
Swapping.boundary()
addedBuyingA0: 42881141646310028139600
addedSellingA0: 42881149952797734516360
diff: -8306487706376760
Swapping.boundary()
addedBuyingA0: 42881141646310028139600
addedSellingA0: 42881149952797734516360
diff: -8306487706376760
Swapping.boundary()
addedBuyingA0: 478164712355567709822030191560
addedSellingA0: 478164712355574761546128796400
diff: -7051724098604840
Swapping.boundary()
addedBuyingA0: 762866161685617029185482061148
addedSellingA0: 762866161685633799062591954602
diff: -16769877109893454
Swapping.boundary()
addedBuyingA0: 234464082048852283054661126452
addedSellingA0: 234464082048855212997407437440
diff: -2929942746310988
Swapping.boundary()
addedBuyingA0: 320965627662792
addedSellingA0: 17974277806024133
diff: -17653312178361341
Swapping.boundary()
addedBuyingA0: 8
addedSellingA0: 159
diff: -151
Swapping.boundary()
addedBuyingA0: 26491535374725076
addedSellingA0: 26491535374725162
diff: -86
Swapping.boundary()
addedBuyingA0: 12958987216885227
addedSellingA0: 17974277806024133
diff: -5015290589138906
subSwap: 528033 bought
addedBuyingA0: 13450706877222661311936
addedSellingA0: 13450711855883107855710
diff: -4978660446543774
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 366c3f6afcb88dcb3ade024864c78646ab8a201bc7f59a2c915c6fc3, 
   +     +  virtual: +[
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 6368307888532848,
   +     +  +  _: 9007199254740991,
   +     +  +  e2f7e49eb9011bd1d5c8be3dfc8c25370f9663e9995d9019721c44f7_Pnyx4qNiE0J2fLM2iMaJAqPASFBRD9Jx: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 2,
   +     +  +  _: 1,
   +     +  +  e2f7e49eb9011bd1d5c8be3dfc8c25370f9663e9995d9019721c44f7_Pnyx4qNiE0J2fLM2iMaJAqPASFBRD9Jx: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 1,
   +     +  +  _: 1,
   +     +  +  e2f7e49eb9011bd1d5c8be3dfc8c25370f9663e9995d9019721c44f7_Pnyx4qNiE0J2fLM2iMaJAqPASFBRD9Jx: 41
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 366c3f6afcb88dcb3ade024864c78646ab8a201bc7f59a2c915c6fc3,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c30f78017258593807c5485c7a9e9fb1298c940a99aab2f27ff28f26d9b9c38f),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: e8ff1595bda871b2a345b4f9d389a88bb7ea06fbece87c4c6726940ffd21b8c6),
   +     +  anchorPrices: +[
   +     +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 6368307888532848,
   +     +  +  _: 4503599627370495,
   +     +  +  e2f7e49eb9011bd1d5c8be3dfc8c25370f9663e9995d9019721c44f7_Pnyx4qNiE0J2fLM2iMaJAqPASFBRD9Jx: 8935138573650076
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2672200,
   +  +  7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8_2: 347874422595413
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(7d1b7a22b754890cb1347eca0a5919a6685796753a17190d6a3358e8, 2)
  boughtAmount: 528033
  soldAmount: 1493329
  boughtSpot: 9007199254740990
  soldSpot: 25473231554131392
  boughtExp: 1
  soldExp: 2
  spotPrice: 2.8280968183004735
  effectivePrice: 2.8280978650955526
)

trials left: 1 - iteration: 16 - block: 6861
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 4288437101953134
weight: 1
jumpSize: 43
minAnchorPrice: 4190972622363290
jumpLog: 0.02298951822469878
anchorLog: 2.2204460492503128e-16
103535585710180.67
maxTicks: 1
maxTicks_: 103535585710180
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 17 - block: 6862

trials left: 1 - iteration: 18 - block: 6863

trials left: 1 - iteration: 19 - block: 6864
traces.length: 20
Opening: 11
Closing: 6
Swapping: 3
--- DONE ---
Opening: 11
Closing: 6
Swapping: 3
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(47s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m9s)[0m

