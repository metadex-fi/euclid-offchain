[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 9

trials left: 1 - iteration: 0 - block: 0
virtual: 6359
weight: 1
jumpSize: 1
minAnchorPrice: 3179
jumpLog: 0.6931471805599453
anchorLog: 0.00031451486341992015
2203.8614424225143
maxTicks: 27
maxTicks_: 2203
3
virtual: 6118
weight: 2
jumpSize: 1
minAnchorPrice: 6118
jumpLog: 0.6931471805599453
anchorLog: 0.00016343875169186014
4241.021014812772
maxTicks: 9
maxTicks_: 4241
3
virtual: 6359
weight: 1
jumpSize: 1
minAnchorPrice: 3179
jumpLog: 0.6931471805599453
anchorLog: 0.00031451486341992015
2203.8614424225143
virtual: 6359
weight: 1
jumpSize: 1
minAnchorPrice: 3179
jumpLog: 0.6931471805599453
anchorLog: 0.00031451486341992015
2203.8614424225143
virtual: 6118
weight: 2
jumpSize: 1
minAnchorPrice: 6118
jumpLog: 0.6931471805599453
anchorLog: 0.00016343875169186014
4241.021014812772
virtual: 6118
weight: 2
jumpSize: 1
minAnchorPrice: 6118
jumpLog: 0.6931471805599453
anchorLog: 0.00016343875169186014
4241.021014812772
virtual: 6118
weight: 2
jumpSize: 1
minAnchorPrice: 6118
jumpLog: 0.6931471805599453
anchorLog: 0.00016343875169186014
4241.021014812772
virtual: 6118
weight: 2
jumpSize: 1
minAnchorPrice: 6118
jumpLog: 0.6931471805599453
anchorLog: 0.00016343875169186014
4241.021014812772
virtual: 6118
weight: 2
jumpSize: 1
minAnchorPrice: 6118
jumpLog: 0.6931471805599453
anchorLog: 0.00016343875169186014
4241.021014812772
virtual: 6118
weight: 2
jumpSize: 1
minAnchorPrice: 6118
jumpLog: 0.6931471805599453
anchorLog: 0.00016343875169186014
4241.021014812772
Opening pool with 6 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 8
virtual: 1
weight: 76
jumpSize: 46
minAnchorPrice: 74
jumpLog: 0.021506205220963682
anchorLog: 0.01342302033214077
1.6021882325148624
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 3353
weight: 1
jumpSize: 100
minAnchorPrice: 3319
jumpLog: 0.009950330853168092
anchorLog: 0.0003012501905596586
33.03012301729171
maxTicks: 1
maxTicks_: 33
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 1008
swappingsFor()

          buyable: 4
          d: -5
          maxBuying: 4
          

          buyable: 2254130
          d: -694040
          maxBuying: 694040
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     694040
          maxSelling:    1
          maxBuyingA0:   8825412640
          maxSellingA0:  3132416
          maxSwapA0:     3132416
          spotBuying:    3132416
          spotSelling:   12716
          buyingAmount:  246
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 4
          d: -2358
          maxBuying: 4
          

          buyable: 2254130
          d: -694040
          maxBuying: 694040
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     694040
          maxSelling:    1
          maxBuyingA0:   5559260400
          maxSellingA0:  3132416
          maxSwapA0:     3132416
          spotBuying:    3132416
          spotSelling:   8010
          buyingAmount:  391
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 4
          d: -1317
          maxBuying: 4
          

          buyable: 2254130
          d: -694040
          maxBuying: 694040
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     694040
          maxSelling:    1
          maxBuyingA0:   7004251680
          maxSellingA0:  3132416
          maxSwapA0:     3132416
          spotBuying:    3132416
          spotSelling:   10092
          buyingAmount:  310
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 4
          d: -5
          maxBuying: 4
          

          buyable: 2254130
          d: -287000
          maxBuying: 287000
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     287000
          maxSelling:    1
          maxBuyingA0:   3649492000
          maxSellingA0:  3946496
          maxSwapA0:     3946496
          spotBuying:    3946496
          spotSelling:   12716
          buyingAmount:  310
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 4
          d: -2358
          maxBuying: 4
          

          buyable: 2254130
          d: -287000
          maxBuying: 287000
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     287000
          maxSelling:    1
          maxBuyingA0:   2298870000
          maxSellingA0:  3946496
          maxSwapA0:     3946496
          spotBuying:    3946496
          spotSelling:   8010
          buyingAmount:  492
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 4
          d: -1317
          maxBuying: 4
          

          buyable: 2254130
          d: -287000
          maxBuying: 287000
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     287000
          maxSelling:    1
          maxBuyingA0:   2896404000
          maxSellingA0:  3946496
          maxSwapA0:     3946496
          spotBuying:    3946496
          spotSelling:   10092
          buyingAmount:  391
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: -1
          maxBuying: 1
          
subSwap: 21 bought
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: cc77ddb8877ba268f293ab839858fb2a2e6987f9318cd167cc9c47bc, 
   +     +  virtual: +[
   +     +  +  cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a_: 6359,
   +     +  +  _: 6118
   +     +  ], 
   +     +  weights: +[
   +     +  +  cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a_: 1,
   +     +  +  _: 2
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a_: 1,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: cc77ddb8877ba268f293ab839858fb2a2e6987f9318cd167cc9c47bc,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 856645c0b3c0395d7643e9a376203321786ab83c6e5b08efb3d9965f12014f86),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 964d19416190d8dce73382202d0ac88defa85cc20585d147c017399e8f27a241),
   +     +  anchorPrices: +[
   +     +  +  cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a_: 4005,
   +     +  +  _: 6118
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2254130,
   +  +  cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a_: 4
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(cbdbbcc72d83cc8e6a79cbd8e42473153b34bc9b0065fe06b6f38f2a, )
  boughtAmount: 21
  soldAmount:   1
  boughtSpot:   3132416
  soldSpot:     8010
  (boughtA0:    168210)
  (soldA0:      3132416)
  boughtExp:    9
  soldExp:      1
  spotPrice:    0.0025571316198103955
  eff.Price:    0.047619047619047616
  maxBuying:    21
  (maxBuyingA0: 168210)
)

trials left: 1 - iteration: 3 - block: 1908
swappingsFor()

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: 0
          maxBuying: 0
          

          buyable: 1
          d: -1
          maxBuying: 1
          
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
virtual: 4124
weight: 1
jumpSize: 100
minAnchorPrice: 4083
jumpLog: 0.009950330853168092
anchorLog: 0.00024488796498042874
40.632175835849324
maxTicks: 1
maxTicks_: 40
1
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 1909

trials left: 1 - iteration: 5 - block: 2909
virtual: 2553
weight: 2
jumpSize: 45
minAnchorPrice: 4995
jumpLog: 0.021978906718775167
anchorLog: 0.00020018016281437456
109.7956281470109
maxTicks: 1
maxTicks_: 109
1
virtual: 1
weight: 43
jumpSize: 8
minAnchorPrice: 38
jumpLog: 0.11778303565638346
anchorLog: 0.025975486403260736
4.534391919667691
maxTicks: 1
maxTicks_: 4
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 6 - block: 3909
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 7799
weight: 1
jumpSize: 12
minAnchorPrice: 7199
jumpLog: 0.08004270767353636
anchorLog: 0.00013889853484369135
576.2674729694734
maxTicks: 1
maxTicks_: 576
1
virtual: 1
weight: 62
jumpSize: 1
minAnchorPrice: 31
jumpLog: 0.6931471805599453
anchorLog: 0.03174869831458027
21.83230234171914
maxTicks: 1
maxTicks_: 21
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 4909

trials left: 1 - iteration: 8 - block: 4910

trials left: 1 - iteration: 9 - block: 5910
traces.length: 8
Opening: 5
Swapping: 1
Closing: 2
--- DONE ---
Opening: 5
Swapping: 1
Closing: 2
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(1s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(13s)[0m

