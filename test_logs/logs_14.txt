[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0
virtual: 1040
weight: 15
jumpSize: 1
minAnchorPrice: 7800
jumpLog: 0.6931471805599453
anchorLog: 0.00012819691063011685
5406.894574549183
maxTicks: 1
maxTicks_: 5406
1
virtual: 1
weight: 48
jumpSize: 1
minAnchorPrice: 24
jumpLog: 0.6931471805599453
anchorLog: 0.0408219945202552
16.979748018338913
maxTicks: 1
maxTicks_: 16
1
virtual: 9000
weight: 1
jumpSize: 60
minAnchorPrice: 8852
jumpLog: 0.016529301951210506
anchorLog: 0.00011296244010872047
146.32564536762763
maxTicks: 1
maxTicks_: 146
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 46
virtual: 9000
weight: 1
jumpSize: 8
minAnchorPrice: 8000
jumpLog: 0.11778303565638346
anchorLog: 0.00012499218815091137
942.3231755425882
maxTicks: 424
maxTicks_: 942
3
virtual: 1
weight: 29
jumpSize: 28
minAnchorPrice: 28
jumpLog: 0.03509131981127019
anchorLog: 0.03509131981127019
1
maxTicks: 424
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 47

trials left: 1 - iteration: 3 - block: 1047

          maxBuying: 45172
          maxSelling: 1
          maxBuyingA0: 457366500
          maxSellingA0: 65684674
          maxSwapA0: 65684674
          spotBuying: 65684674
          spotSelling: 10125
          buyingAmount: 6487
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  65691000 > 
        addedSellingA0 65684674
subSwap: 1 sold
valueEquation: 
        addedBuyingA0  65691000 > 
        addedSellingA0 65684674
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 378cf10812cb855ded7a707ba60823434b6464747f13d8c4b7b76037, 
   +     +  virtual: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 9000,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 1,
   +     +  +  _: 29
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 8,
   +     +  +  _: 28
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 378cf10812cb855ded7a707ba60823434b6464747f13d8c4b7b76037,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4e162475501e9afcf6b3a3dba8643e9b93a08366558adf683ede979ad5680d7b),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f0c8c465173564ae50e17de7266fb7124f9034a85c787cd9d1afb504400861fb),
   +     +  anchorPrices: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 8000,
   +     +  +  _: 28
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2310160,
   +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 424
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4, 5zWIpU)
  boughtAmount: 6487
  soldAmount:   1
  boughtSpot:   65684674
  soldSpot:     10125
  (boughtA0:    65680875)
  (soldA0:      65684674)
  boughtExp:    418
  soldExp:      2
  spotPrice:    0.00015414554695057176
  eff.Price:    0.00015415446277169725
  maxBuying:    2310160
  (maxBuyingA0: 23390370000)
)

trials left: 1 - iteration: 4 - block: 2047
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 9000
weight: 1
jumpSize: 56
minAnchorPrice: 8842
jumpLog: 0.017699577099400857
anchorLog: 0.00011309018954655601
156.50851033470454
maxTicks: 1
maxTicks_: 156
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 3047
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 4439
maxTicks_: 1
1
virtual: 3454
weight: 1
jumpSize: 70
minAnchorPrice: 3405
jumpLog: 0.014184634991956381
anchorLog: 0.0002936426390208065
48.305774118013254
maxTicks: 4439
maxTicks_: 48
3
virtual: 519
weight: 17
jumpSize: 100
minAnchorPrice: 8735
jumpLog: 0.009950330853168092
anchorLog: 0.00011447541652939093
86.92111507288904
maxTicks: 1479
maxTicks_: 86
3
virtual: 3454
weight: 1
jumpSize: 70
minAnchorPrice: 3405
jumpLog: 0.014184634991956381
anchorLog: 0.0002936426390208065
48.305774118013254
virtual: 3454
weight: 1
jumpSize: 70
minAnchorPrice: 3405
jumpLog: 0.014184634991956381
anchorLog: 0.0002936426390208065
48.305774118013254
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 6 - block: 3048

          maxBuying: 45172
          maxSelling: 1
          maxBuyingA0: 457366500
          maxSellingA0: 65684674
          maxSwapA0: 65684674
          spotBuying: 65684674
          spotSelling: 10125
          buyingAmount: 6487
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  65691000 > 
        addedSellingA0 65684674

          maxBuying: 31029
          maxSelling: 1
          maxBuyingA0: 4639456080
          maxSellingA0: 2528255
          maxSwapA0: 2528255
          spotBuying: 2528255
          spotSelling: 149520
          buyingAmount: 16
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  2541840 > 
        addedSellingA0 2528255

          maxBuying: 19149
          maxSelling: 1
          maxBuyingA0: 2863158480
          maxSellingA0: 2540135
          maxSwapA0: 2540135
          spotBuying: 2540135
          spotSelling: 149520
          buyingAmount: 16
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  2541840 > 
        addedSellingA0 2540135

          maxBuying: 7269
          maxSelling: 1
          maxBuyingA0: 1086860880
          maxSellingA0: 2552015
          maxSwapA0: 2552015
          spotBuying: 2552015
          spotSelling: 149520
          buyingAmount: 17
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  2691360 > 
        addedSellingA0 2552015
subSwap: 1 sold
valueEquation: 
        addedBuyingA0  2541840 > 
        addedSellingA0 2528255
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 7c794b5420ef262c838c406517a52d62d9ff75aabb8e55a38cd7e567, 
   +     +  virtual: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 2,
   +     +  +  _: 3454,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 519
   +     +  ], 
   +     +  weights: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 100,
   +     +  +  _: 1,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 17
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 100,
   +     +  +  _: 70,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 7c794b5420ef262c838c406517a52d62d9ff75aabb8e55a38cd7e567,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d23a3d6a968679bddc73a04549d838c5130f8b5c211c5c132b46badefc25c8d0),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 9a57c77dd364ae17d97c1db9aecb0e91d4adfb6614d1f5e8508e50bc5afdf135),
   +     +  anchorPrices: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 198,
   +     +  +  _: 3405,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 8735
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2555830,
   +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 1479
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b, )
  boughtAmount: 16
  soldAmount:   1
  boughtSpot:   2528255
  soldSpot:     149520
  (boughtA0:    2392320)
  (soldA0:      2528255)
  boughtExp:    466
  soldExp:      666
  spotPrice:    0.05913960419340612
  eff.Price:    0.0625
  maxBuying:    2555830
  (maxBuyingA0: 382147701600)
)

trials left: 1 - iteration: 7 - block: 4036

          maxBuying: 31029
          maxSelling: 1
          maxBuyingA0: 4639456080
          maxSellingA0: 2528255
          maxSwapA0: 2528255
          spotBuying: 2528255
          spotSelling: 149520
          buyingAmount: 16
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  2541840 > 
        addedSellingA0 2528255

          maxBuying: 19149
          maxSelling: 1
          maxBuyingA0: 2863158480
          maxSellingA0: 2540135
          maxSwapA0: 2540135
          spotBuying: 2540135
          spotSelling: 149520
          buyingAmount: 16
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  2541840 > 
        addedSellingA0 2540135

          maxBuying: 7269
          maxSelling: 1
          maxBuyingA0: 1086860880
          maxSellingA0: 2552015
          maxSwapA0: 2552015
          spotBuying: 2552015
          spotSelling: 149520
          buyingAmount: 17
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  2691360 > 
        addedSellingA0 2552015
subSwap: 17 bought
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 7c794b5420ef262c838c406517a52d62d9ff75aabb8e55a38cd7e567, 
   +     +  virtual: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 2,
   +     +  +  _: 3454,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 519
   +     +  ], 
   +     +  weights: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 100,
   +     +  +  _: 1,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 17
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 100,
   +     +  +  _: 70,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 7c794b5420ef262c838c406517a52d62d9ff75aabb8e55a38cd7e567,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 140419da01f494639d5710573b292f1059a730c71e73f947a2692480f9fa93af),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 9a57c77dd364ae17d97c1db9aecb0e91d4adfb6614d1f5e8508e50bc5afdf135),
   +     +  anchorPrices: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 198,
   +     +  +  _: 3437,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 8735
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2555830,
   +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 1479
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b, )
  boughtAmount: 17
  soldAmount:   1
  boughtSpot:   2552015
  soldSpot:     149520
  (boughtA0:    2541840)
  (soldA0:      2552015)
  boughtExp:    466
  soldExp:      666
  spotPrice:    0.05858899732172421
  eff.Price:    0.058823529411764705
  maxBuying:    17
  (maxBuyingA0: 2541840)
)

trials left: 1 - iteration: 8 - block: 5036

          maxBuying: 45172
          maxSelling: 700
          maxBuyingA0: 457366500
          maxSellingA0: 45979271800
          maxSwapA0: 457366500
          spotBuying: 65684674
          spotSelling: 10125
          buyingAmount: 45172
          sellingAmount: 7
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  65684652 > 
        spotBuying 65684674
valueEquation: 
        addedBuyingA0  457366500 > 
        addedSellingA0 394108044

          maxBuying: 31029
          maxSelling: 13
          maxBuyingA0: 4639456080
          maxSellingA0: 32867315
          maxSwapA0: 32867315
          spotBuying: 2528255
          spotSelling: 149520
          buyingAmount: 219
          sellingAmount: 13
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  32894400 > 
        addedSellingA0 32867315
valueEquation: 
        addedBuyingA0  32744880 > 
        addedSellingA0 30339060

          maxBuying: 19149
          maxSelling: 14
          maxBuyingA0: 2863158480
          maxSellingA0: 35561890
          maxSwapA0: 35561890
          spotBuying: 2540135
          spotSelling: 149520
          buyingAmount: 237
          sellingAmount: 14
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  35585760 > 
        addedSellingA0 35561890
valueEquation: 
        addedBuyingA0  35436240 > 
        addedSellingA0 33021755

          maxBuying: 7269
          maxSelling: 13
          maxBuyingA0: 1086860880
          maxSellingA0: 33176195
          maxSwapA0: 33176195
          spotBuying: 2552015
          spotSelling: 149520
          buyingAmount: 221
          sellingAmount: 13
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  33193440 > 
        addedSellingA0 33176195
valueEquation: 
        addedBuyingA0  33043920 > 
        addedSellingA0 30624180
subSwap: 1 sold
valueEquation: 
        addedBuyingA0  2691360 > 
        addedSellingA0 2552015
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 7c794b5420ef262c838c406517a52d62d9ff75aabb8e55a38cd7e567, 
   +     +  virtual: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 2,
   +     +  +  _: 3454,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 519
   +     +  ], 
   +     +  weights: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 100,
   +     +  +  _: 1,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 17
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 100,
   +     +  +  _: 70,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 7c794b5420ef262c838c406517a52d62d9ff75aabb8e55a38cd7e567,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 140419da01f494639d5710573b292f1059a730c71e73f947a2692480f9fa93af),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 9a57c77dd364ae17d97c1db9aecb0e91d4adfb6614d1f5e8508e50bc5afdf135),
   +     +  anchorPrices: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 198,
   +     +  +  _: 3437,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 8735
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2555830,
   +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 1480
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b, )
  boughtAmount: 17
  soldAmount:   1
  boughtSpot:   2552015
  soldSpot:     149520
  (boughtA0:    2541840)
  (soldA0:      2552015)
  boughtExp:    466
  soldExp:      666
  spotPrice:    0.05858899732172421
  eff.Price:    0.058823529411764705
  maxBuying:    2555830
  (maxBuyingA0: 382147701600)
)

trials left: 1 - iteration: 9 - block: 5037

          maxBuying: 45172
          maxSelling: 700
          maxBuyingA0: 457366500
          maxSellingA0: 45979271800
          maxSwapA0: 457366500
          spotBuying: 65684674
          spotSelling: 10125
          buyingAmount: 45172
          sellingAmount: 7
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  65684652 > 
        spotBuying 65684674
valueEquation: 
        addedBuyingA0  457366500 > 
        addedSellingA0 394108044

          maxBuying: 31029
          maxSelling: 13
          maxBuyingA0: 4639456080
          maxSellingA0: 32867315
          maxSwapA0: 32867315
          spotBuying: 2528255
          spotSelling: 149520
          buyingAmount: 219
          sellingAmount: 13
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  32894400 > 
        addedSellingA0 32867315
valueEquation: 
        addedBuyingA0  32744880 > 
        addedSellingA0 30339060

          maxBuying: 19149
          maxSelling: 14
          maxBuyingA0: 2863158480
          maxSellingA0: 35561890
          maxSwapA0: 35561890
          spotBuying: 2540135
          spotSelling: 149520
          buyingAmount: 237
          sellingAmount: 14
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  35585760 > 
        addedSellingA0 35561890
valueEquation: 
        addedBuyingA0  35436240 > 
        addedSellingA0 33021755

          maxBuying: 7269
          maxSelling: 12
          maxBuyingA0: 1086860880
          maxSellingA0: 30624180
          maxSwapA0: 30624180
          spotBuying: 2552015
          spotSelling: 149520
          buyingAmount: 204
          sellingAmount: 12
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  30651600 > 
        addedSellingA0 30624180
valueEquation: 
        addedBuyingA0  30502080 > 
        addedSellingA0 28072165
subSwap: 170 bought
valueEquation: 
        addedBuyingA0  25418400 > 
        addedSellingA0 25401350
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 7c794b5420ef262c838c406517a52d62d9ff75aabb8e55a38cd7e567, 
   +     +  virtual: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 2,
   +     +  +  _: 3454,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 519
   +     +  ], 
   +     +  weights: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 100,
   +     +  +  _: 1,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 17
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 100,
   +     +  +  _: 70,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 7c794b5420ef262c838c406517a52d62d9ff75aabb8e55a38cd7e567,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 1c0dcdba20f3f7352a741b0b2dc54eea297ccf0ea7cb87a8509e7f55bf1d67ba),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 9a57c77dd364ae17d97c1db9aecb0e91d4adfb6614d1f5e8508e50bc5afdf135),
   +     +  anchorPrices: +[
   +     +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 198,
   +     +  +  _: 3421,
   +     +  +  f2973e33af9d7fde967642a7d65f40e9c2e40c9c27eb6d49c0dc1d44_YV00CB6VKdPdq12zGcExYHkH9Rz1hi3a: 8735
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2555830,
   +  +  329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b_: 1479
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(329dbc549762462626309e833f7c4962c053218de03be4c5aa1b289b, )
  boughtAmount: 170
  soldAmount:   11
  boughtSpot:   2540135
  soldSpot:     149520
  (boughtA0:    25418400)
  (soldA0:      27941485)
  boughtExp:    466
  soldExp:      666
  spotPrice:    0.058863013186307024
  eff.Price:    0.06470588235294118
  maxBuying:    170
  (maxBuyingA0: 25418400)
)

trials left: 1 - iteration: 10 - block: 5038
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 868
weight: 1
jumpSize: 15
minAnchorPrice: 813
jumpLog: 0.06453852113757116
anchorLog: 0.0012292564547296896
52.50208033421555
maxTicks: 1
maxTicks_: 52
1
virtual: 9000
weight: 1
jumpSize: 49
minAnchorPrice: 8820
jumpLog: 0.02020270731751947
anchorLog: 0.00011337225793001097
178.19797970321252
maxTicks: 1
maxTicks_: 178
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 5039

          maxBuying: 45172
          maxSelling: 700
          maxBuyingA0: 457366500
          maxSellingA0: 45979271800
          maxSwapA0: 457366500
          spotBuying: 65684674
          spotSelling: 10125
          buyingAmount: 45172
          sellingAmount: 7
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  65684652 > 
        spotBuying 65684674
valueEquation: 
        addedBuyingA0  457366500 > 
        addedSellingA0 394108044

          maxBuying: 31029
          maxSelling: 2
          maxBuyingA0: 4639456080
          maxSellingA0: 5056510
          maxSwapA0: 5056510
          spotBuying: 2528255
          spotSelling: 149520
          buyingAmount: 33
          sellingAmount: 2
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  5083680 > 
        addedSellingA0 5056510
valueEquation: 
        addedBuyingA0  4934160 > 
        addedSellingA0 2528255

          maxBuying: 19149
          maxSelling: 2
          maxBuyingA0: 2863158480
          maxSellingA0: 5080270
          maxSwapA0: 5080270
          spotBuying: 2540135
          spotSelling: 149520
          buyingAmount: 33
          sellingAmount: 2
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  5083680 > 
        addedSellingA0 5080270
valueEquation: 
        addedBuyingA0  4934160 > 
        addedSellingA0 2540135

          maxBuying: 7269
          maxSelling: 2
          maxBuyingA0: 1086860880
          maxSellingA0: 5104030
          maxSwapA0: 5104030
          spotBuying: 2552015
          spotSelling: 149520
          buyingAmount: 34
          sellingAmount: 2
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  5233200 > 
        addedSellingA0 5104030
valueEquation: 
        addedBuyingA0  5083680 > 
        addedSellingA0 2552015

          maxBuying: 36267
          maxSelling: 88
          maxBuyingA0: 329630763
          maxSellingA0: 226685624
          maxSwapA0: 226685624
          spotBuying: 2575973
          spotSelling: 9089
          buyingAmount: 24940
          sellingAmount: 88
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  226688749 > 
        addedSellingA0 226685624
valueEquation: 
        addedBuyingA0  226679660 > 
        addedSellingA0 224109651
subSwap: 1082 bought
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 378cf10812cb855ded7a707ba60823434b6464747f13d8c4b7b76037, 
   +     +  virtual: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 9000,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 1,
   +     +  +  _: 29
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 8,
   +     +  +  _: 28
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 378cf10812cb855ded7a707ba60823434b6464747f13d8c4b7b76037,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4e162475501e9afcf6b3a3dba8643e9b93a08366558adf683ede979ad5680d7b),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f0c8c465173564ae50e17de7266fb7124f9034a85c787cd9d1afb504400861fb),
   +     +  anchorPrices: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 8000,
   +     +  +  _: 28
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2310160,
   +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 425
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4, 5zWIpU)
  boughtAmount: 1082
  soldAmount:   1
  boughtSpot:   65684674
  soldSpot:     10125
  (boughtA0:    10955250)
  (soldA0:      65684674)
  boughtExp:    418
  soldExp:      2
  spotPrice:    0.00015414554695057176
  eff.Price:    0.0009242144177449168
  maxBuying:    1082
  (maxBuyingA0: 10955250)
)

trials left: 1 - iteration: 12 - block: 6039
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 1
weight: 72
jumpSize: 52
minAnchorPrice: 70
jumpLog: 0.01904819497069441
anchorLog: 0.014184634991956381
1.342875229535056
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 6040
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 4
weight: 100
jumpSize: 100
minAnchorPrice: 396
jumpLog: 0.009950330853168092
anchorLog: 0.002522069432709939
3.9453040919958173
maxTicks: 1
maxTicks_: 3
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 14 - block: 6041
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 4367
maxTicks_: 3119
3
virtual: 1
weight: 75
jumpSize: 4
minAnchorPrice: 60
jumpLog: 0.22314355131420976
anchorLog: 0.016529301951210506
13.499877488647854
maxTicks: 1455
maxTicks_: 13
3
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
virtual: 1
weight: 75
jumpSize: 4
minAnchorPrice: 60
jumpLog: 0.22314355131420976
anchorLog: 0.016529301951210506
13.499877488647854
virtual: 1
weight: 75
jumpSize: 4
minAnchorPrice: 60
jumpLog: 0.22314355131420976
anchorLog: 0.016529301951210506
13.499877488647854
virtual: 1
weight: 75
jumpSize: 4
minAnchorPrice: 60
jumpLog: 0.22314355131420976
anchorLog: 0.016529301951210506
13.499877488647854
virtual: 1
weight: 75
jumpSize: 4
minAnchorPrice: 60
jumpLog: 0.22314355131420976
anchorLog: 0.016529301951210506
13.499877488647854
virtual: 1
weight: 75
jumpSize: 4
minAnchorPrice: 60
jumpLog: 0.22314355131420976
anchorLog: 0.016529301951210506
13.499877488647854
virtual: 1
weight: 75
jumpSize: 4
minAnchorPrice: 60
jumpLog: 0.22314355131420976
anchorLog: 0.016529301951210506
13.499877488647854
Opening pool with 9 dirac utxos and 1 param utxos

trials left: 1 - iteration: 15 - block: 6669
virtual: 1
weight: 57
jumpSize: 1
minAnchorPrice: 28
jumpLog: 0.6931471805599453
anchorLog: 0.03509131981127019
19.752667733441275
maxTicks: 1
maxTicks_: 19
1
virtual: 6574
weight: 1
jumpSize: 100
minAnchorPrice: 6508
jumpLog: 0.009950330853168092
anchorLog: 0.00015364523345884172
64.76172823046655
maxTicks: 1
maxTicks_: 64
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 16 - block: 7009

trials left: 1 - iteration: 17 - block: 7010

          maxBuying: 45172
          maxSelling: 699
          maxBuyingA0: 457366500
          maxSellingA0: 45913587126
          maxSwapA0: 457366500
          spotBuying: 65684674
          spotSelling: 10125
          buyingAmount: 45172
          sellingAmount: 7
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  65684652 > 
        spotBuying 65684674
valueEquation: 
        addedBuyingA0  457366500 > 
        addedSellingA0 394108044

          maxBuying: 120
          maxSelling: 1
          maxBuyingA0: 72120
          maxSellingA0: 17880
          maxSwapA0: 17880
          spotBuying: 17880
          spotSelling: 601
          buyingAmount: 29
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  18030 > 
        addedSellingA0 17880

          maxBuying: 57
          maxSelling: 1
          maxBuyingA0: 34257
          maxSellingA0: 9364
          maxSwapA0: 9364
          spotBuying: 9364
          spotSelling: 601
          buyingAmount: 15
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  9616 > 
        addedSellingA0 9364
subSwap: 22804 bought
valueEquation: 
        addedBuyingA0  230890500 > 
        addedSellingA0 197054022
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 378cf10812cb855ded7a707ba60823434b6464747f13d8c4b7b76037, 
   +     +  virtual: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 9000,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 1,
   +     +  +  _: 29
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 8,
   +     +  +  _: 28
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 378cf10812cb855ded7a707ba60823434b6464747f13d8c4b7b76037,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4e162475501e9afcf6b3a3dba8643e9b93a08366558adf683ede979ad5680d7b),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f0c8c465173564ae50e17de7266fb7124f9034a85c787cd9d1afb504400861fb),
   +     +  anchorPrices: +[
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 8000,
   +     +  +  _: 28
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2310160,
   +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 426
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4, 5zWIpU)
  boughtAmount: 22804
  soldAmount:   4
  boughtSpot:   65684674
  soldSpot:     10125
  (boughtA0:    230890500)
  (soldA0:      262738696)
  boughtExp:    418
  soldExp:      2
  spotPrice:    0.00015414554695057176
  eff.Price:    0.00017540782318891423
  maxBuying:    22804
  (maxBuyingA0: 230890500)
)

trials left: 1 - iteration: 18 - block: 7676

          maxBuying: 31029
          maxSelling: 13
          maxBuyingA0: 4639456080
          maxSellingA0: 32867315
          maxSwapA0: 32867315
          spotBuying: 2528255
          spotSelling: 149520
          buyingAmount: 219
          sellingAmount: 13
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  32894400 > 
        addedSellingA0 32867315
valueEquation: 
        addedBuyingA0  32744880 > 
        addedSellingA0 30339060

          maxBuying: 19149
          maxSelling: 3
          maxBuyingA0: 2863158480
          maxSellingA0: 7620405
          maxSwapA0: 7620405
          spotBuying: 2540135
          spotSelling: 149520
          buyingAmount: 50
          sellingAmount: 3
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  7625520 > 
        addedSellingA0 7620405
valueEquation: 
        addedBuyingA0  7476000 > 
        addedSellingA0 5080270

          maxBuying: 7269
          maxSelling: 12
          maxBuyingA0: 1086860880
          maxSellingA0: 30624180
          maxSwapA0: 30624180
          spotBuying: 2552015
          spotSelling: 149520
          buyingAmount: 204
          sellingAmount: 12
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  30651600 > 
        addedSellingA0 30624180
valueEquation: 
        addedBuyingA0  30502080 > 
        addedSellingA0 28072165

          maxBuying: 120
          maxSelling: 37
          maxBuyingA0: 1134960
          maxSellingA0: 661560
          maxSwapA0: 661560
          spotBuying: 17880
          spotSelling: 9458
          buyingAmount: 69
          sellingAmount: 37
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  662060 > 
        addedSellingA0 661560
valueEquation: 
        addedBuyingA0  652602 > 
        addedSellingA0 643680

          maxBuying: 1
          maxSelling: 37
          maxBuyingA0: 9458
          maxSellingA0: 14763
          maxSwapA0: 9458
          spotBuying: 399
          spotSelling: 9458
          buyingAmount: 1
          sellingAmount: 24
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  9458 > 
        addedSellingA0 9177
subSwap: 1 bought
valueEquation: 
        addedBuyingA0  9458 > 
        addedSellingA0 9177
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 2610bb66f75a7ac4d28d5cf86c82e781fa9369899e2bb8b2b257e4b1, 
   +     +  virtual: +[
   +     +  +  bc22344ac5de714b02830ef0d0a77a931c9b9909d7160e04b3f2a8c4_: 9000,
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 4,
   +     +  +  3f17de129a40280a823f0239808560c2124a0e2d3ef9ac2b96fdb5cd_: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  bc22344ac5de714b02830ef0d0a77a931c9b9909d7160e04b3f2a8c4_: 1,
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 100,
   +     +  +  3f17de129a40280a823f0239808560c2124a0e2d3ef9ac2b96fdb5cd_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  bc22344ac5de714b02830ef0d0a77a931c9b9909d7160e04b3f2a8c4_: 100,
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 100,
   +     +  +  3f17de129a40280a823f0239808560c2124a0e2d3ef9ac2b96fdb5cd_: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 2610bb66f75a7ac4d28d5cf86c82e781fa9369899e2bb8b2b257e4b1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: ca883f0603d9e82afeb9f4350d4ce39acdae7fcf6cda6fbf96eb36887d27a7d9),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 2abeab0a4fce76a656345a5d3af3171af30767e27761c7bcd0a2bd5b26ff2b99),
   +     +  anchorPrices: +[
   +     +  +  bc22344ac5de714b02830ef0d0a77a931c9b9909d7160e04b3f2a8c4_: 8910,
   +     +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 396,
   +     +  +  3f17de129a40280a823f0239808560c2124a0e2d3ef9ac2b96fdb5cd_: 8910
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2887700,
   +  +  3f17de129a40280a823f0239808560c2124a0e2d3ef9ac2b96fdb5cd_: 421,
   +  +  b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4_5zWIpU: 1,
   +  +  bc22344ac5de714b02830ef0d0a77a931c9b9909d7160e04b3f2a8c4_: 9000
   +  ]
     )
  boughtAsset:  Asset(b981ade7ffc21b361f14f005f5929a92ba3bf488304ee2d9116853e4, 5zWIpU)
  soldAsset:    Asset(3f17de129a40280a823f0239808560c2124a0e2d3ef9ac2b96fdb5cd, )
  boughtAmount: 1
  soldAmount:   24
  boughtSpot:   399
  soldSpot:     9458
  (boughtA0:    9458)
  (soldA0:      9576)
  boughtExp:    1
  soldExp:      6
  spotPrice:    23.704260651629074
  eff.Price:    24
  maxBuying:    1
  (maxBuyingA0: 9458)
)

trials left: 1 - iteration: 19 - block: 8676
traces.length: 20
Opening: 9
Closing: 3
Swapping: 8
--- DONE ---
Opening: 9
Closing: 3
Swapping: 8
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(7s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(26s)[0m

