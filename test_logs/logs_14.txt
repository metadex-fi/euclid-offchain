[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 2

trials left: 1 - iteration: 0 - block: 0
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 705
virtual: 1
weight: 11
jumpSize: 10
minAnchorPrice: 10
jumpLog: 0.09531017980432493
anchorLog: 0.09531017980432493
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 39
minAnchorPrice: 8775
jumpLog: 0.025317807984289786
anchorLog: 0.00011395362099964392
222.17642372565678
maxTicks: 1
maxTicks_: 222
1
virtual: 1
weight: 70
jumpSize: 1
minAnchorPrice: 35
jumpLog: 0.6931471805599453
anchorLog: 0.028170876966696224
24.605097717738357
maxTicks: 1
maxTicks_: 24
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 866
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 9000
weight: 1
jumpSize: 29
minAnchorPrice: 8700
jumpLog: 0.033901551675681416
anchorLog: 0.00011493592334937207
294.96045002945226
maxTicks: 1
maxTicks_: 294
1
virtual: 1
weight: 100
jumpSize: 91
minAnchorPrice: 98
jumpLog: 0.01092907053219023
anchorLog: 0.010152371464017908
1.0765042011046486
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 1372

trials left: 1 - iteration: 4 - block: 2372
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 1641
weight: 4
jumpSize: 1
minAnchorPrice: 3282
jumpLog: 0.6931471805599453
anchorLog: 0.0003046458515564185
2275.2556025913213
maxTicks: 1
maxTicks_: 2275
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 2373
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 8998
maxTicks_: 35
3
virtual: 2
weight: 80
jumpSize: 100
minAnchorPrice: 158
jumpLog: 0.009950330853168092
anchorLog: 0.006309169193264756
1.5771222087038648
maxTicks: 8998
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 6 - block: 2374
virtual: 1
weight: 100
jumpSize: 88
minAnchorPrice: 98
jumpLog: 0.011299555253933466
anchorLog: 0.010152371464017908
1.112996632755353
maxTicks: 1
maxTicks_: 1
1
virtual: 2
weight: 77
jumpSize: 100
minAnchorPrice: 152
jumpLog: 0.009950330853168092
anchorLog: 0.0065574005461590396
1.5174200177532913
maxTicks: 1
maxTicks_: 1
1
virtual: 2617
weight: 3
jumpSize: 100
minAnchorPrice: 7773
jumpLog: 0.009950330853168092
anchorLog: 0.00012864218194875518
77.34889678046522
maxTicks: 1
maxTicks_: 77
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 2375

          maxBuying: 12403
          maxSelling: 1
          maxBuyingA0: 421702
          maxSellingA0: 2819647
          maxSwapA0: 421702
          spotBuying: 2819647
          spotSelling: 34
          buyingAmount: 12403
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2832050 > 
        spotBuying 2891945
boughtAssetForSale (new):
        sellingAmm  33 > 
        spotSelling 31

          maxBuying: 1
          maxSelling: 114
          maxBuyingA0: 13984
          maxSellingA0: 1026000
          maxSwapA0: 13984
          spotBuying: 9000
          spotSelling: 13984
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9001 > 
        spotBuying 18000
boughtAssetForSale (old):
        sellingAmm  13870 > 
        spotSelling 13518

          maxBuying: 1
          maxSelling: 114
          maxBuyingA0: 13984
          maxSellingA0: 444258
          maxSwapA0: 13984
          spotBuying: 3897
          spotSelling: 13984
          buyingAmount: 1
          sellingAmount: 4
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  3900 > 
        spotBuying 3940
boughtAssetForSale (old):
        sellingAmm  13870 > 
        spotSelling 13518

          maxBuying: 1
          maxSelling: 1
          maxBuyingA0: 4116
          maxSellingA0: 9000
          maxSwapA0: 4116
          spotBuying: 9000
          spotSelling: 4116
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9001 > 
        spotBuying 18000
boughtAssetForSale (new):
        sellingAmm  4100 > 
        spotSelling 4071

          maxBuying: 352
          maxSelling: 1
          maxBuyingA0: 1448832
          maxSellingA0: 13518
          maxSwapA0: 13518
          spotBuying: 13518
          spotSelling: 4116
          buyingAmount: 3
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  13870 > 
        spotBuying 13984
boughtAssetForSale (new):
        sellingAmm  4100 > 
        spotSelling 4071

          maxBuying: 1
          maxSelling: 1
          maxBuyingA0: 308
          maxSellingA0: 7850
          maxSwapA0: 308
          spotBuying: 7850
          spotSelling: 308
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  7854 > 
        spotBuying 7929
boughtAssetForSale (new):
        sellingAmm  308 > 
        spotSelling 305
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  13870 > 
        spotBuying 13984
boughtAssetForSale (new):
        sellingAmm  4100 > 
        spotSelling 4071
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: d700d7de8af263e4497fe68b8463c757bcc3cb8d99cdfeba7855fa88, 
   +     +  virtual: +[
   +     +  +  6290584a6181d9ed00b703b9c24121832de8fe4a299fe90a4da50503_sQInm9J8RtxC8Wy2lDjVRuKq5Ghn4gRV: 9000,
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 9000,
   +     +  +  0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698_: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  6290584a6181d9ed00b703b9c24121832de8fe4a299fe90a4da50503_sQInm9J8RtxC8Wy2lDjVRuKq5Ghn4gRV: 1,
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 1,
   +     +  +  0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698_: 100
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  6290584a6181d9ed00b703b9c24121832de8fe4a299fe90a4da50503_sQInm9J8RtxC8Wy2lDjVRuKq5Ghn4gRV: 1,
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 29,
   +     +  +  0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698_: 91
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: d700d7de8af263e4497fe68b8463c757bcc3cb8d99cdfeba7855fa88,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: a8519a7ac27f5d1cb077a5d5ecce7ea90f870a4b72f6c5d30247cad1748012e6),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f7fab32620df02ffe9ace0ad8eb667828cbe95ca6d955dcea7583dcd9c0c781a),
   +     +  anchorPrices: +[
   +     +  +  6290584a6181d9ed00b703b9c24121832de8fe4a299fe90a4da50503_sQInm9J8RtxC8Wy2lDjVRuKq5Ghn4gRV: 4500,
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 8700,
   +     +  +  0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698_: 98
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3111820,
   +  +  0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698_: 39,
   +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 4870,
   +  +  6290584a6181d9ed00b703b9c24121832de8fe4a299fe90a4da50503_sQInm9J8RtxC8Wy2lDjVRuKq5Ghn4gRV: 1
   +  ]
     )
  boughtAsset:  Asset(15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5, )
  soldAsset:    Asset(0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698, )
  boughtAmount: 3
  soldAmount:   1
  boughtSpot:   13518
  soldSpot:     4116
  (boughtA0:    12348)
  (soldA0:      13518)
  boughtExp:    13
  soldExp:      342
  spotPrice:    0.3044829116733245
  eff.Price:    0.3333333333333333
  maxBuying:    4870
  (maxBuyingA0: 20044920)
)

trials left: 1 - iteration: 8 - block: 2376

trials left: 1 - iteration: 9 - block: 2412
virtual: 754
weight: 1
jumpSize: 100
minAnchorPrice: 746
jumpLog: 0.009950330853168092
anchorLog: 0.0013395849290563455
7.4279208711145195
maxTicks: 3861
maxTicks_: 7
3
virtual: 629
weight: 4
jumpSize: 100
minAnchorPrice: 2491
jumpLog: 0.009950330853168092
anchorLog: 0.0004013646451634026
24.791248987855266
maxTicks: 1930
maxTicks_: 24
3
virtual: 2597
weight: 1
jumpSize: 1
minAnchorPrice: 1298
jumpLog: 0.6931471805599453
anchorLog: 0.0007701194065642521
900.051569473227
maxTicks: 1930
maxTicks_: 900
3
virtual: 754
weight: 1
jumpSize: 100
minAnchorPrice: 746
jumpLog: 0.009950330853168092
anchorLog: 0.0013395849290563455
7.4279208711145195
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 3412
virtual: 2
weight: 68
jumpSize: 100
minAnchorPrice: 134
jumpLog: 0.009950330853168092
anchorLog: 0.0074349784875179905
1.3383133347154845
maxTicks: 9000
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 9000
maxTicks_: 88
3
virtual: 7743
weight: 2
jumpSize: 1
minAnchorPrice: 7743
jumpLog: 0.6931471805599453
anchorLog: 0.00012914056968931149
5367.385185209653
maxTicks: 3000
maxTicks_: 5367
3
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
virtual: 7743
weight: 2
jumpSize: 1
minAnchorPrice: 7743
jumpLog: 0.6931471805599453
anchorLog: 0.00012914056968931149
5367.385185209653
virtual: 7743
weight: 2
jumpSize: 1
minAnchorPrice: 7743
jumpLog: 0.6931471805599453
anchorLog: 0.00012914056968931149
5367.385185209653
virtual: 7743
weight: 2
jumpSize: 1
minAnchorPrice: 7743
jumpLog: 0.6931471805599453
anchorLog: 0.00012914056968931149
5367.385185209653
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 3413

          maxBuying: 1
          maxSelling: 117
          maxBuyingA0: 13984
          maxSellingA0: 1053000
          maxSwapA0: 13984
          spotBuying: 9000
          spotSelling: 13984
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9001 > 
        spotBuying 18000
boughtAssetForSale (old):
        sellingAmm  13867 > 
        spotSelling 13518

          maxBuying: 1
          maxSelling: 117
          maxBuyingA0: 13984
          maxSellingA0: 466011
          maxSwapA0: 13984
          spotBuying: 3983
          spotSelling: 13984
          buyingAmount: 1
          sellingAmount: 4
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  4000 > 
        spotBuying 4027
boughtAssetForSale (old):
        sellingAmm  13867 > 
        spotSelling 13518

          maxBuying: 1
          maxSelling: 1
          maxBuyingA0: 4207
          maxSellingA0: 9000
          maxSwapA0: 4207
          spotBuying: 9000
          spotSelling: 4207
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9001 > 
        spotBuying 18000
boughtAssetForSale (new):
        sellingAmm  4200 > 
        spotSelling 4161

          maxBuying: 349
          maxSelling: 1
          maxBuyingA0: 1468243
          maxSellingA0: 13518
          maxSwapA0: 13518
          spotBuying: 13518
          spotSelling: 4207
          buyingAmount: 3
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  13867 > 
        spotBuying 13984
boughtAssetForSale (new):
        sellingAmm  4200 > 
        spotSelling 4161

          maxBuying: 1
          maxSelling: 1
          maxBuyingA0: 308
          maxSellingA0: 7850
          maxSwapA0: 308
          spotBuying: 7850
          spotSelling: 308
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  7854 > 
        spotBuying 7929
boughtAssetForSale (new):
        sellingAmm  308 > 
        spotSelling 305

          maxBuying: 1233585
          maxSelling: 8
          maxBuyingA0: 3320810820
          maxSellingA0: 10633216
          maxSwapA0: 10633216
          spotBuying: 1329152
          spotSelling: 2692
          buyingAmount: 3949
          sellingAmount: 8
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2562737 > 
        spotBuying 2658304
boughtAssetForSale (old):
        sellingAmm  2684 > 
        spotSelling 2666

          maxBuying: 1233585
          maxSelling: 19
          maxBuyingA0: 3334380255
          maxSellingA0: 25253888
          maxSwapA0: 25253888
          spotBuying: 1329152
          spotSelling: 2703
          buyingAmount: 9342
          sellingAmount: 19
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2562737 > 
        spotBuying 2658304
boughtAssetForSale (old):
        sellingAmm  2684 > 
        spotSelling 2676
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  2562737 > 
        spotBuying 2658304
boughtAssetForSale (old):
        sellingAmm  2684 > 
        spotSelling 2676
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: d700d7de8af263e4497fe68b8463c757bcc3cb8d99cdfeba7855fa88, 
   +     +  virtual: +[
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 754,
   +     +  +  dc0d19b66adb0ce5fb1b99453a1a1f500651c48d2d356564987c5e17_LMrdtKlD3mftjFsTpvKnwP8xQ3ZsOd73: 629,
   +     +  +  _: 2597
   +     +  ], 
   +     +  weights: +[
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 1,
   +     +  +  dc0d19b66adb0ce5fb1b99453a1a1f500651c48d2d356564987c5e17_LMrdtKlD3mftjFsTpvKnwP8xQ3ZsOd73: 4,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 100,
   +     +  +  dc0d19b66adb0ce5fb1b99453a1a1f500651c48d2d356564987c5e17_LMrdtKlD3mftjFsTpvKnwP8xQ3ZsOd73: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: d700d7de8af263e4497fe68b8463c757bcc3cb8d99cdfeba7855fa88,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 771ccc737b69bcdc864070457e2c562a27f34b5e3cddc39cbd9d546d33c2c343),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8383b8fac2d3638d1668f9d3ce36fbb23af6a168181d13f57606a4c0d3e9f895),
   +     +  anchorPrices: +[
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 749,
   +     +  +  dc0d19b66adb0ce5fb1b99453a1a1f500651c48d2d356564987c5e17_LMrdtKlD3mftjFsTpvKnwP8xQ3ZsOd73: 2491,
   +     +  +  _: 1298
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2560140,
   +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 1930
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5, )
  boughtAmount: 491
  soldAmount:   1
  boughtSpot:   1329152
  soldSpot:     2703
  (boughtA0:    1327173)
  (soldA0:      1329152)
  boughtExp:    10
  soldExp:      129
  spotPrice:    0.0020336274557010785
  eff.Price:    0.002036659877800407
  maxBuying:    2560140
  (maxBuyingA0: 6920058420)
)

trials left: 1 - iteration: 12 - block: 4413

          maxBuying: 1
          maxSelling: 117
          maxBuyingA0: 13984
          maxSellingA0: 1053000
          maxSwapA0: 13984
          spotBuying: 9000
          spotSelling: 13984
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9001 > 
        spotBuying 18000
boughtAssetForSale (old):
        sellingAmm  13867 > 
        spotSelling 13518

          maxBuying: 1
          maxSelling: 117
          maxBuyingA0: 13984
          maxSellingA0: 466011
          maxSwapA0: 13984
          spotBuying: 3983
          spotSelling: 13984
          buyingAmount: 1
          sellingAmount: 4
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  4000 > 
        spotBuying 4027
boughtAssetForSale (old):
        sellingAmm  13867 > 
        spotSelling 13518

          maxBuying: 1
          maxSelling: 1
          maxBuyingA0: 4207
          maxSellingA0: 9000
          maxSwapA0: 4207
          spotBuying: 9000
          spotSelling: 4207
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9001 > 
        spotBuying 18000
boughtAssetForSale (new):
        sellingAmm  4200 > 
        spotSelling 4161

          maxBuying: 349
          maxSelling: 1
          maxBuyingA0: 1468243
          maxSellingA0: 13518
          maxSwapA0: 13518
          spotBuying: 13518
          spotSelling: 4207
          buyingAmount: 3
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  13867 > 
        spotBuying 13984
boughtAssetForSale (new):
        sellingAmm  4200 > 
        spotSelling 4161

          maxBuying: 1
          maxSelling: 1
          maxBuyingA0: 308
          maxSellingA0: 7850
          maxSwapA0: 308
          spotBuying: 7850
          spotSelling: 308
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  7854 > 
        spotBuying 7929
boughtAssetForSale (new):
        sellingAmm  308 > 
        spotSelling 305

          maxBuying: 1233585
          maxSelling: 8
          maxBuyingA0: 3320810820
          maxSellingA0: 10633216
          maxSwapA0: 10633216
          spotBuying: 1329152
          spotSelling: 2692
          buyingAmount: 3949
          sellingAmount: 8
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2562737 > 
        spotBuying 2658304
boughtAssetForSale (old):
        sellingAmm  2684 > 
        spotSelling 2666

          maxBuying: 1233585
          maxSelling: 18
          maxBuyingA0: 3334380255
          maxSellingA0: 23924736
          maxSwapA0: 23924736
          spotBuying: 1329152
          spotSelling: 2703
          buyingAmount: 8851
          sellingAmount: 18
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2562737 > 
        spotBuying 2658304
boughtAssetForSale (old):
        sellingAmm  2685 > 
        spotSelling 2676
subSwap: 3 sold
subSwap: 1 bought
boughtAssetForSale (new): 
        buyingAmm  4000 > 
        spotBuying 4027
boughtAssetForSale (old):
        sellingAmm  13867 > 
        spotSelling 13518
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: d700d7de8af263e4497fe68b8463c757bcc3cb8d99cdfeba7855fa88, 
   +     +  virtual: +[
   +     +  +  6290584a6181d9ed00b703b9c24121832de8fe4a299fe90a4da50503_sQInm9J8RtxC8Wy2lDjVRuKq5Ghn4gRV: 9000,
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 9000,
   +     +  +  0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698_: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  6290584a6181d9ed00b703b9c24121832de8fe4a299fe90a4da50503_sQInm9J8RtxC8Wy2lDjVRuKq5Ghn4gRV: 1,
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 1,
   +     +  +  0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698_: 100
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  6290584a6181d9ed00b703b9c24121832de8fe4a299fe90a4da50503_sQInm9J8RtxC8Wy2lDjVRuKq5Ghn4gRV: 1,
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 29,
   +     +  +  0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698_: 91
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: d700d7de8af263e4497fe68b8463c757bcc3cb8d99cdfeba7855fa88,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: a8519a7ac27f5d1cb077a5d5ecce7ea90f870a4b72f6c5d30247cad1748012e6),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f7fab32620df02ffe9ace0ad8eb667828cbe95ca6d955dcea7583dcd9c0c781a),
   +     +  anchorPrices: +[
   +     +  +  6290584a6181d9ed00b703b9c24121832de8fe4a299fe90a4da50503_sQInm9J8RtxC8Wy2lDjVRuKq5Ghn4gRV: 4500,
   +     +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 8700,
   +     +  +  0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698_: 98
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3111820,
   +  +  0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698_: 40,
   +  +  15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5_: 4867,
   +  +  6290584a6181d9ed00b703b9c24121832de8fe4a299fe90a4da50503_sQInm9J8RtxC8Wy2lDjVRuKq5Ghn4gRV: 1
   +  ]
     )
  boughtAsset:  Asset(0e83f9a795f971c2dec755f890e9f066d39140f966256cb7301ee698, )
  soldAsset:    Asset(15cd6d90e211fb30cf5aa51a9cfc5db15940d18491ac93378fc280a5, )
  boughtAmount: 1
  soldAmount:   4
  boughtSpot:   3983
  soldSpot:     13984
  (boughtA0:    13984)
  (soldA0:      15932)
  boughtExp:    339
  soldExp:      14
  spotPrice:    3.5109214160180766
  eff.Price:    4
  maxBuying:    1
  (maxBuyingA0: 13984)
)

trials left: 1 - iteration: 13 - block: 4757
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 1
maxTicks_: 1
1
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 14 - block: 4998

trials left: 1 - iteration: 15 - block: 5978

          maxBuying: 25773
          maxSelling: 2
          maxBuyingA0: 206184
          maxSellingA0: 284882820
          maxSwapA0: 206184
          spotBuying: 142441410
          spotSelling: 8
          buyingAmount: 25773
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  143755842 > 
        spotBuying 143865824
boughtAssetForSale (new):
        sellingAmm  6 > 
        spotSelling 4
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  143755842 > 
        spotBuying 143865824
boughtAssetForSale (new):
        sellingAmm  6 > 
        spotSelling 4
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: f5145115de723f948ebef3e5f8de5ffdf129f8b3b5b93954210ca49d, 
   +     +  virtual: +[
   +     +  +  9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256_G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz: 1,
   +     +  +  21c45930aa5a658174470991e85dc9ffa75e552719eb8bac4b2b51ac_HZ53P0jalWRTrVxuOMl1r8VSRDPxYnzD: 2,
   +     +  +  _: 2
   +     +  ], 
   +     +  weights: +[
   +     +  +  9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256_G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz: 2,
   +     +  +  21c45930aa5a658174470991e85dc9ffa75e552719eb8bac4b2b51ac_HZ53P0jalWRTrVxuOMl1r8VSRDPxYnzD: 100,
   +     +  +  _: 51
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256_G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz: 1,
   +     +  +  21c45930aa5a658174470991e85dc9ffa75e552719eb8bac4b2b51ac_HZ53P0jalWRTrVxuOMl1r8VSRDPxYnzD: 100,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: f5145115de723f948ebef3e5f8de5ffdf129f8b3b5b93954210ca49d,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8fcbb84acafa5679e124764446643cb080f0e72b57664b72a7247f3a180f89f8),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 38b4e3ab9fea4603cdaf25cff78b2a44b4fa3df90043738987bc74cb63102eab),
   +     +  anchorPrices: +[
   +     +  +  9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256_G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz: 1,
   +     +  +  21c45930aa5a658174470991e85dc9ffa75e552719eb8bac4b2b51ac_HZ53P0jalWRTrVxuOMl1r8VSRDPxYnzD: 198,
   +     +  +  _: 100
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2818740,
   +  +  9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256_G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz: 1
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256, G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz)
  boughtAmount: 25773
  soldAmount:   1
  boughtSpot:   142441410
  soldSpot:     8
  (boughtA0:    206184)
  (soldA0:      142441410)
  boughtExp:    1424
  soldExp:      3
  spotPrice:    5.6163442920145205e-8
  eff.Price:    0.000038800294882241104
  maxBuying:    2818740
  (maxBuyingA0: 22549920)
)

trials left: 1 - iteration: 16 - block: 6978
virtual: 4686
weight: 1
jumpSize: 1
minAnchorPrice: 2343
jumpLog: 0.6931471805599453
anchorLog: 0.0004267121891076239
1624.3903929941923
maxTicks: 8997
maxTicks_: 1624
3
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 4498
maxTicks_: 1
1
virtual: 1192
weight: 7
jumpSize: 100
minAnchorPrice: 8261
jumpLog: 0.009950330853168092
anchorLog: 0.00012104339420458689
82.20465824306031
maxTicks: 4498
maxTicks_: 82
3
virtual: 4686
weight: 1
jumpSize: 1
minAnchorPrice: 2343
jumpLog: 0.6931471805599453
anchorLog: 0.0004267121891076239
1624.3903929941923
virtual: 1192
weight: 7
jumpSize: 100
minAnchorPrice: 8261
jumpLog: 0.009950330853168092
anchorLog: 0.00012104339420458689
82.20465824306031
virtual: 1192
weight: 7
jumpSize: 100
minAnchorPrice: 8261
jumpLog: 0.009950330853168092
anchorLog: 0.00012104339420458689
82.20465824306031
Opening pool with 4 dirac utxos and 1 param utxos

trials left: 1 - iteration: 17 - block: 7978
virtual: 2781
weight: 3
jumpSize: 1
minAnchorPrice: 4171
jumpLog: 0.6931471805599453
anchorLog: 0.00023972192371787013
2891.4634498583177
maxTicks: 1
maxTicks_: 2891
1
virtual: 276
weight: 1
jumpSize: 100
minAnchorPrice: 273
jumpLog: 0.009950330853168092
anchorLog: 0.003656311203110479
2.7214124565499773
maxTicks: 1
maxTicks_: 2
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 7979

          maxBuying: 1
          maxSelling: 113
          maxBuyingA0: 13984
          maxSellingA0: 1017000
          maxSwapA0: 13984
          spotBuying: 9000
          spotSelling: 13984
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9001 > 
        spotBuying 18000
boughtAssetForSale (old):
        sellingAmm  13871 > 
        spotSelling 13518

          maxBuying: 1
          maxSelling: 113
          maxBuyingA0: 13984
          maxSellingA0: 440361
          maxSwapA0: 13984
          spotBuying: 3897
          spotSelling: 13984
          buyingAmount: 1
          sellingAmount: 4
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  3900 > 
        spotBuying 3940
boughtAssetForSale (old):
        sellingAmm  13871 > 
        spotSelling 13518

          maxBuying: 1
          maxSelling: 1
          maxBuyingA0: 4116
          maxSellingA0: 9000
          maxSwapA0: 4116
          spotBuying: 9000
          spotSelling: 4116
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9001 > 
        spotBuying 18000
boughtAssetForSale (new):
        sellingAmm  4100 > 
        spotSelling 4071

          maxBuying: 353
          maxSelling: 1
          maxBuyingA0: 1452948
          maxSellingA0: 13518
          maxSwapA0: 13518
          spotBuying: 13518
          spotSelling: 4116
          buyingAmount: 3
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  13871 > 
        spotBuying 13984
boughtAssetForSale (new):
        sellingAmm  4100 > 
        spotSelling 4071

          maxBuying: 1
          maxSelling: 1
          maxBuyingA0: 308
          maxSellingA0: 7850
          maxSwapA0: 308
          spotBuying: 7850
          spotSelling: 308
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  7854 > 
        spotBuying 7929
boughtAssetForSale (new):
        sellingAmm  308 > 
        spotSelling 305

          maxBuying: 1233585
          maxSelling: 8
          maxBuyingA0: 3320810820
          maxSellingA0: 10633216
          maxSwapA0: 10633216
          spotBuying: 1329152
          spotSelling: 2692
          buyingAmount: 3949
          sellingAmount: 8
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2562737 > 
        spotBuying 2658304
boughtAssetForSale (old):
        sellingAmm  2684 > 
        spotSelling 2666

          maxBuying: 1233585
          maxSelling: 18
          maxBuyingA0: 3334380255
          maxSellingA0: 23924736
          maxSwapA0: 23924736
          spotBuying: 1329152
          spotSelling: 2703
          buyingAmount: 8851
          sellingAmount: 18
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2562737 > 
        spotBuying 2658304
boughtAssetForSale (old):
        sellingAmm  2685 > 
        spotSelling 2676

          maxBuying: 25773
          maxSelling: 1
          maxBuyingA0: 206184
          maxSellingA0: 142441410
          maxSwapA0: 206184
          spotBuying: 142441410
          spotSelling: 8
          buyingAmount: 25773
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  143755842 > 
        spotBuying 143865824
boughtAssetForSale (old):
        sellingAmm  6 > 
        spotSelling 4

          maxBuying: 21417
          maxSelling: 2437
          maxBuyingA0: 200720124
          maxSellingA0: 47739852763
          maxSwapA0: 200720124
          spotBuying: 19589599
          spotSelling: 9372
          buyingAmount: 21417
          sellingAmount: 11
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  19739524 > 
        spotBuying 19785495
boughtAssetForSale (old):
        sellingAmm  6935 > 
        spotSelling 4686

          maxBuying: 21417
          maxSelling: 6231
          maxBuyingA0: 283818084
          maxSellingA0: 122062791369
          maxSwapA0: 283818084
          spotBuying: 19589599
          spotSelling: 13252
          buyingAmount: 21417
          sellingAmount: 15
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  19739524 > 
        spotBuying 19785495
boughtAssetForSale (old):
        sellingAmm  6935 > 
        spotSelling 6626

          maxBuying: 7528
          maxSelling: 2437
          maxBuyingA0: 70552416
          maxSellingA0: 47976787651
          maxSwapA0: 70552416
          spotBuying: 19686823
          spotSelling: 9372
          buyingAmount: 7528
          sellingAmount: 4
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  19739524 > 
        spotBuying 19883691
boughtAssetForSale (old):
        sellingAmm  6935 > 
        spotSelling 4686

          maxBuying: 7528
          maxSelling: 6231
          maxBuyingA0: 99761056
          maxSellingA0: 122668594113
          maxSwapA0: 99761056
          spotBuying: 19686823
          spotSelling: 13252
          buyingAmount: 7528
          sellingAmount: 6
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  19739524 > 
        spotBuying 19883691
boughtAssetForSale (old):
        sellingAmm  6935 > 
        spotSelling 6626

          maxBuying: 398750
          maxSelling: 2779
          maxBuyingA0: 6652745000
          maxSellingA0: 6402816000
          maxSwapA0: 6402816000
          spotBuying: 2304000
          spotSelling: 16684
          buyingAmount: 383769
          sellingAmount: 2779
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2702750 > 
        spotBuying 4608000
boughtAssetForSale (old):
        sellingAmm  8346 > 
        spotSelling 8342
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  19739524 > 
        spotBuying 19785495
boughtAssetForSale (old):
        sellingAmm  6935 > 
        spotSelling 6626
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: f5145115de723f948ebef3e5f8de5ffdf129f8b3b5b93954210ca49d, 
   +     +  virtual: +[
   +     +  +  9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256_G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz: 4686,
   +     +  +  02b22296654723be00d9188fdec8b6adc3cf46782ad026b4e4f3b767_6Q9uU3OxWIHS7Pjp4wMPtJ5vTcVZ: 1,
   +     +  +  _: 1192
   +     +  ], 
   +     +  weights: +[
   +     +  +  9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256_G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz: 1,
   +     +  +  02b22296654723be00d9188fdec8b6adc3cf46782ad026b4e4f3b767_6Q9uU3OxWIHS7Pjp4wMPtJ5vTcVZ: 2,
   +     +  +  _: 7
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256_G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz: 1,
   +     +  +  02b22296654723be00d9188fdec8b6adc3cf46782ad026b4e4f3b767_6Q9uU3OxWIHS7Pjp4wMPtJ5vTcVZ: 1,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: f5145115de723f948ebef3e5f8de5ffdf129f8b3b5b93954210ca49d,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: e98d5435f8aa08098df66646bc637fdbc7a08ec81ba9997ce5e7692208a461aa),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f1d3afc6250f00acea294802ff5892de6a999d3ae96c134913b492c16ade790e),
   +     +  anchorPrices: +[
   +     +  +  9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256_G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz: 3313,
   +     +  +  02b22296654723be00d9188fdec8b6adc3cf46782ad026b4e4f3b767_6Q9uU3OxWIHS7Pjp4wMPtJ5vTcVZ: 1,
   +     +  +  _: 8261
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2818740,
   +  +  9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256_G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz: 2249
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(9f96b7eaf4f34fc464891400aebdebfaf897f6795c3e5cf10b660256, G6wnHOFxfQAIyjZaSOANsnwUCe0pk3Sz)
  boughtAmount: 1478
  soldAmount:   1
  boughtSpot:   19589599
  soldSpot:     13252
  (boughtA0:    19586456)
  (soldA0:      19589599)
  boughtExp:    781
  soldExp:      2
  spotPrice:    0.000676481432825654
  eff.Price:    0.0006765899864682003
  maxBuying:    2818740
  (maxBuyingA0: 37353942480)
)

trials left: 1 - iteration: 19 - block: 8979
traces.length: 20
Opening: 11
Closing: 4
Swapping: 5
--- DONE ---
Opening: 11
Closing: 4
Swapping: 5
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(6s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(27s)[0m

