[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 9

trials left: 1 - iteration: 0 - block: 0
virtual: 8345
weight: 1
jumpSize: 100
minAnchorPrice: 8262
jumpLog: 0.009950330853168092
anchorLog: 0.00012102874447449606
82.21460857395648
maxTicks: 6887
maxTicks_: 82
3
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 3443
maxTicks_: 88
3
virtual: 8345
weight: 1
jumpSize: 100
minAnchorPrice: 8262
jumpLog: 0.009950330853168092
anchorLog: 0.00012102874447449606
82.21460857395648
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
Opening pool with 6 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 523
virtual: 1
weight: 37
jumpSize: 36
minAnchorPrice: 36
jumpLog: 0.027398974188114347
anchorLog: 0.027398974188114347
1
maxTicks: 9000
maxTicks_: 1
1
virtual: 1
weight: 3
jumpSize: 2
minAnchorPrice: 2
jumpLog: 0.4054651081081644
anchorLog: 0.4054651081081644
1
maxTicks: 9000
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 524

trials left: 1 - iteration: 3 - block: 1524
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 2118
maxTicks_: 88
3
virtual: 2
weight: 85
jumpSize: 100
minAnchorPrice: 168
jumpLog: 0.009950330853168092
anchorLog: 0.0059347355198145265
1.6766258277132224
maxTicks: 706
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 2524

trials left: 1 - iteration: 5 - block: 3163

trials left: 1 - iteration: 6 - block: 3164
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 7784
weight: 1
jumpSize: 100
minAnchorPrice: 7706
jumpLog: 0.009950330853168092
anchorLog: 0.0001297605918903671
76.68222461234599
maxTicks: 1
maxTicks_: 76
1
virtual: 1
weight: 79
jumpSize: 78
minAnchorPrice: 78
jumpLog: 0.012739025777429712
anchorLog: 0.012739025777429712
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 3165
Swapping.boundary()
valueEquation: 
        addedBuyingA0  1113733572 > 
        addedSellingA0 1107371317
valueEquation: 
        addedBuyingA0  1114072918 > 
        addedSellingA0 1113923810
Swapping.boundary()
valueEquation: 
        addedBuyingA0  18000 > 
        addedSellingA0 15566
Swapping.boundary()
valueEquation: 
        addedBuyingA0  18000 > 
        addedSellingA0 17933
Swapping.boundary()
Swapping.boundary()
subSwap: 1 bought
valueEquation: 
        addedBuyingA0  18000 > 
        addedSellingA0 17933
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: f5b8155e3f2525e91ec9b8c81964c5515164c1f2a98324f92f6a1820, 
   +     +  virtual: +[
   +     +  +  bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d_fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ: 9000,
   +     +  +  52e95e793d2a17981b3d5c2ecf128286a09dc2dd48d0a3facde98928_CxKIyiZ1JNZ3eRFghGPNG54PQvPIiP2D: 7784,
   +     +  +  08692feeb28dfe995c3bdf60b49fd23fbdbe8fd2680090e3ed918cfa_: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d_fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ: 1,
   +     +  +  52e95e793d2a17981b3d5c2ecf128286a09dc2dd48d0a3facde98928_CxKIyiZ1JNZ3eRFghGPNG54PQvPIiP2D: 1,
   +     +  +  08692feeb28dfe995c3bdf60b49fd23fbdbe8fd2680090e3ed918cfa_: 79
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d_fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ: 1,
   +     +  +  52e95e793d2a17981b3d5c2ecf128286a09dc2dd48d0a3facde98928_CxKIyiZ1JNZ3eRFghGPNG54PQvPIiP2D: 100,
   +     +  +  08692feeb28dfe995c3bdf60b49fd23fbdbe8fd2680090e3ed918cfa_: 78
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: f5b8155e3f2525e91ec9b8c81964c5515164c1f2a98324f92f6a1820,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 87138ed765dc73ca610888bb523c2bc1cb0577348077849e6c8480b6f9eac000),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d62127acc3e5c394277c8066882d623183dc3013398c6b326f0182f1723a9075),
   +     +  anchorPrices: +[
   +     +  +  bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d_fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ: 4500,
   +     +  +  52e95e793d2a17981b3d5c2ecf128286a09dc2dd48d0a3facde98928_CxKIyiZ1JNZ3eRFghGPNG54PQvPIiP2D: 7706,
   +     +  +  08692feeb28dfe995c3bdf60b49fd23fbdbe8fd2680090e3ed918cfa_: 78
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3383350,
   +  +  08692feeb28dfe995c3bdf60b49fd23fbdbe8fd2680090e3ed918cfa_: 1,
   +  +  52e95e793d2a17981b3d5c2ecf128286a09dc2dd48d0a3facde98928_CxKIyiZ1JNZ3eRFghGPNG54PQvPIiP2D: 1,
   +  +  bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d_fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ: 1
   +  ]
     )
  boughtAsset:  Asset(08692feeb28dfe995c3bdf60b49fd23fbdbe8fd2680090e3ed918cfa, )
  soldAsset:    Asset(bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d, fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ)
  boughtAmount: 1
  soldAmount:   228
  boughtSpot:   79
  soldSpot:     18000
  (boughtA0:    18000)
  (soldA0:      18012)
  boughtExp:    1
  soldExp:      2
  spotPrice:    227.84810126582278
  eff.Price:    228
  maxBuying:    1
  (maxBuyingA0: 18000)
)

trials left: 1 - iteration: 8 - block: 4165
virtual: 5527
weight: 3
jumpSize: 1
minAnchorPrice: 8290
jumpLog: 0.6931471805599453
anchorLog: 0.00012061998687798401
5746.536693467847
maxTicks: 3812
maxTicks_: 5746
3
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 3812
maxTicks_: 88
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 9 - block: 4876
virtual: 1
weight: 89
jumpSize: 88
minAnchorPrice: 88
jumpLog: 0.011299555253933466
anchorLog: 0.011299555253933466
1
maxTicks: 2937
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 2937
maxTicks_: 3119
3
virtual: 9000
weight: 1
jumpSize: 43
minAnchorPrice: 8795
jumpLog: 0.02298951822469878
anchorLog: 0.00011369450299328453
202.20430732747633
maxTicks: 1468
maxTicks_: 202
3
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 4877
virtual: 1
weight: 71
jumpSize: 1
minAnchorPrice: 35
jumpLog: 0.6931471805599453
anchorLog: 0.028170876966696224
24.605097717738357
maxTicks: 3946
maxTicks_: 24
3
virtual: 9000
weight: 1
jumpSize: 10
minAnchorPrice: 8181
jumpLog: 0.09531017980432493
anchorLog: 0.00012222697564570492
779.780235097997
maxTicks: 3946
maxTicks_: 779
3
virtual: 9000
weight: 1
jumpSize: 10
minAnchorPrice: 8181
jumpLog: 0.09531017980432493
anchorLog: 0.00012222697564570492
779.780235097997
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 5513
Swapping.boundary()
valueEquation: 
        addedBuyingA0  1114072918 > 
        addedSellingA0 1113923810
valueEquation: 
        addedBuyingA0  1113733572 > 
        addedSellingA0 1107371317
Swapping.boundary()
valueEquation: 
        addedBuyingA0  18000 > 
        addedSellingA0 15566
Swapping.boundary()
valueEquation: 
        addedBuyingA0  618135560 > 
        addedSellingA0 616629267
boughtAssetForSale (new): 
        buyingAmm  2537568 > 
        spotBuying 2537569
subSwap: 1 sold
valueEquation: 
        addedBuyingA0  6786920 > 
        addedSellingA0 6552493
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 40b443a82433a7fb5801d381f35dfc98084381810cca570f5a784f94, 
   +     +  virtual: +[
   +     +  +  bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d_fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ: 1,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d_fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ: 37,
   +     +  +  _: 3
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d_fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ: 36,
   +     +  +  _: 2
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 40b443a82433a7fb5801d381f35dfc98084381810cca570f5a784f94,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 1d45781f64770e064e6815fa7cd66ed1c320ccdba268bc89def2fbc07076afa1),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 00d7005fcb7736c31cc5cd6a5ac2f63a9c423c8145dd5e634682a8920fa2399a),
   +     +  anchorPrices: +[
   +     +  +  bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d_fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ: 36,
   +     +  +  _: 2
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2534280,
   +  +  bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d_fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ: 9000
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(bd9ac343a206884a4ad455fa21626bfb5c52acd139a897368536539d, fGfN49Y9BKP3lHWbDbWg5nZrfB8SOHtJ)
  boughtAmount: 19
  soldAmount:   1
  boughtSpot:   6552493
  soldSpot:     339346
  (boughtA0:    6447574)
  (soldA0:      6552493)
  boughtExp:    37
  soldExp:      334
  spotPrice:    0.05178883823302062
  eff.Price:    0.05263157894736842
  maxBuying:    2534280
  (maxBuyingA0: 859997780880)
)

trials left: 1 - iteration: 12 - block: 6513

trials left: 1 - iteration: 13 - block: 6623

trials left: 1 - iteration: 14 - block: 6624

trials left: 1 - iteration: 15 - block: 6839
virtual: 2
weight: 64
jumpSize: 100
minAnchorPrice: 126
jumpLog: 0.009950330853168092
anchorLog: 0.007905179507113247
1.2587102980032996
maxTicks: 1
maxTicks_: 1
1
virtual: 4768
weight: 1
jumpSize: 35
minAnchorPrice: 4635
jumpLog: 0.028170876966696224
anchorLog: 0.00021572645968675986
130.58609967271067
maxTicks: 1
maxTicks_: 130
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 16 - block: 7833

trials left: 1 - iteration: 17 - block: 8833
virtual: 3591
weight: 1
jumpSize: 100
minAnchorPrice: 3555
jumpLog: 0.009950330853168092
anchorLog: 0.0002812543964540456
35.37840111521203
maxTicks: 1
maxTicks_: 35
1
virtual: 3024
weight: 3
jumpSize: 1
minAnchorPrice: 4536
jumpLog: 0.6931471805599453
anchorLog: 0.00022043425637594886
3144.4621718767175
maxTicks: 1
maxTicks_: 3144
1
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 8995
virtual: 9000
weight: 1
jumpSize: 15
minAnchorPrice: 8437
jumpLog: 0.06453852113757116
anchorLog: 0.00011851851865733894
544.5437714604341
maxTicks: 7838
maxTicks_: 544
3
virtual: 5249
weight: 2
jumpSize: 1
minAnchorPrice: 5249
jumpLog: 0.6931471805599453
anchorLog: 0.0001904943333695825
3638.676113347447
maxTicks: 7838
maxTicks_: 3638
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 8996
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
virtual: 9000
weight: 1
jumpSize: 6
minAnchorPrice: 7714
jumpLog: 0.15415067982725836
anchorLog: 0.0001296260290880099
1189.1954178631622
maxTicks: 1
maxTicks_: 1189
1
Opening pool with 1 dirac utxos and 1 param utxos
traces.length: 17
Opening: 11
Closing: 4
Swapping: 2
--- DONE ---
Opening: 11
Closing: 4
Swapping: 2
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(4s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(36s)[0m

