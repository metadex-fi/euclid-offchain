[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0
virtual: 1
weight: 83
jumpSize: 62
minAnchorPrice: 81
jumpLog: 0.01600034134644112
anchorLog: 0.012270092591814401
1.3040114593035128
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 1764361804557555
weight: 5
jumpSize: 100
minAnchorPrice: 8734464378997797
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1000
virtual: 2426552915181230
weight: 1
jumpSize: 59
minAnchorPrice: 2386110366594876
jumpLog: 0.01680711831638119
anchorLog: 4.440892098500625e-16
37846265893413.09
maxTicks: 1
maxTicks_: 37846265893413
1
virtual: 293985275872644
weight: 61
jumpSize: 1
minAnchorPrice: 8966550914115642
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 2000
Swapping.boundary()
addedBuyingA0: 620174520
addedSellingA0: 8821809022787774
diff: -8821808402613254
Swapping.boundary()
addedBuyingA0: 17273766514849432
addedSellingA0: 17933101828231284
diff: -659335313381852
subSwap: 1 sold
addedBuyingA0: 620174520
addedSellingA0: 8821809022787774
diff: -8821808402613254
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 615a4cbeee3f52ddaf6d6e6825cc2b7feb53d9ae5e08482d96e6f5e6, 
   +     +  virtual: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 1,
   +     +  +  74c947fb77b8f8132a4d1f7b16d39cec96de059d857b0ccbce7cbec3_5: 9007199254740991,
   +     +  +  _: 1764361804557555
   +     +  ], 
   +     +  weights: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 83,
   +     +  +  74c947fb77b8f8132a4d1f7b16d39cec96de059d857b0ccbce7cbec3_5: 1,
   +     +  +  _: 5
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 62,
   +     +  +  74c947fb77b8f8132a4d1f7b16d39cec96de059d857b0ccbce7cbec3_5: 1,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 615a4cbeee3f52ddaf6d6e6825cc2b7feb53d9ae5e08482d96e6f5e6,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 898b335862da6c06e8559f3ab32e6f959060bde7af26c37c0df18b3bd15f0c71),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 24b832bfdf6db694dfd47b82f4af9efa74214717f992aaa693ceb13fd91763b4),
   +     +  anchorPrices: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 81,
   +     +  +  74c947fb77b8f8132a4d1f7b16d39cec96de059d857b0ccbce7cbec3_5: 4503599627370495,
   +     +  +  _: 8734464378997797
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2461010,
   +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3, )
  boughtAmount: 2461010
  soldAmount: 1
  boughtSpot: 8821809022787774
  soldSpot: 252
  boughtExp: 1
  soldExp: 71
  spotPrice: 2.856556964099475e-14
  effectivePrice: 4.0633723552525185e-7
)

trials left: 1 - iteration: 3 - block: 3000
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 3080
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 3081

trials left: 1 - iteration: 6 - block: 3711
virtual: 9007199254740991
weight: 1
jumpSize: 38
minAnchorPrice: 8776245427696350
jumpLog: 0.025975486403260736
anchorLog: 2.2204460492503128e-16
116983190886492.45
maxTicks: 1
maxTicks_: 116983190886492
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 4787599400370402
weight: 1
jumpSize: 72
minAnchorPrice: 4722015846940670
jumpLog: 0.01379332213233577
anchorLog: 2.2204460492503128e-16
62119600415388.59
maxTicks: 1
maxTicks_: 62119600415388
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 4283

trials left: 1 - iteration: 8 - block: 5141
Swapping.boundary()
addedBuyingA0: 826899360
addedSellingA0: 8821809022787774
diff: -8821808195888414
Swapping.boundary()
addedBuyingA0: 17273766514849432
addedSellingA0: 17933101828231284
diff: -659335313381852
subSwap: 1 bought
addedBuyingA0: 336
addedSellingA0: 8821809022787774
diff: -8821809022787438
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 615a4cbeee3f52ddaf6d6e6825cc2b7feb53d9ae5e08482d96e6f5e6, 
   +     +  virtual: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 1,
   +     +  +  74c947fb77b8f8132a4d1f7b16d39cec96de059d857b0ccbce7cbec3_5: 9007199254740991,
   +     +  +  _: 1764361804557555
   +     +  ], 
   +     +  weights: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 83,
   +     +  +  74c947fb77b8f8132a4d1f7b16d39cec96de059d857b0ccbce7cbec3_5: 1,
   +     +  +  _: 5
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 62,
   +     +  +  74c947fb77b8f8132a4d1f7b16d39cec96de059d857b0ccbce7cbec3_5: 1,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 615a4cbeee3f52ddaf6d6e6825cc2b7feb53d9ae5e08482d96e6f5e6,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 898b335862da6c06e8559f3ab32e6f959060bde7af26c37c0df18b3bd15f0c71),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 24b832bfdf6db694dfd47b82f4af9efa74214717f992aaa693ceb13fd91763b4),
   +     +  anchorPrices: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 81,
   +     +  +  74c947fb77b8f8132a4d1f7b16d39cec96de059d857b0ccbce7cbec3_5: 4503599627370495,
   +     +  +  _: 8734464378997797
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2461010,
   +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 2
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3, )
  boughtAmount: 1
  soldAmount: 1
  boughtSpot: 8821809022787774
  soldSpot: 336
  boughtExp: 1
  soldExp: 89
  spotPrice: 3.8087426187993e-14
  effectivePrice: 1
)

trials left: 1 - iteration: 9 - block: 5441
virtual: 6502616035776154
weight: 1
jumpSize: 100
minAnchorPrice: 6438233698788271
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 7038697085599895
maxTicks_: 44812306322540
3
virtual: 6433287436210642
weight: 2
jumpSize: 1
minAnchorPrice: 6433287436210642
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 7038697085599895
maxTicks_: 3121657384082680
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 7038697085599895
maxTicks_: 3121657384082680
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 6441

trials left: 1 - iteration: 11 - block: 6442

trials left: 1 - iteration: 12 - block: 6793

trials left: 1 - iteration: 13 - block: 6794

trials left: 1 - iteration: 14 - block: 7330

trials left: 1 - iteration: 15 - block: 8023
virtual: 1636294894578528
weight: 8
jumpSize: 1
minAnchorPrice: 6545179578314112
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 9007199254740991
maxTicks_: 3121657384082680
3
virtual: 4864482483714570
weight: 1
jumpSize: 71
minAnchorPrice: 4796920226996312
jumpLog: 0.01398624197473987
anchorLog: 2.2204460492503128e-16
62988434145752.08
maxTicks: 3002399751580330
maxTicks_: 62988434145752
3
virtual: 1636294894578528
weight: 8
jumpSize: 1
minAnchorPrice: 6545179578314112
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
virtual: 1636294894578528
weight: 8
jumpSize: 1
minAnchorPrice: 6545179578314112
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 16 - block: 9023
Swapping.boundary()
addedBuyingA0: 5690102074037937539600
addedSellingA0: 5690119410792301719348
diff: -17336754364179748
Swapping.boundary()
addedBuyingA0: 122543040980126925895680
addedSellingA0: 122543041344044970358927
diff: -363918044463247
Swapping.boundary()
addedBuyingA0: 154394556848991979677360
addedSellingA0: 154394558680919197534626
diff: -1831927217857266
subSwap: 243060 sold
addedBuyingA0: 4358817824100353200912
addedSellingA0: 4358819730369895889040
diff: -1906269542688128
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 8f603166b63829d6cb9dd6a66d767b6774334c7d045a2d2f6b71116d, 
   +     +  virtual: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 2426552915181230,
   +     +  +  _: 293985275872644
   +     +  ], 
   +     +  weights: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 1,
   +     +  +  _: 61
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 59,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 8f603166b63829d6cb9dd6a66d767b6774334c7d045a2d2f6b71116d,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: bd79f2000e950e9ef601a4176e6efb410a16f19aa9b788696537e16c55d6a785),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 3f83dffa5534c9b9287f6fee42d4a2e500be8c5ee0f9ec441bfbf430bd52c0cb),
   +     +  anchorPrices: +[
   +     +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 2386110366594876,
   +     +  +  _: 8966550914115642
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2305850,
   +  +  eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3_: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(eef2dc4a1ed6bf07949dc894ba0c0d72293dd9e02c9f02d8268d18e3, )
  boughtAmount: 1766362
  soldAmount: 243060
  boughtSpot: 17933101828231284
  soldSpot: 2467680930692776
  boughtExp: 1
  soldExp: 2
  spotPrice: 0.13760480224386032
  effectivePrice: 0.13760486242344436
)

trials left: 1 - iteration: 17 - block: 9024
virtual: 6580469738844496
weight: 1
jumpSize: 85
minAnchorPrice: 6503952648857932
jumpLog: 0.011696039763191236
anchorLog: 2.2204460492503128e-16
52674280319218.56
maxTicks: 1
maxTicks_: 52674280319218
1
virtual: 9007199254740991
weight: 1
jumpSize: 34
minAnchorPrice: 8749850704605534
jumpLog: 0.028987536873252187
anchorLog: 2.2204460492503128e-16
130548260260767.08
maxTicks: 1
maxTicks_: 130548260260767
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 10024
virtual: 1
weight: 91
jumpSize: 75
minAnchorPrice: 89
jumpLog: 0.013245226750020723
anchorLog: 0.011173300598125255
1.1854354614108487
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 11024
traces.length: 17
Opening: 9
Swapping: 3
Closing: 5
--- DONE ---
Opening: 9
Swapping: 3
Closing: 5
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(36s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m0s)[0m

