[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0
virtual: 2906
weight: 1
jumpSize: 93
minAnchorPrice: 2875
jumpLog: 0.01069528911674795
anchorLog: 0.0003477656094864641
30.754303545256786
maxTicks: 1
maxTicks_: 30
1
virtual: 9000
weight: 1
jumpSize: 32
minAnchorPrice: 8727
jumpLog: 0.030771658666753687
anchorLog: 0.00011458034959534122
268.55965072046564
maxTicks: 1
maxTicks_: 268
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1
virtual: 3855
weight: 1
jumpSize: 1
minAnchorPrice: 1927
jumpLog: 0.6931471805599453
anchorLog: 0.000518806756124439
1336.0411605620834
maxTicks: 1
maxTicks_: 1336
1
virtual: 1884
weight: 1
jumpSize: 67
minAnchorPrice: 1856
jumpLog: 0.014815085785140682
anchorLog: 0.0005386480065598105
27.504206095109055
maxTicks: 1
maxTicks_: 27
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 2

trials left: 1 - iteration: 3 - block: 38

trials left: 1 - iteration: 4 - block: 90
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 91

trials left: 1 - iteration: 6 - block: 509
virtual: 2067
weight: 8
jumpSize: 1
minAnchorPrice: 8268
jumpLog: 0.6931471805599453
anchorLog: 0.00012094092050779651
5731.287455475099
maxTicks: 1
maxTicks_: 5731
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 510

trials left: 1 - iteration: 8 - block: 1510
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 9 - block: 2240
virtual: 5284
weight: 1
jumpSize: 100
minAnchorPrice: 5231
jumpLog: 0.009950330853168092
anchorLog: 0.00019114976642345576
52.055155699876906
maxTicks: 1
maxTicks_: 52
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 8119
weight: 1
jumpSize: 100
minAnchorPrice: 8038
jumpLog: 0.009950330853168092
anchorLog: 0.0001244013188144758
79.98573445999702
maxTicks: 1
maxTicks_: 79
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 2241

trials left: 1 - iteration: 11 - block: 2242

trials left: 1 - iteration: 12 - block: 2785
virtual: 2272
weight: 4
jumpSize: 39
minAnchorPrice: 8860
jumpLog: 0.025317807984289786
anchorLog: 0.00011286044817574028
224.32843740675426
maxTicks: 1
maxTicks_: 224
1
virtual: 1
weight: 87
jumpSize: 19
minAnchorPrice: 82
jumpLog: 0.05129329438755048
anchorLog: 0.01212136053234482
4.23164497505694
maxTicks: 1
maxTicks_: 4
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 2786
virtual: 9000
weight: 1
jumpSize: 46
minAnchorPrice: 8808
jumpLog: 0.021506205220963682
anchorLog: 0.00011352670727988834
189.437408485233
maxTicks: 1
maxTicks_: 189
1
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 14 - block: 2787

          maxBuying: 1
          maxSelling: 1
          maxBuyingA0: 266
          maxSellingA0: 9087
          maxSwapA0: 266
          spotBuying: 9087
          spotSelling: 266
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9092 > 
        spotBuying 9320
boughtAssetForSale (new):
        sellingAmm  261 > 
        spotSelling 253
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9092 > 
        spotBuying 9320
boughtAssetForSale (new):
        sellingAmm  261 > 
        spotSelling 253
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: b559b0fff3b8e15d483ff4af3b0ca6c1452338cb2d133a2559b9a69e, 
   +     +  virtual: +[
   +     +  +  af08fa6a90fae98efc5a63875beff0f2ed5d92a3616addb506264670_: 2272,
   +     +  +  e30ddcbf6804037993ff311acd9a4a677c7dc78e1d13f5f5988d6c3f_FXE5ojc: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  af08fa6a90fae98efc5a63875beff0f2ed5d92a3616addb506264670_: 4,
   +     +  +  e30ddcbf6804037993ff311acd9a4a677c7dc78e1d13f5f5988d6c3f_FXE5ojc: 87
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  af08fa6a90fae98efc5a63875beff0f2ed5d92a3616addb506264670_: 39,
   +     +  +  e30ddcbf6804037993ff311acd9a4a677c7dc78e1d13f5f5988d6c3f_FXE5ojc: 19
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: b559b0fff3b8e15d483ff4af3b0ca6c1452338cb2d133a2559b9a69e,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 04a79ebfdb888164b756aa304b9470089299001775bd1bed46b95b05cb1665b5),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 615a834a405d2b9eecc0c44dd4e8e05b8f897091f5a6a3bd51199d370e48d0e7),
   +     +  anchorPrices: +[
   +     +  +  af08fa6a90fae98efc5a63875beff0f2ed5d92a3616addb506264670_: 8860,
   +     +  +  e30ddcbf6804037993ff311acd9a4a677c7dc78e1d13f5f5988d6c3f_FXE5ojc: 82
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2577380,
   +  +  af08fa6a90fae98efc5a63875beff0f2ed5d92a3616addb506264670_: 1,
   +  +  e30ddcbf6804037993ff311acd9a4a677c7dc78e1d13f5f5988d6c3f_FXE5ojc: 1
   +  ]
     )
  boughtAsset:  Asset(af08fa6a90fae98efc5a63875beff0f2ed5d92a3616addb506264670, )
  soldAsset:    Asset(e30ddcbf6804037993ff311acd9a4a677c7dc78e1d13f5f5988d6c3f, FXE5ojc)
  boughtAmount: 1
  soldAmount:   1
  boughtSpot:   9087
  soldSpot:     266
  (boughtA0:    266)
  (soldA0:      9087)
  boughtExp:    1
  soldExp:      23
  spotPrice:    0.029272587212501377
  eff.Price:    1
  maxBuying:    1
  (maxBuyingA0: 266)
)

trials left: 1 - iteration: 15 - block: 3518
virtual: 209
weight: 45
jumpSize: 1
minAnchorPrice: 4702
jumpLog: 0.6931471805599453
anchorLog: 0.00021265284503315873
3259.524604299856
maxTicks: 1
maxTicks_: 3259
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 9000
weight: 1
jumpSize: 54
minAnchorPrice: 8836
jumpLog: 0.018349138668196617
anchorLog: 0.00011316697799663418
162.1421636684719
maxTicks: 1
maxTicks_: 162
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 16 - block: 4383

trials left: 1 - iteration: 17 - block: 4902
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 3624
weight: 1
jumpSize: 100
minAnchorPrice: 3588
jumpLog: 0.009950330853168092
anchorLog: 0.0002786679689205477
35.70676203552148
maxTicks: 1
maxTicks_: 35
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 5902
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 2940
maxTicks_: 88
3
virtual: 1
weight: 97
jumpSize: 96
minAnchorPrice: 96
jumpLog: 0.010362787035546658
anchorLog: 0.010362787035546658
1
maxTicks: 980
maxTicks_: 1
1
virtual: 8538
weight: 1
jumpSize: 1
minAnchorPrice: 4269
jumpLog: 0.6931471805599453
anchorLog: 0.00023421946470819272
2959.391873871445
maxTicks: 980
maxTicks_: 2959
3
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 5903
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 7181
weight: 1
jumpSize: 96
minAnchorPrice: 7106
jumpLog: 0.010362787035546658
anchorLog: 0.0001407162459228416
73.64314594655151
maxTicks: 1
maxTicks_: 73
1
Opening pool with 1 dirac utxos and 1 param utxos
traces.length: 20
Opening: 12
Closing: 7
Swapping: 1
--- DONE ---
Opening: 12
Closing: 7
Swapping: 1
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(4s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(31s)[0m

