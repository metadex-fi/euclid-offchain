[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0

trials left: 1 - iteration: 1 - block: 811
virtual: 8372
weight: 1
jumpSize: 1
minAnchorPrice: 4186
jumpLog: 0.6931471805599453
anchorLog: 0.00023886301319833435
2901.860657616366
maxTicks: 1537
maxTicks_: 2901
3
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1537
maxTicks_: 88
3
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 1811
swappingsFor()

          buyable: 512
          d: -512
          maxBuying: 512
          

          buyable: 2262750
          d: -19786
          maxBuying: 19786
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     19786
          maxSelling:    1
          maxBuyingA0:   331296784
          maxSellingA0:  2251964
          maxSwapA0:     2251964
          spotBuying:    2251964
          spotSelling:   16744
          buyingAmount:  134
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 512
          d: -512
          maxBuying: 512
          

          buyable: 2262750
          d: -12456
          maxBuying: 12456
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     12456
          maxSelling:    1
          maxBuyingA0:   208563264
          maxSellingA0:  2259294
          maxSwapA0:     2259294
          spotBuying:    2259294
          spotSelling:   16744
          buyingAmount:  134
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 512
          d: -512
          maxBuying: 512
          

          buyable: 2262750
          d: -4874
          maxBuying: 4874
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     4874
          maxSelling:    1
          maxBuyingA0:   81610256
          maxSellingA0:  2266876
          maxSwapA0:     2266876
          spotBuying:    2266876
          spotSelling:   16744
          buyingAmount:  135
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
subSwap: 55 bought
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: ee8d5fa53296692b1fa16886d63deb8f7fc57e83ef172344b6d444b7, 
   +     +  virtual: +[
   +     +  +  dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f_: 8372,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f_: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f_: 1,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: ee8d5fa53296692b1fa16886d63deb8f7fc57e83ef172344b6d444b7,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 542cfe764c587cda153b830a9ec2087a32eb1df756c78e293ad685c234690d3d),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 3eabef8a6d8c45c8f696afe566475f93294e34b0e9dca0be2bf08fabfcc86964),
   +     +  anchorPrices: +[
   +     +  +  dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f_: 4186,
   +     +  +  _: 8910
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2262750,
   +  +  dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f_: 512
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f, )
  boughtAmount: 55
  soldAmount:   1
  boughtSpot:   2251964
  soldSpot:     16744
  (boughtA0:    920920)
  (soldA0:      2251964)
  boughtExp:    556
  soldExp:      2
  spotPrice:    0.007435287597847923
  eff.Price:    0.01818181818181818
  maxBuying:    55
  (maxBuyingA0: 920920)
)

trials left: 1 - iteration: 3 - block: 2811
virtual: 5222
weight: 1
jumpSize: 100
minAnchorPrice: 5170
jumpLog: 0.009950330853168092
anchorLog: 0.00019340489374656742
51.44818551596082
maxTicks: 1
maxTicks_: 51
1
virtual: 3392
weight: 1
jumpSize: 1
minAnchorPrice: 1696
jumpLog: 0.6931471805599453
anchorLog: 0.0005894488823779132
1175.9241577720866
maxTicks: 1
maxTicks_: 1175
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 3811
swappingsFor()

          buyable: 1
          d: -2
          maxBuying: 1
          

          buyable: 2254130
          d: -520818
          maxBuying: 520818
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(61fc3ed69ab65f70e8abf0cd656c2284d20b45819e0e143d82085066, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     520818
          maxSelling:    1
          maxBuyingA0:   2746273314
          maxSellingA0:  1736704
          maxSwapA0:     1736704
          spotBuying:    1736704
          spotSelling:   5273
          buyingAmount:  329
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
subSwap: 1 bought
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: eb5fdef8055be09151b91949274a6623408fed16ca19cd0e96375c4b, 
   +     +  virtual: +[
   +     +  +  61fc3ed69ab65f70e8abf0cd656c2284d20b45819e0e143d82085066_: 5222,
   +     +  +  _: 3392
   +     +  ], 
   +     +  weights: +[
   +     +  +  61fc3ed69ab65f70e8abf0cd656c2284d20b45819e0e143d82085066_: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  61fc3ed69ab65f70e8abf0cd656c2284d20b45819e0e143d82085066_: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: eb5fdef8055be09151b91949274a6623408fed16ca19cd0e96375c4b,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4b3c78517f5bc0881417f8f5cc8ed8688815667c33971e57df3ab00ca6da9b36),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d444dd033188a83a52bfb6596a7dbbcc231f7e92c09c589cc6f40b928ad0ce65),
   +     +  anchorPrices: +[
   +     +  +  61fc3ed69ab65f70e8abf0cd656c2284d20b45819e0e143d82085066_: 5170,
   +     +  +  _: 1696
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2254130,
   +  +  61fc3ed69ab65f70e8abf0cd656c2284d20b45819e0e143d82085066_: 1
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(61fc3ed69ab65f70e8abf0cd656c2284d20b45819e0e143d82085066, )
  boughtAmount: 1
  soldAmount:   1
  boughtSpot:   1736704
  soldSpot:     5273
  (boughtA0:    5273)
  (soldA0:      1736704)
  boughtExp:    10
  soldExp:      2
  spotPrice:    0.0030362111217570754
  eff.Price:    1
  maxBuying:    1
  (maxBuyingA0: 5273)
)

trials left: 1 - iteration: 5 - block: 4811
swappingsFor()

          buyable: 513
          d: -513
          maxBuying: 513
          

          buyable: 2262750
          d: -19786
          maxBuying: 19786
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     19786
          maxSelling:    51
          maxBuyingA0:   331296784
          maxSellingA0:  114850164
          maxSwapA0:     114850164
          spotBuying:    2251964
          spotSelling:   16744
          buyingAmount:  6859
          sellingAmount: 51
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 512
          d: -512
          maxBuying: 512
          

          buyable: 2262750
          d: -12456
          maxBuying: 12456
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     12456
          maxSelling:    51
          maxBuyingA0:   208563264
          maxSellingA0:  115223994
          maxSwapA0:     115223994
          spotBuying:    2259294
          spotSelling:   16744
          buyingAmount:  6881
          sellingAmount: 51
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 512
          d: -512
          maxBuying: 512
          

          buyable: 2262750
          d: -4874
          maxBuying: 4874
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     4874
          maxSelling:    51
          maxBuyingA0:   81610256
          maxSellingA0:  115610676
          maxSwapA0:     81610256
          spotBuying:    2266876
          spotSelling:   16744
          buyingAmount:  4874
          sellingAmount: 37
          ---------------------------
        
Swapping.boundary()
subSwap: 1941 bought
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: ee8d5fa53296692b1fa16886d63deb8f7fc57e83ef172344b6d444b7, 
   +     +  virtual: +[
   +     +  +  dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f_: 8372,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f_: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f_: 1,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: ee8d5fa53296692b1fa16886d63deb8f7fc57e83ef172344b6d444b7,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 542cfe764c587cda153b830a9ec2087a32eb1df756c78e293ad685c234690d3d),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 3eabef8a6d8c45c8f696afe566475f93294e34b0e9dca0be2bf08fabfcc86964),
   +     +  anchorPrices: +[
   +     +  +  dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f_: 4186,
   +     +  +  _: 8910
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2262750,
   +  +  dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f_: 513
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(dac4884bd121ef93ba33584c6dcfa8c75c296832ac4f94cc5692d32f, )
  boughtAmount: 1941
  soldAmount:   15
  boughtSpot:   2251964
  soldSpot:     16744
  (boughtA0:    32500104)
  (soldA0:      33779460)
  boughtExp:    556
  soldExp:      2
  spotPrice:    0.007435287597847923
  eff.Price:    0.0077279752704791345
  maxBuying:    1941
  (maxBuyingA0: 32500104)
)

trials left: 1 - iteration: 6 - block: 5302

trials left: 1 - iteration: 7 - block: 6107
virtual: 2411
weight: 1
jumpSize: 40
minAnchorPrice: 2352
jumpLog: 0.024692612590371414
anchorLog: 0.000425079708844847
58.08937024416791
maxTicks: 1
maxTicks_: 58
1
virtual: 6773
weight: 1
jumpSize: 78
minAnchorPrice: 6687
jumpLog: 0.012739025777429712
anchorLog: 0.00014953271055904302
85.19223472779693
maxTicks: 1
maxTicks_: 85
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 7107
virtual: 1
weight: 56
jumpSize: 55
minAnchorPrice: 55
jumpLog: 0.018018505502678212
anchorLog: 0.018018505502678212
1
maxTicks: 1
maxTicks_: 1
1
virtual: 1
weight: 23
jumpSize: 22
minAnchorPrice: 22
jumpLog: 0.044451762570833796
anchorLog: 0.044451762570833796
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 9 - block: 8107
traces.length: 9
Opening: 4
Swapping: 3
Closing: 2
--- DONE ---
Opening: 4
Swapping: 3
Closing: 2
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(1s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(10s)[0m

