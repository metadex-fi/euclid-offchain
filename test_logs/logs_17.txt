[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0
virtual: 4248
weight: 1
jumpSize: 31
minAnchorPrice: 4115
jumpLog: 0.03174869831458027
anchorLog: 0.0002429838427701021
130.6617672707528
maxTicks: 1
maxTicks_: 130
1
virtual: 1
weight: 49
jumpSize: 19
minAnchorPrice: 46
jumpLog: 0.05129329438755048
anchorLog: 0.021506205220963682
2.385046262720079
maxTicks: 1
maxTicks_: 2
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1000

trials left: 1 - iteration: 2 - block: 2000
virtual: 1
weight: 100
jumpSize: 13
minAnchorPrice: 92
jumpLog: 0.07410797215372183
anchorLog: 0.010810916104215676
6.8549206597601575
maxTicks: 1
maxTicks_: 6
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 5923
weight: 1
jumpSize: 1
minAnchorPrice: 2961
jumpLog: 0.6931471805599453
anchorLog: 0.0003376667261528018
2052.7553557239767
maxTicks: 1
maxTicks_: 2052
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 3000
virtual: 6632
weight: 1
jumpSize: 100
minAnchorPrice: 6566
jumpLog: 0.009950330853168092
anchorLog: 0.00015228812943466333
65.3388474210468
maxTicks: 1
maxTicks_: 65
1
virtual: 3851
weight: 2
jumpSize: 100
minAnchorPrice: 7625
jumpLog: 0.009950330853168092
anchorLog: 0.00013113894189660538
75.87624781213567
maxTicks: 1
maxTicks_: 75
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 3001

          maxBuying: 951
          maxSelling: 64
          maxBuyingA0: 6368847
          maxSellingA0: 314277120
          maxSwapA0: 6368847
          spotBuying: 4910580
          spotSelling: 6697
          buyingAmount: 951
          sellingAmount: 2
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  4910578 > 
        spotBuying 4910580
valueEquation: 
        addedBuyingA0  6368847 > 
        addedSellingA0 4910580
subSwap: 2 sold
boughtAssetForSale (new): 
        buyingAmm  4910578 > 
        spotBuying 4910580
valueEquation: 
        addedBuyingA0  6368847 > 
        addedSellingA0 4910580
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137, 
   +     +  virtual: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 6632,
   +     +  +  _: 3851
   +     +  ], 
   +     +  weights: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 1,
   +     +  +  _: 2
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 100,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 6ace6344b41e9795a4f02d2826feff32eea5c5d3d240bef84e5686d93a5b9be5),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 2e1a2a03c5f085dcb25268e739a0321a9cd54092d3c4309ce99d6512dcfab448),
   +     +  anchorPrices: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 6566,
   +     +  +  _: 7625
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2452390,
   +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 1
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0, L5xGcwKCMrZEC7tqpNRLkZL)
  boughtAmount: 951
  soldAmount:   2
  boughtSpot:   4910580
  soldSpot:     6697
  (boughtA0:    6368847)
  (soldA0:      9821160)
  boughtExp:    650
  soldExp:      2
  spotPrice:    0.0013637900207307486
  eff.Price:    0.002103049421661409
  maxBuying:    2452390
  (maxBuyingA0: 16423655830)
)

trials left: 1 - iteration: 5 - block: 4001
virtual: 1
weight: 7
jumpSize: 1
minAnchorPrice: 3
jumpLog: 0.6931471805599453
anchorLog: 0.28768207245178085
2.4094208396532095
maxTicks: 1
maxTicks_: 2
1
virtual: 1
weight: 13
jumpSize: 1
minAnchorPrice: 6
jumpLog: 0.6931471805599453
anchorLog: 0.15415067982725836
4.49655610560192
maxTicks: 1
maxTicks_: 4
1
virtual: 9000
weight: 1
jumpSize: 59
minAnchorPrice: 8850
jumpLog: 0.01680711831638119
anchorLog: 0.000112987966901702
148.75140050093262
maxTicks: 1
maxTicks_: 148
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 6 - block: 5001
virtual: 2804
weight: 1
jumpSize: 100
minAnchorPrice: 2776
jumpLog: 0.009950330853168092
anchorLog: 0.0003601656801045171
27.62709331516703
maxTicks: 1
maxTicks_: 27
1
virtual: 6215
weight: 1
jumpSize: 1
minAnchorPrice: 3107
jumpLog: 0.6931471805599453
anchorLog: 0.00032180209449058495
2153.954845002492
maxTicks: 1
maxTicks_: 2153
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 5642
virtual: 1
weight: 59
jumpSize: 56
minAnchorPrice: 57
jumpLog: 0.017699577099400857
anchorLog: 0.01739174271186924
1.0177000311372784
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 5643

trials left: 1 - iteration: 9 - block: 6643

          maxBuying: 951
          maxSelling: 1
          maxBuyingA0: 6368847
          maxSellingA0: 4910580
          maxSwapA0: 4910580
          spotBuying: 4910580
          spotSelling: 6697
          buyingAmount: 733
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  4915598 > 
        addedSellingA0 4910580

          maxBuying: 867821
          maxSelling: 1
          maxBuyingA0: 2456801251
          maxSellingA0: 1590784
          maxSwapA0: 1590784
          spotBuying: 1590784
          spotSelling: 2831
          buyingAmount: 561
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  1591022 > 
        addedSellingA0 1590784

          maxBuying: 54
          maxSelling: 8999
          maxBuyingA0: 972000
          maxSellingA0: 4747584432
          maxSwapA0: 972000
          spotBuying: 527568
          spotSelling: 18000
          buyingAmount: 54
          sellingAmount: 2
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  527519 > 
        spotBuying 527568
valueEquation: 
        addedBuyingA0  972000 > 
        addedSellingA0 527568

          maxBuying: 202
          maxSelling: 8999
          maxBuyingA0: 3636000
          maxSellingA0: 1842995200
          maxSwapA0: 3636000
          spotBuying: 204800
          spotSelling: 18000
          buyingAmount: 202
          sellingAmount: 18
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  204700 > 
        spotBuying 204800
valueEquation: 
        addedBuyingA0  3636000 > 
        addedSellingA0 3481600
subSwap: 1 sold
valueEquation: 
        addedBuyingA0  4915598 > 
        addedSellingA0 4910580
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137, 
   +     +  virtual: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 6632,
   +     +  +  _: 3851
   +     +  ], 
   +     +  weights: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 1,
   +     +  +  _: 2
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 100,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 6ace6344b41e9795a4f02d2826feff32eea5c5d3d240bef84e5686d93a5b9be5),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 2e1a2a03c5f085dcb25268e739a0321a9cd54092d3c4309ce99d6512dcfab448),
   +     +  anchorPrices: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 6566,
   +     +  +  _: 7625
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2452390,
   +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 3
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0, L5xGcwKCMrZEC7tqpNRLkZL)
  boughtAmount: 733
  soldAmount:   1
  boughtSpot:   4910580
  soldSpot:     6697
  (boughtA0:    4908901)
  (soldA0:      4910580)
  boughtExp:    650
  soldExp:      2
  spotPrice:    0.0013637900207307486
  eff.Price:    0.001364256480218281
  maxBuying:    2452390
  (maxBuyingA0: 16423655830)
)

trials left: 1 - iteration: 10 - block: 6664
virtual: 4075
weight: 2
jumpSize: 57
minAnchorPrice: 8009
jumpLog: 0.01739174271186924
anchorLog: 0.00012485173872272922
139.2991630696696
maxTicks: 1
maxTicks_: 139
1
virtual: 116
weight: 1
jumpSize: 100
minAnchorPrice: 114
jumpLog: 0.009950330853168092
anchorLog: 0.008733679968754631
1.139305640779845
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 58
minAnchorPrice: 8847
jumpLog: 0.01709443335930004
anchorLog: 0.00011302627873019408
151.242998985274
maxTicks: 1
maxTicks_: 151
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 7294

trials left: 1 - iteration: 12 - block: 7295

trials left: 1 - iteration: 13 - block: 8295
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 14 - block: 8296

          maxBuying: 1
          maxSelling: 88
          maxBuyingA0: 9089
          maxSellingA0: 791912
          maxSwapA0: 9089
          spotBuying: 8999
          spotSelling: 9089
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  9089 > 
        addedSellingA0 8999

          maxBuying: 8995
          maxSelling: 88
          maxBuyingA0: 81755555
          maxSellingA0: 792000
          maxSwapA0: 792000
          spotBuying: 9000
          spotSelling: 9089
          buyingAmount: 87
          sellingAmount: 88
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  799832 > 
        addedSellingA0 792000
valueEquation: 
        addedBuyingA0  790743 > 
        addedSellingA0 783000
subSwap: 1 bought
valueEquation: 
        addedBuyingA0  9089 > 
        addedSellingA0 9000
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137, 
   +     +  virtual: +[
   +     +  +  3de6af1c2b2c1a8c301ee502ec7e14868fc8e27788924c0ea043bc8c_teHzNpV6281bP8M4SUKKCrApOHSoMI7r: 9000,
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 9000,
   +     +  +  7d97302b34969565b137f95bdc258cebe4e052a74dac8a46d932a145_k2XObhp83lI5BjcaOyyquUTe0DV7eakn: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  3de6af1c2b2c1a8c301ee502ec7e14868fc8e27788924c0ea043bc8c_teHzNpV6281bP8M4SUKKCrApOHSoMI7r: 1,
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 1,
   +     +  +  7d97302b34969565b137f95bdc258cebe4e052a74dac8a46d932a145_k2XObhp83lI5BjcaOyyquUTe0DV7eakn: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  3de6af1c2b2c1a8c301ee502ec7e14868fc8e27788924c0ea043bc8c_teHzNpV6281bP8M4SUKKCrApOHSoMI7r: 100,
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 1,
   +     +  +  7d97302b34969565b137f95bdc258cebe4e052a74dac8a46d932a145_k2XObhp83lI5BjcaOyyquUTe0DV7eakn: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c6fca73231d921a6593d3d37155497eb5ba5e602e15c7bf674f873e61eb9e359),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4dbf1c72597a3ed8673a1ccbedfa6746ed73be1e61505305afcc3f36a662a654),
   +     +  anchorPrices: +[
   +     +  +  3de6af1c2b2c1a8c301ee502ec7e14868fc8e27788924c0ea043bc8c_teHzNpV6281bP8M4SUKKCrApOHSoMI7r: 8910,
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 4500,
   +     +  +  7d97302b34969565b137f95bdc258cebe4e052a74dac8a46d932a145_k2XObhp83lI5BjcaOyyquUTe0DV7eakn: 8910
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3594540,
   +  +  3de6af1c2b2c1a8c301ee502ec7e14868fc8e27788924c0ea043bc8c_teHzNpV6281bP8M4SUKKCrApOHSoMI7r: 1,
   +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 8995,
   +  +  7d97302b34969565b137f95bdc258cebe4e052a74dac8a46d932a145_k2XObhp83lI5BjcaOyyquUTe0DV7eakn: 1
   +  ]
     )
  boughtAsset:  Asset(44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0, L5xGcwKCMrZEC7tqpNRLkZL)
  soldAsset:    Asset(7d97302b34969565b137f95bdc258cebe4e052a74dac8a46d932a145, k2XObhp83lI5BjcaOyyquUTe0DV7eakn)
  boughtAmount: 1
  soldAmount:   2
  boughtSpot:   9000
  soldSpot:     9089
  (boughtA0:    9089)
  (soldA0:      18000)
  boughtExp:    1
  soldExp:      2
  spotPrice:    1.0098888888888888
  eff.Price:    2
  maxBuying:    1
  (maxBuyingA0: 9089)
)

trials left: 1 - iteration: 15 - block: 8778
virtual: 446
weight: 1
jumpSize: 8
minAnchorPrice: 396
jumpLog: 0.11778303565638346
anchorLog: 0.002522069432709939
46.70094888300785
maxTicks: 1
maxTicks_: 46
1
virtual: 8755
weight: 1
jumpSize: 84
minAnchorPrice: 8652
jumpLog: 0.011834457647002798
anchorLog: 0.00011557353378939993
102.39764467674536
maxTicks: 1
maxTicks_: 102
1
virtual: 5589
weight: 1
jumpSize: 10
minAnchorPrice: 5080
jumpLog: 0.09531017980432493
anchorLog: 0.00019683102120440644
484.22336693232194
maxTicks: 1
maxTicks_: 484
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 16 - block: 8779
virtual: 1385
weight: 6
jumpSize: 100
minAnchorPrice: 8227
jumpLog: 0.009950330853168092
anchorLog: 0.00012154360391739112
81.8663469937174
maxTicks: 1
maxTicks_: 81
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 9000
weight: 1
jumpSize: 80
minAnchorPrice: 8888
jumpLog: 0.01242251999855711
anchorLog: 0.00011250492220899938
110.41756889071846
maxTicks: 1
maxTicks_: 110
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 17 - block: 9034

          maxBuying: 1
          maxSelling: 86
          maxBuyingA0: 9089
          maxSellingA0: 773914
          maxSwapA0: 9089
          spotBuying: 8999
          spotSelling: 9089
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  9089 > 
        addedSellingA0 8999

          maxBuying: 8994
          maxSelling: 86
          maxBuyingA0: 81746466
          maxSellingA0: 774000
          maxSwapA0: 774000
          spotBuying: 9000
          spotSelling: 9089
          buyingAmount: 85
          sellingAmount: 86
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  781654 > 
        addedSellingA0 774000
valueEquation: 
        addedBuyingA0  772565 > 
        addedSellingA0 765000

          maxBuying: 1
          maxSelling: 353
          maxBuyingA0: 4175
          maxSellingA0: 3090515
          maxSwapA0: 4175
          spotBuying: 8755
          spotSelling: 4175
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()

          maxBuying: 1
          maxSelling: 10
          maxBuyingA0: 14362
          maxSellingA0: 90000
          maxSwapA0: 14362
          spotBuying: 9000
          spotSelling: 14362
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  14362 > 
        addedSellingA0 9000

          maxBuying: 1
          maxSelling: 10
          maxBuyingA0: 14362
          maxSellingA0: 89990
          maxSwapA0: 14362
          spotBuying: 8999
          spotSelling: 14362
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  14362 > 
        addedSellingA0 8999

          maxBuying: 13
          maxSelling: 2248
          maxBuyingA0: 234000
          maxSellingA0: 31966560
          maxSwapA0: 234000
          spotBuying: 14220
          spotSelling: 18000
          buyingAmount: 13
          sellingAmount: 17
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  14214 > 
        spotBuying 14220
valueEquation: 
        addedBuyingA0  234000 > 
        addedSellingA0 227520

          maxBuying: 1
          maxSelling: 2248
          maxBuyingA0: 18000
          maxSellingA0: 20229752
          maxSwapA0: 18000
          spotBuying: 8999
          spotSelling: 18000
          buyingAmount: 1
          sellingAmount: 3
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  18000 > 
        addedSellingA0 17998
subSwap: 1 bought
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137, 
   +     +  virtual: +[
   +     +  +  47baefaf032aa6a67a7cc2f51e76364eadb6b22381746ed45e14b7f4_hwVvaWbpeXoUqSn4qp7u9DJSUKOPwa2L: 446,
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 8755,
   +     +  +  dc821f3b7a2ebfeb20d807155d88a42ac6d701a3d578223aae725fe5_HOYpBT1UyX7OVYAbZdflx5oBZZBFagoq: 5589
   +     +  ], 
   +     +  weights: +[
   +     +  +  47baefaf032aa6a67a7cc2f51e76364eadb6b22381746ed45e14b7f4_hwVvaWbpeXoUqSn4qp7u9DJSUKOPwa2L: 1,
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 1,
   +     +  +  dc821f3b7a2ebfeb20d807155d88a42ac6d701a3d578223aae725fe5_HOYpBT1UyX7OVYAbZdflx5oBZZBFagoq: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  47baefaf032aa6a67a7cc2f51e76364eadb6b22381746ed45e14b7f4_hwVvaWbpeXoUqSn4qp7u9DJSUKOPwa2L: 8,
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 84,
   +     +  +  dc821f3b7a2ebfeb20d807155d88a42ac6d701a3d578223aae725fe5_HOYpBT1UyX7OVYAbZdflx5oBZZBFagoq: 10
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: a74b4fce961139cad6a2882a9c36dcc6897fe6d33765cd13808dbb8cd32eccba),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 9b4975d860775c86c6393307da17f793ab3899e381c3c121d410dd0e571389f4),
   +     +  anchorPrices: +[
   +     +  +  47baefaf032aa6a67a7cc2f51e76364eadb6b22381746ed45e14b7f4_hwVvaWbpeXoUqSn4qp7u9DJSUKOPwa2L: 396,
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 8652,
   +     +  +  dc821f3b7a2ebfeb20d807155d88a42ac6d701a3d578223aae725fe5_HOYpBT1UyX7OVYAbZdflx5oBZZBFagoq: 5080
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3310080,
   +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 1,
   +  +  47baefaf032aa6a67a7cc2f51e76364eadb6b22381746ed45e14b7f4_hwVvaWbpeXoUqSn4qp7u9DJSUKOPwa2L: 3376
   +  ]
     )
  boughtAsset:  Asset(44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0, L5xGcwKCMrZEC7tqpNRLkZL)
  soldAsset:    Asset(47baefaf032aa6a67a7cc2f51e76364eadb6b22381746ed45e14b7f4, hwVvaWbpeXoUqSn4qp7u9DJSUKOPwa2L)
  boughtAmount: 1
  soldAmount:   1
  boughtSpot:   8755
  soldSpot:     4175
  (boughtA0:    4175)
  (soldA0:      8755)
  boughtExp:    1
  soldExp:      20
  spotPrice:    0.4768703597944032
  eff.Price:    1
  maxBuying:    1
  (maxBuyingA0: 4175)
)

trials left: 1 - iteration: 18 - block: 10034

          maxBuying: 951
          maxSelling: 1
          maxBuyingA0: 6368847
          maxSellingA0: 4910580
          maxSwapA0: 4910580
          spotBuying: 4910580
          spotSelling: 6697
          buyingAmount: 733
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  4915598 > 
        addedSellingA0 4910580

          maxBuying: 867821
          maxSelling: 1
          maxBuyingA0: 2456801251
          maxSellingA0: 1590784
          maxSwapA0: 1590784
          spotBuying: 1590784
          spotSelling: 2831
          buyingAmount: 561
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  1591022 > 
        addedSellingA0 1590784

          maxBuying: 1
          maxSelling: 86
          maxBuyingA0: 9089
          maxSellingA0: 773914
          maxSwapA0: 9089
          spotBuying: 8999
          spotSelling: 9089
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  9089 > 
        addedSellingA0 8999

          maxBuying: 8994
          maxSelling: 86
          maxBuyingA0: 81746466
          maxSellingA0: 774000
          maxSwapA0: 774000
          spotBuying: 9000
          spotSelling: 9089
          buyingAmount: 85
          sellingAmount: 86
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  781654 > 
        addedSellingA0 774000
valueEquation: 
        addedBuyingA0  772565 > 
        addedSellingA0 765000

          maxBuying: 1
          maxSelling: 10
          maxBuyingA0: 14362
          maxSellingA0: 90000
          maxSwapA0: 14362
          spotBuying: 9000
          spotSelling: 14362
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  14362 > 
        addedSellingA0 9000

          maxBuying: 1
          maxSelling: 10
          maxBuyingA0: 14362
          maxSellingA0: 89990
          maxSwapA0: 14362
          spotBuying: 8999
          spotSelling: 14362
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  14362 > 
        addedSellingA0 8999

          maxBuying: 13
          maxSelling: 2248
          maxBuyingA0: 234000
          maxSellingA0: 31966560
          maxSwapA0: 234000
          spotBuying: 14220
          spotSelling: 18000
          buyingAmount: 13
          sellingAmount: 17
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  14214 > 
        spotBuying 14220
valueEquation: 
        addedBuyingA0  234000 > 
        addedSellingA0 227520

          maxBuying: 1
          maxSelling: 2248
          maxBuyingA0: 18000
          maxSellingA0: 20229752
          maxSwapA0: 18000
          spotBuying: 8999
          spotSelling: 18000
          buyingAmount: 1
          sellingAmount: 3
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  18000 > 
        addedSellingA0 17998
subSwap: 1 bought
valueEquation: 
        addedBuyingA0  18000 > 
        addedSellingA0 17998
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137, 
   +     +  virtual: +[
   +     +  +  7d97302b34969565b137f95bdc258cebe4e052a74dac8a46d932a145_k2XObhp83lI5BjcaOyyquUTe0DV7eakn: 1385,
   +     +  +  d0e345cb9a9281c45947d5f174884958d61ab618833193ea278ba3b7_: 9000,
   +     +  +  53c28255ad25599a6ad8f3d174a4dfec396c5e9d4abeac850d645fb7_99qr9ywZh6CclcAkQ1KhWY5TEIocZF1k: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  7d97302b34969565b137f95bdc258cebe4e052a74dac8a46d932a145_k2XObhp83lI5BjcaOyyquUTe0DV7eakn: 6,
   +     +  +  d0e345cb9a9281c45947d5f174884958d61ab618833193ea278ba3b7_: 1,
   +     +  +  53c28255ad25599a6ad8f3d174a4dfec396c5e9d4abeac850d645fb7_99qr9ywZh6CclcAkQ1KhWY5TEIocZF1k: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7d97302b34969565b137f95bdc258cebe4e052a74dac8a46d932a145_k2XObhp83lI5BjcaOyyquUTe0DV7eakn: 100,
   +     +  +  d0e345cb9a9281c45947d5f174884958d61ab618833193ea278ba3b7_: 1,
   +     +  +  53c28255ad25599a6ad8f3d174a4dfec396c5e9d4abeac850d645fb7_99qr9ywZh6CclcAkQ1KhWY5TEIocZF1k: 80
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: b2e9554248b1a5343a2790869efc4d35305b380c1d946b6d36f72ed6137ed099),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: e960fbec8c411dda8d9d636bdc75b7c1ffe35ea413a22f3681254984b6b02f1a),
   +     +  anchorPrices: +[
   +     +  +  7d97302b34969565b137f95bdc258cebe4e052a74dac8a46d932a145_k2XObhp83lI5BjcaOyyquUTe0DV7eakn: 8227,
   +     +  +  d0e345cb9a9281c45947d5f174884958d61ab618833193ea278ba3b7_: 4500,
   +     +  +  53c28255ad25599a6ad8f3d174a4dfec396c5e9d4abeac850d645fb7_99qr9ywZh6CclcAkQ1KhWY5TEIocZF1k: 8888
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3396280,
   +  +  53c28255ad25599a6ad8f3d174a4dfec396c5e9d4abeac850d645fb7_99qr9ywZh6CclcAkQ1KhWY5TEIocZF1k: 1,
   +  +  7d97302b34969565b137f95bdc258cebe4e052a74dac8a46d932a145_k2XObhp83lI5BjcaOyyquUTe0DV7eakn: 998,
   +  +  d0e345cb9a9281c45947d5f174884958d61ab618833193ea278ba3b7_: 1
   +  ]
     )
  boughtAsset:  Asset(53c28255ad25599a6ad8f3d174a4dfec396c5e9d4abeac850d645fb7, 99qr9ywZh6CclcAkQ1KhWY5TEIocZF1k)
  soldAsset:    Asset(d0e345cb9a9281c45947d5f174884958d61ab618833193ea278ba3b7, )
  boughtAmount: 1
  soldAmount:   3
  boughtSpot:   8999
  soldSpot:     18000
  (boughtA0:    18000)
  (soldA0:      26997)
  boughtExp:    1
  soldExp:      2
  spotPrice:    2.000222246916324
  eff.Price:    3
  maxBuying:    1
  (maxBuyingA0: 18000)
)

trials left: 1 - iteration: 19 - block: 10748

          maxBuying: 951
          maxSelling: 1
          maxBuyingA0: 6368847
          maxSellingA0: 4910580
          maxSwapA0: 4910580
          spotBuying: 4910580
          spotSelling: 6697
          buyingAmount: 733
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  4915598 > 
        addedSellingA0 4910580

          maxBuying: 867821
          maxSelling: 1
          maxBuyingA0: 2456801251
          maxSellingA0: 1590784
          maxSwapA0: 1590784
          spotBuying: 1590784
          spotSelling: 2831
          buyingAmount: 561
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  1591022 > 
        addedSellingA0 1590784

          maxBuying: 1
          maxSelling: 86
          maxBuyingA0: 9089
          maxSellingA0: 773914
          maxSwapA0: 9089
          spotBuying: 8999
          spotSelling: 9089
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  9089 > 
        addedSellingA0 8999

          maxBuying: 8994
          maxSelling: 86
          maxBuyingA0: 81746466
          maxSellingA0: 774000
          maxSwapA0: 774000
          spotBuying: 9000
          spotSelling: 9089
          buyingAmount: 85
          sellingAmount: 86
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  781654 > 
        addedSellingA0 774000
valueEquation: 
        addedBuyingA0  772565 > 
        addedSellingA0 765000

          maxBuying: 4
          maxSelling: 10
          maxBuyingA0: 57448
          maxSellingA0: 90000
          maxSwapA0: 57448
          spotBuying: 9000
          spotSelling: 14362
          buyingAmount: 4
          sellingAmount: 7
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  57448 > 
        addedSellingA0 54000

          maxBuying: 13
          maxSelling: 2245
          maxBuyingA0: 234000
          maxSellingA0: 31923900
          maxSwapA0: 234000
          spotBuying: 14220
          spotSelling: 18000
          buyingAmount: 13
          sellingAmount: 17
        
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  14214 > 
        spotBuying 14220
valueEquation: 
        addedBuyingA0  234000 > 
        addedSellingA0 227520

          maxBuying: 13
          maxSelling: 1
          maxBuyingA0: 118443
          maxSellingA0: 14220
          maxSwapA0: 14220
          spotBuying: 14220
          spotSelling: 9111
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  18222 > 
        addedSellingA0 14220
subSwap: 1 sold
valueEquation: 
        addedBuyingA0  4915598 > 
        addedSellingA0 4910580
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137, 
   +     +  virtual: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 6632,
   +     +  +  _: 3851
   +     +  ], 
   +     +  weights: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 1,
   +     +  +  _: 2
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 100,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 9d5b9815684353c00c5ce06c314b18cd5a5987ec119706fe94088137,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 6ace6344b41e9795a4f02d2826feff32eea5c5d3d240bef84e5686d93a5b9be5),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 2e1a2a03c5f085dcb25268e739a0321a9cd54092d3c4309ce99d6512dcfab448),
   +     +  anchorPrices: +[
   +     +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 6566,
   +     +  +  _: 7625
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2452390,
   +  +  44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0_L5xGcwKCMrZEC7tqpNRLkZL: 4
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(44d4a3577d25e011a0951853fe0d4bdbfe18880fade95a1627c07ec0, L5xGcwKCMrZEC7tqpNRLkZL)
  boughtAmount: 733
  soldAmount:   1
  boughtSpot:   4910580
  soldSpot:     6697
  (boughtA0:    4908901)
  (soldA0:      4910580)
  boughtExp:    650
  soldExp:      2
  spotPrice:    0.0013637900207307486
  eff.Price:    0.001364256480218281
  maxBuying:    2452390
  (maxBuyingA0: 16423655830)
)
traces.length: 20
Opening: 10
Closing: 4
Swapping: 6
--- DONE ---
Opening: 10
Closing: 4
Swapping: 6
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(5s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(22s)[0m

