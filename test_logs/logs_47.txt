[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 9007199254740991
weight: 1
jumpSize: 11
minAnchorPrice: 8256599316845908
jumpLog: 0.08701137698962969
anchorLog: 2.2204460492503128e-16
391864404987490.06
maxTicks: 1
maxTicks_: 391864404987490
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (new):
        sellingAmm  300 > 
        spotSelling 200
subSwap: 2456700 bought
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (new):
        sellingAmm  300 > 
        spotSelling 200
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1, 
   +     +  virtual: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 9007199254740991,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 100,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 11
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d98c7adcb1fc7cb54174defe9a6482e1ef004fa7facf0fd42dc835842a100e70),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 09a06c54c3ecc83fb8073e96973fac06e687127c78ba864de389d1de81b66028),
   +     +  anchorPrices: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 50,
   +     +  +  _: 4503599627370495,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 8256599316845908
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2456700,
   +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2, )
  boughtAmount: 2456700
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 400
  boughtExp: 1
  soldExp: 3
  spotPrice: 4.4408920985006274e-14
  effectivePrice: 4.070501078682786e-7
)

trials left: 1 - iteration: 2 - block: 2
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  300 > 
        spotSelling 200
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  300 > 
        spotSelling 200
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1, 
   +     +  virtual: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 9007199254740991,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 100,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 11
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d98c7adcb1fc7cb54174defe9a6482e1ef004fa7facf0fd42dc835842a100e70),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 09a06c54c3ecc83fb8073e96973fac06e687127c78ba864de389d1de81b66028),
   +     +  anchorPrices: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 50,
   +     +  +  _: 4503599627370495,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 8256599316845908
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2456700,
   +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 2
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2, )
  boughtAmount: 2456700
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 400
  boughtExp: 1
  soldExp: 3
  spotPrice: 4.4408920985006274e-14
  effectivePrice: 4.070501078682786e-7
)

trials left: 1 - iteration: 3 - block: 1002
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 1003
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (new):
        sellingAmm  500 > 
        spotSelling 400
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257046841 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
subSwap: 4611700 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257046841 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: bdd36e23b85dfa816760f9412ea498a9de181da90d7701abf1846ab4, 
   +     +  virtual: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 9007199254740991,
   +     +  +  _: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: bdd36e23b85dfa816760f9412ea498a9de181da90d7701abf1846ab4,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 835b0d7b9beec59fcce1f1816e617ba22e899e26222a904ab11b9164f2777560),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: bfa3132528a17c81dba2be3e89e32432cb8b2a9fc2c5b1654696ab6955c39069),
   +     +  anchorPrices: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 4503599627370495,
   +     +  +  _: 4503599627370495
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2305850,
   +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2, )
  boughtAmount: 2305850
  soldAmount: 4611700
  boughtSpot: 9007199254740990
  soldSpot: 18014398509481980
  boughtExp: 1
  soldExp: 2
  spotPrice: 2
  effectivePrice: 2
)

trials left: 1 - iteration: 5 - block: 2003
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (new):
        sellingAmm  500 > 
        spotSelling 400
subSwap: 1 bought
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (new):
        sellingAmm  500 > 
        spotSelling 400
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1, 
   +     +  virtual: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 9007199254740991,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 100,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 11
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d98c7adcb1fc7cb54174defe9a6482e1ef004fa7facf0fd42dc835842a100e70),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 09a06c54c3ecc83fb8073e96973fac06e687127c78ba864de389d1de81b66028),
   +     +  anchorPrices: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 50,
   +     +  +  _: 4503599627370495,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 8256599316845908
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2456700,
   +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 3
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2, )
  boughtAmount: 1
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 800
  boughtExp: 1
  soldExp: 4
  spotPrice: 8.881784197001255e-14
  effectivePrice: 1
)

trials left: 1 - iteration: 6 - block: 2004
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  500 > 
        spotSelling 400
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257064081 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199259352692 > 
        spotSelling 9007199254740990
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  500 > 
        spotSelling 400
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1, 
   +     +  virtual: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 9007199254740991,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 100,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 11
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d98c7adcb1fc7cb54174defe9a6482e1ef004fa7facf0fd42dc835842a100e70),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 09a06c54c3ecc83fb8073e96973fac06e687127c78ba864de389d1de81b66028),
   +     +  anchorPrices: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 50,
   +     +  +  _: 4503599627370495,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 8256599316845908
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2456700,
   +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 4
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2, )
  boughtAmount: 2456700
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 800
  boughtExp: 1
  soldExp: 4
  spotPrice: 8.881784197001255e-14
  effectivePrice: 4.070501078682786e-7
)

trials left: 1 - iteration: 7 - block: 2005
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  600 > 
        spotSelling 400
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257064081 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199259352692 > 
        spotSelling 9007199254740990
subSwap: 2456700 bought
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  600 > 
        spotSelling 400
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1, 
   +     +  virtual: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 9007199254740991,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 100,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 11
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d98c7adcb1fc7cb54174defe9a6482e1ef004fa7facf0fd42dc835842a100e70),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 09a06c54c3ecc83fb8073e96973fac06e687127c78ba864de389d1de81b66028),
   +     +  anchorPrices: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 50,
   +     +  +  _: 4503599627370495,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 8256599316845908
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2456700,
   +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 5
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2, )
  boughtAmount: 2456700
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 800
  boughtExp: 1
  soldExp: 4
  spotPrice: 8.881784197001255e-14
  effectivePrice: 4.070501078682786e-7
)

trials left: 1 - iteration: 8 - block: 3005
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  700 > 
        spotSelling 400
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  700 > 
        spotSelling 400
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1, 
   +     +  virtual: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 9007199254740991,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 100,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 11
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d98c7adcb1fc7cb54174defe9a6482e1ef004fa7facf0fd42dc835842a100e70),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 09a06c54c3ecc83fb8073e96973fac06e687127c78ba864de389d1de81b66028),
   +     +  anchorPrices: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 50,
   +     +  +  _: 4503599627370495,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 8256599316845908
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2456700,
   +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 6
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2, )
  boughtAmount: 2456700
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 800
  boughtExp: 1
  soldExp: 4
  spotPrice: 8.881784197001255e-14
  effectivePrice: 4.070501078682786e-7
)

trials left: 1 - iteration: 9 - block: 3006
virtual: 1
weight: 58
jumpSize: 57
minAnchorPrice: 57
jumpLog: 0.01739174271186924
anchorLog: 0.01739174271186924
1
maxTicks: 1
maxTicks_: 1
1
virtual: 6636735994995266
weight: 1
jumpSize: 1
minAnchorPrice: 3318367997497633
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 4006
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 4967
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (new):
        sellingAmm  900 > 
        spotSelling 800
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257064081 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199259352692 > 
        spotSelling 9007199254740990
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  6636735997270946 > 
        spotBuying 13273471989990532
boughtAssetForSale (new):
        sellingAmm  174 > 
        spotSelling 173
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (new):
        sellingAmm  900 > 
        spotSelling 800
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1, 
   +     +  virtual: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 9007199254740991,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 100,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 11
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d98c7adcb1fc7cb54174defe9a6482e1ef004fa7facf0fd42dc835842a100e70),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 09a06c54c3ecc83fb8073e96973fac06e687127c78ba864de389d1de81b66028),
   +     +  anchorPrices: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 50,
   +     +  +  _: 4503599627370495,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 8256599316845908
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2456700,
   +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 7
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2, )
  boughtAmount: 2456700
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 1600
  boughtExp: 1
  soldExp: 5
  spotPrice: 1.776356839400251e-13
  effectivePrice: 4.070501078682786e-7
)

trials left: 1 - iteration: 12 - block: 5305
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  900 > 
        spotSelling 800
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257064081 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199259352692 > 
        spotSelling 9007199254740990
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  6636735997270946 > 
        spotBuying 13273471989990532
boughtAssetForSale (new):
        sellingAmm  174 > 
        spotSelling 173
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  900 > 
        spotSelling 800
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1, 
   +     +  virtual: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 9007199254740991,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 100,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 1,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 11
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 3afd442343d56595b6b8250ac570484adb405a2fa9f618d426e190d1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d98c7adcb1fc7cb54174defe9a6482e1ef004fa7facf0fd42dc835842a100e70),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 09a06c54c3ecc83fb8073e96973fac06e687127c78ba864de389d1de81b66028),
   +     +  anchorPrices: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 50,
   +     +  +  _: 4503599627370495,
   +     +  +  ea3a0a42250d02739f68d8515d3ca729ef574e666bd759751b4498e6_: 8256599316845908
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2456700,
   +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 8
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2, )
  boughtAmount: 2456700
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 1600
  boughtExp: 1
  soldExp: 5
  spotPrice: 1.776356839400251e-13
  effectivePrice: 4.070501078682786e-7
)

trials left: 1 - iteration: 13 - block: 5428
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1421132333512502
maxTicks_: 35
3
virtual: 6451421160485652
weight: 1
jumpSize: 98
minAnchorPrice: 6386255290177716
jumpLog: 0.010152371464017908
anchorLog: 2.2204460492503128e-16
45722216342277.914
maxTicks: 1421132333512502
maxTicks_: 45722216342277
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 14 - block: 5429

trials left: 1 - iteration: 15 - block: 5954
virtual: 4146866467793846
weight: 1
jumpSize: 55
minAnchorPrice: 4072815280868955
jumpLog: 0.018018505502678212
anchorLog: 2.2204460492503128e-16
81148134667634.84
maxTicks: 2313763460708811
maxTicks_: 81148134667634
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 771254486902937
maxTicks_: 3121657384082680
3
virtual: 4146866467793846
weight: 1
jumpSize: 55
minAnchorPrice: 4072815280868955
jumpLog: 0.018018505502678212
anchorLog: 2.2204460492503128e-16
81148134667634.84
virtual: 4146866467793846
weight: 1
jumpSize: 55
minAnchorPrice: 4072815280868955
jumpLog: 0.018018505502678212
anchorLog: 2.2204460492503128e-16
81148134667634.84
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 16 - block: 6954

trials left: 1 - iteration: 17 - block: 6955
virtual: 1867107538570672
weight: 1
jumpSize: 1
minAnchorPrice: 933553769285336
jumpLog: 0.6931471805599453
anchorLog: 1.110223024625156e-15
624331476816536.2
maxTicks: 1
maxTicks_: 624331476816536
1
virtual: 1
weight: 16
jumpSize: 1
minAnchorPrice: 8
jumpLog: 0.6931471805599453
anchorLog: 0.11778303565638346
5.884949192361718
maxTicks: 1
maxTicks_: 5
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 7955

trials left: 1 - iteration: 19 - block: 7956
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257197691 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  1000 > 
        spotSelling 800
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257081321 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  4918120954696783 > 
        spotSelling 4876947591209987
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257081321 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  4918120954696783 > 
        spotSelling 4906327502239907
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257081321 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  4918120954696783 > 
        spotSelling 4847743612009265
subSwap: 488069 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257081321 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  4918120954696783 > 
        spotSelling 4876947591209987
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: eaadc955873f97185c3d8dae480b4ad46120e91346aee5ba9193f298, 
   +     +  virtual: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 4146866467793846,
   +     +  +  _: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 55,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: eaadc955873f97185c3d8dae480b4ad46120e91346aee5ba9193f298,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 7dbece1d1f3f61bb45f0d1227aef551ff0d52f823bd1a7d1a991f524add3b956),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: decdd5b9021614bd8ccc195e7c5ee78b7814de9f5ae4e0c181a4d84b74d9e17e),
   +     +  anchorPrices: +[
   +     +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 4072815280868955,
   +     +  +  _: 4503599627370495
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2340330,
   +  +  359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2_: 771254486902937
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(359ef959ebbd84585ca6949ae676992edad27ba1ebd64b136a4b50c2, )
  boughtAmount: 885314
  soldAmount: 488069
  boughtSpot: 9007199254740990
  soldSpot: 4965619365595623
  boughtExp: 1
  soldExp: 11
  spotPrice: 0.5512944951208825
  effectivePrice: 0.5512947948411524
)
traces.length: 20
Opening: 7
Swapping: 10
Closing: 3
--- DONE ---
Opening: 7
Swapping: 10
Closing: 3
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(1m27s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m47s)[0m

