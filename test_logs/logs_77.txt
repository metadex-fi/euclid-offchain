[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0
virtual: 1854157816049494
weight: 1
jumpSize: 26
minAnchorPrice: 1785485304343957
jumpLog: 0.03774032798284711
anchorLog: 6.661338147750937e-16
56655775680130.2
maxTicks: 1
maxTicks_: 56655775680130
1
virtual: 4178143155745442
weight: 1
jumpSize: 1
minAnchorPrice: 2089071577872721
jumpLog: 0.6931471805599453
anchorLog: 4.440892098500625e-16
1560828692041340
maxTicks: 1
maxTicks_: 1560828692041340
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1
Swapping.boundary()
addedBuyingA0: 4639019418654109907470
addedSellingA0: 4639021592826254470694
diff: -2174172144563224
subSwap: 1110307 sold
addedBuyingA0: 4639019418654109907470
addedSellingA0: 4639021592826254470694
diff: -2174172144563224
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 6cda7ac22576cd56e19432f5e9148f4ed7853db3830d1a9b6b7bdc5a, 
   +     +  virtual: +[
   +     +  +  a9b94ff5d5eda5a0f8a25b6c2c66a6194fac60289beb211c31082500_Nya028MTSMHo: 1854157816049494,
   +     +  +  _: 4178143155745442
   +     +  ], 
   +     +  weights: +[
   +     +  +  a9b94ff5d5eda5a0f8a25b6c2c66a6194fac60289beb211c31082500_Nya028MTSMHo: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  a9b94ff5d5eda5a0f8a25b6c2c66a6194fac60289beb211c31082500_Nya028MTSMHo: 26,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 6cda7ac22576cd56e19432f5e9148f4ed7853db3830d1a9b6b7bdc5a,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c3a1fef7efd830e6ce88c1fc77ba1f8ba09473371fec3969940a11b91539b984),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 6b97bdcf68ac757b2bd9d0e41111d29f50725e28676d46d36b2fb92478ae9ce9),
   +     +  anchorPrices: +[
   +     +  +  a9b94ff5d5eda5a0f8a25b6c2c66a6194fac60289beb211c31082500_Nya028MTSMHo: 1785485304343957,
   +     +  +  _: 2089071577872721
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2409290,
   +  +  a9b94ff5d5eda5a0f8a25b6c2c66a6194fac60289beb211c31082500_Nya028MTSMHo: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(a9b94ff5d5eda5a0f8a25b6c2c66a6194fac60289beb211c31082500, Nya028MTSMHo)
  boughtAmount: 2409290
  soldAmount: 1110307
  boughtSpot: 4178143155745442
  soldSpot: 1925471578205243
  boughtExp: 1
  soldExp: 2
  spotPrice: 0.46084385011018386
  effectivePrice: 0.4608440660941605
)

trials left: 1 - iteration: 2 - block: 964

trials left: 1 - iteration: 3 - block: 1964
virtual: 1
weight: 58
jumpSize: 1
minAnchorPrice: 29
jumpLog: 0.6931471805599453
anchorLog: 0.033901551675681416
20.445883633614336
maxTicks: 7609105771308567
maxTicks_: 20
3
virtual: 140133159408758
weight: 65
jumpSize: 63
minAnchorPrice: 8966332621544750
jumpLog: 0.015748356968139112
anchorLog: 2.2204460492503128e-16
70924294573408.88
maxTicks: 2536368590436189
maxTicks_: 70924294573408
3
virtual: 1
weight: 58
jumpSize: 1
minAnchorPrice: 29
jumpLog: 0.6931471805599453
anchorLog: 0.033901551675681416
20.445883633614336
virtual: 1
weight: 58
jumpSize: 1
minAnchorPrice: 29
jumpLog: 0.6931471805599453
anchorLog: 0.033901551675681416
20.445883633614336
virtual: 140133159408758
weight: 65
jumpSize: 63
minAnchorPrice: 8966332621544750
jumpLog: 0.015748356968139112
anchorLog: 2.2204460492503128e-16
70924294573408.88
virtual: 140133159408758
weight: 65
jumpSize: 63
minAnchorPrice: 8966332621544750
jumpLog: 0.015748356968139112
anchorLog: 2.2204460492503128e-16
70924294573408.88
virtual: 140133159408758
weight: 65
jumpSize: 63
minAnchorPrice: 8966332621544750
jumpLog: 0.015748356968139112
anchorLog: 2.2204460492503128e-16
70924294573408.88
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 1965

trials left: 1 - iteration: 5 - block: 2044
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 7609105771308567
maxTicks_: 1
1
virtual: 1
weight: 96
jumpSize: 79
minAnchorPrice: 94
jumpLog: 0.012578782206860185
anchorLog: 0.010582109330537008
1.1886838260649355
maxTicks: 7609105771308567
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 6 - block: 3044

trials left: 1 - iteration: 7 - block: 3092
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 6464894307429493
maxTicks_: 44812306322540
3
virtual: 1
weight: 100
jumpSize: 32
minAnchorPrice: 96
jumpLog: 0.030771658666753687
anchorLog: 0.010362787035546658
2.9694384880438123
maxTicks: 6464894307429493
maxTicks_: 2
2
virtual: 1
weight: 100
jumpSize: 32
minAnchorPrice: 96
jumpLog: 0.030771658666753687
anchorLog: 0.010362787035546658
2.9694384880438123
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 3215

trials left: 1 - iteration: 9 - block: 4215
virtual: 3664187057219976
weight: 2
jumpSize: 1
minAnchorPrice: 3664187057219976
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 6330262758753675
maxTicks_: 3121657384082680
3
virtual: 2910775962659311
weight: 3
jumpSize: 100
minAnchorPrice: 8645869196017755
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 6330262758753675
maxTicks_: 44812306322540
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 4216
virtual: 4660823785455132
weight: 1
jumpSize: 100
minAnchorPrice: 4614677015302110
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1278843012554892
maxTicks_: 44812306322540
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1278843012554892
maxTicks_: 3121657384082680
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 4217

trials left: 1 - iteration: 12 - block: 4234

trials left: 1 - iteration: 13 - block: 5041
virtual: 4848651027453584
weight: 1
jumpSize: 14
minAnchorPrice: 4525407625623345
jumpLog: 0.06899287148695142
anchorLog: 2.2204460492503128e-16
310716270319855
maxTicks: 7541459824463675
maxTicks_: 310716270319855
3
virtual: 1303714803873657
weight: 6
jumpSize: 100
minAnchorPrice: 7744840419051427
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 2513819941487891
maxTicks_: 44812306322540
3
virtual: 4848651027453584
weight: 1
jumpSize: 14
minAnchorPrice: 4525407625623345
jumpLog: 0.06899287148695142
anchorLog: 2.2204460492503128e-16
310716270319855
virtual: 4848651027453584
weight: 1
jumpSize: 14
minAnchorPrice: 4525407625623345
jumpLog: 0.06899287148695142
anchorLog: 2.2204460492503128e-16
310716270319855
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 14 - block: 5042

trials left: 1 - iteration: 15 - block: 5069
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 16 - block: 5102
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
virtual: 1
weight: 44
jumpSize: 1
minAnchorPrice: 22
jumpLog: 0.6931471805599453
anchorLog: 0.044451762570833796
15.593244012662414
maxTicks: 1
maxTicks_: 15
1
virtual: 4503503732132208
weight: 2
jumpSize: 100
minAnchorPrice: 8917829172539025
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 17 - block: 5103

trials left: 1 - iteration: 18 - block: 5291

trials left: 1 - iteration: 19 - block: 5292
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 7609105771308567
maxTicks_: 35
3
virtual: 1
weight: 65
jumpSize: 40
minAnchorPrice: 63
jumpLog: 0.024692612590371414
anchorLog: 0.015748356968139112
1.5679484939494097
maxTicks: 2536368590436189
maxTicks_: 1
1
virtual: 8388001231756945
weight: 1
jumpSize: 100
minAnchorPrice: 8304951714610836
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 2536368590436189
maxTicks_: 44812306322540
3
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
virtual: 8388001231756945
weight: 1
jumpSize: 100
minAnchorPrice: 8304951714610836
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
virtual: 8388001231756945
weight: 1
jumpSize: 100
minAnchorPrice: 8304951714610836
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
virtual: 8388001231756945
weight: 1
jumpSize: 100
minAnchorPrice: 8304951714610836
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
virtual: 8388001231756945
weight: 1
jumpSize: 100
minAnchorPrice: 8304951714610836
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
virtual: 8388001231756945
weight: 1
jumpSize: 100
minAnchorPrice: 8304951714610836
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
virtual: 8388001231756945
weight: 1
jumpSize: 100
minAnchorPrice: 8304951714610836
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
Opening pool with 9 dirac utxos and 1 param utxos
traces.length: 20
Opening: 10
Swapping: 1
Closing: 9
--- DONE ---
Opening: 10
Swapping: 1
Closing: 9
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(37s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(2m54s)[0m

