[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1

          maxBuying: 1141300
          maxSelling: 1
          maxBuyingA0: 232825200
          maxSellingA0: 1152000
          maxSwapA0: 1152000
          spotBuying: 1152000
          spotSelling: 204
          buyingAmount: 5647
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  204 > 
        spotSelling 202
subSwap: 4386 bought
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  204 > 
        spotSelling 202
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654, 
   +     +  virtual: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 2,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 51,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: caccfb6353332289246b66fac206623efaaa6460760f764d94da921c51efd1da),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 1256014dc4dd190afe4f574a8e747cbc19e85eaaf5e4d171f2fb9da8f6400b6f),
   +     +  anchorPrices: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 4500
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2284300,
   +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 1
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4, 6xFi)
  boughtAmount: 4386
  soldAmount:   1
  boughtSpot:   1152000
  soldSpot:     204
  (boughtA0:    894744)
  (soldA0:      1152000)
  boughtExp:    8
  soldExp:      72
  spotPrice:    0.00017708333333333335
  eff.Price:    0.00022799817601459188
  maxBuying:    4386
  (maxBuyingA0: 894744)
)

trials left: 1 - iteration: 2 - block: 985

          maxBuying: 1141300
          maxSelling: 1
          maxBuyingA0: 293314100
          maxSellingA0: 1152000
          maxSwapA0: 1152000
          spotBuying: 1152000
          spotSelling: 257
          buyingAmount: 4482
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  255 > 
        spotSelling 254
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  255 > 
        spotSelling 254
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654, 
   +     +  virtual: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 2,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 51,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: caccfb6353332289246b66fac206623efaaa6460760f764d94da921c51efd1da),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 1256014dc4dd190afe4f574a8e747cbc19e85eaaf5e4d171f2fb9da8f6400b6f),
   +     +  anchorPrices: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 4500
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2284300,
   +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 2
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4, 6xFi)
  boughtAmount: 4482
  soldAmount:   1
  boughtSpot:   1152000
  soldSpot:     257
  (boughtA0:    1151874)
  (soldA0:      1152000)
  boughtExp:    8
  soldExp:      95
  spotPrice:    0.00022309027777777778
  eff.Price:    0.00022311468094600624
  maxBuying:    2284300
  (maxBuyingA0: 587065100)
)

trials left: 1 - iteration: 3 - block: 1985

          maxBuying: 1141300
          maxSelling: 1
          maxBuyingA0: 350379100
          maxSellingA0: 1152000
          maxSwapA0: 1152000
          spotBuying: 1152000
          spotSelling: 307
          buyingAmount: 3752
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  306 > 
        spotSelling 304
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  306 > 
        spotSelling 304
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654, 
   +     +  virtual: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 2,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 51,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: caccfb6353332289246b66fac206623efaaa6460760f764d94da921c51efd1da),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 1256014dc4dd190afe4f574a8e747cbc19e85eaaf5e4d171f2fb9da8f6400b6f),
   +     +  anchorPrices: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 4500
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2284300,
   +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 3
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4, 6xFi)
  boughtAmount: 3752
  soldAmount:   1
  boughtSpot:   1152000
  soldSpot:     307
  (boughtA0:    1151864)
  (soldA0:      1152000)
  boughtExp:    8
  soldExp:      113
  spotPrice:    0.00026649305555555557
  eff.Price:    0.00026652452025586353
  maxBuying:    2284300
  (maxBuyingA0: 701280100)
)

trials left: 1 - iteration: 4 - block: 2177
virtual: 1803
weight: 1
jumpSize: 100
minAnchorPrice: 1785
jumpLog: 0.009950330853168092
anchorLog: 0.0005600672227049029
17.76631527392718
maxTicks: 1
maxTicks_: 17
1
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 2722

          maxBuying: 1141300
          maxSelling: 1
          maxBuyingA0: 407444100
          maxSellingA0: 1152000
          maxSwapA0: 1152000
          spotBuying: 1152000
          spotSelling: 357
          buyingAmount: 3226
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  357 > 
        spotSelling 353
subSwap: 3226 bought
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  357 > 
        spotSelling 353
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654, 
   +     +  virtual: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 2,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 51,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: caccfb6353332289246b66fac206623efaaa6460760f764d94da921c51efd1da),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 1256014dc4dd190afe4f574a8e747cbc19e85eaaf5e4d171f2fb9da8f6400b6f),
   +     +  anchorPrices: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 4500
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2284300,
   +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 4
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4, 6xFi)
  boughtAmount: 3226
  soldAmount:   1
  boughtSpot:   1152000
  soldSpot:     357
  (boughtA0:    1151682)
  (soldA0:      1152000)
  boughtExp:    8
  soldExp:      128
  spotPrice:    0.00030989583333333336
  eff.Price:    0.00030998140111593303
  maxBuying:    3226
  (maxBuyingA0: 1151682)
)

trials left: 1 - iteration: 6 - block: 2853
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 9000
weight: 1
jumpSize: 80
minAnchorPrice: 8888
jumpLog: 0.01242251999855711
anchorLog: 0.00011250492220899938
110.41756889071846
maxTicks: 1
maxTicks_: 110
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 3853
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 2175
maxTicks_: 88
3
virtual: 1
weight: 100
jumpSize: 12
minAnchorPrice: 92
jumpLog: 0.08004270767353636
anchorLog: 0.010810916104215676
7.403878348692762
maxTicks: 2175
maxTicks_: 7
3
virtual: 1
weight: 100
jumpSize: 12
minAnchorPrice: 92
jumpLog: 0.08004270767353636
anchorLog: 0.010810916104215676
7.403878348692762
virtual: 1
weight: 100
jumpSize: 12
minAnchorPrice: 92
jumpLog: 0.08004270767353636
anchorLog: 0.010810916104215676
7.403878348692762
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 4853

trials left: 1 - iteration: 9 - block: 4854
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 8999
maxTicks_: 1
1
virtual: 8290
weight: 1
jumpSize: 4
minAnchorPrice: 6632
jumpLog: 0.22314355131420976
anchorLog: 0.0001507727104251185
1479.9996012874913
maxTicks: 8999
maxTicks_: 1479
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 5854

          maxBuying: 1141300
          maxSelling: 1
          maxBuyingA0: 467933000
          maxSellingA0: 1152000
          maxSwapA0: 1152000
          spotBuying: 1152000
          spotSelling: 410
          buyingAmount: 2809
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  408 > 
        spotSelling 406

          maxBuying: 144460
          maxSelling: 88
          maxBuyingA0: 1312996940
          maxSellingA0: 202752000
          maxSwapA0: 202752000
          spotBuying: 2304000
          spotSelling: 9089
          buyingAmount: 22307
          sellingAmount: 88
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2448460 > 
        spotBuying 4608000
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999
subSwap: 41 sold
boughtAssetForSale (old): 
        buyingAmm  2448460 > 
        spotBuying 4608000
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 118a8382f987b57d1a97b7c5bc8f32836f72df2f14092967529b9b86, 
   +     +  virtual: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 9000,
   +     +  +  _: 9000,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 1,
   +     +  +  _: 1,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 1,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 80
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 118a8382f987b57d1a97b7c5bc8f32836f72df2f14092967529b9b86,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8bdf3fadecff10d201fff6d4ef37bf8768b9542791d009d73f1b4de84dc2ec64),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 93aa445a085d9c364baf0682c0d76607da5fc6e94424fef4174a9f63a0ac361e),
   +     +  anchorPrices: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 8910,
   +     +  +  _: 4500,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 8888
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2439460,
   +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 1
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4, 6xFi)
  boughtAmount: 10393
  soldAmount:   41
  boughtSpot:   2304000
  soldSpot:     9089
  (boughtA0:    94461977)
  (soldA0:      94464000)
  boughtExp:    9
  soldExp:      2
  spotPrice:    0.003944878472222222
  eff.Price:    0.003944962955835659
  maxBuying:    2439460
  (maxBuyingA0: 22172251940)
)

trials left: 1 - iteration: 11 - block: 6849

          maxBuying: 1141300
          maxSelling: 1
          maxBuyingA0: 467933000
          maxSellingA0: 1152000
          maxSwapA0: 1152000
          spotBuying: 1152000
          spotSelling: 410
          buyingAmount: 2809
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  408 > 
        spotSelling 406

          maxBuying: 148770
          maxSelling: 47
          maxBuyingA0: 1352170530
          maxSellingA0: 108288000
          maxSwapA0: 108288000
          spotBuying: 2304000
          spotSelling: 9089
          buyingAmount: 11914
          sellingAmount: 47
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2452770 > 
        spotBuying 4608000
boughtAssetForSale (old):
        sellingAmm  9042 > 
        spotSelling 8999
subSwap: 47 sold
boughtAssetForSale (old): 
        buyingAmm  2452770 > 
        spotBuying 4608000
boughtAssetForSale (old):
        sellingAmm  9042 > 
        spotSelling 8999
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 118a8382f987b57d1a97b7c5bc8f32836f72df2f14092967529b9b86, 
   +     +  virtual: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 9000,
   +     +  +  _: 9000,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 1,
   +     +  +  _: 1,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 1,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 80
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 118a8382f987b57d1a97b7c5bc8f32836f72df2f14092967529b9b86,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8bdf3fadecff10d201fff6d4ef37bf8768b9542791d009d73f1b4de84dc2ec64),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 93aa445a085d9c364baf0682c0d76607da5fc6e94424fef4174a9f63a0ac361e),
   +     +  anchorPrices: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 8910,
   +     +  +  _: 4500,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 8888
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2443770,
   +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 42
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4, 6xFi)
  boughtAmount: 11914
  soldAmount:   47
  boughtSpot:   2304000
  soldSpot:     9089
  (boughtA0:    108286346)
  (soldA0:      108288000)
  boughtExp:    9
  soldExp:      2
  spotPrice:    0.003944878472222222
  eff.Price:    0.003944938727547424
  maxBuying:    2443770
  (maxBuyingA0: 22211425530)
)

trials left: 1 - iteration: 12 - block: 7849

trials left: 1 - iteration: 13 - block: 7850

          maxBuying: 1141300
          maxSelling: 1
          maxBuyingA0: 467933000
          maxSellingA0: 1152000
          maxSwapA0: 1152000
          spotBuying: 1152000
          spotSelling: 410
          buyingAmount: 2809
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  408 > 
        spotSelling 406

          maxBuying: 148770
          maxSelling: 90
          maxBuyingA0: 1365559830
          maxSellingA0: 207360000
          maxSwapA0: 207360000
          spotBuying: 2304000
          spotSelling: 9179
          buyingAmount: 22590
          sellingAmount: 90
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2452770 > 
        spotBuying 4608000
boughtAssetForSale (new):
        sellingAmm  9179 > 
        spotSelling 9089
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  2452770 > 
        spotBuying 4608000
boughtAssetForSale (new):
        sellingAmm  9090 > 
        spotSelling 9089
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 118a8382f987b57d1a97b7c5bc8f32836f72df2f14092967529b9b86, 
   +     +  virtual: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 9000,
   +     +  +  _: 9000,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 1,
   +     +  +  _: 1,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 1,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 80
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 118a8382f987b57d1a97b7c5bc8f32836f72df2f14092967529b9b86,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8bdf3fadecff10d201fff6d4ef37bf8768b9542791d009d73f1b4de84dc2ec64),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 93aa445a085d9c364baf0682c0d76607da5fc6e94424fef4174a9f63a0ac361e),
   +     +  anchorPrices: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 8910,
   +     +  +  _: 4500,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 8888
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2443770,
   +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 89
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4, 6xFi)
  boughtAmount: 251
  soldAmount:   1
  boughtSpot:   2304000
  soldSpot:     9179
  (boughtA0:    2303929)
  (soldA0:      2304000)
  boughtExp:    9
  soldExp:      3
  spotPrice:    0.003983940972222222
  eff.Price:    0.00398406374501992
  maxBuying:    2443770
  (maxBuyingA0: 22431364830)
)

trials left: 1 - iteration: 14 - block: 8345
virtual: 9000
weight: 1
jumpSize: 29
minAnchorPrice: 8700
jumpLog: 0.033901551675681416
anchorLog: 0.00011493592334937207
294.96045002945226
maxTicks: 1
maxTicks_: 294
1
virtual: 837
weight: 1
jumpSize: 100
minAnchorPrice: 828
jumpLog: 0.009950330853168092
anchorLog: 0.0012070007500352875
8.243848111011685
maxTicks: 1
maxTicks_: 8
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 15 - block: 8841

          maxBuying: 1141300
          maxSelling: 1
          maxBuyingA0: 467933000
          maxSellingA0: 1152000
          maxSwapA0: 1152000
          spotBuying: 1152000
          spotSelling: 410
          buyingAmount: 2809
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  408 > 
        spotSelling 406

          maxBuying: 148770
          maxSelling: 89
          maxBuyingA0: 1365559830
          maxSellingA0: 205056000
          maxSwapA0: 205056000
          spotBuying: 2304000
          spotSelling: 9179
          buyingAmount: 22339
          sellingAmount: 89
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2452770 > 
        spotBuying 4608000
boughtAssetForSale (old):
        sellingAmm  9090 > 
        spotSelling 9089
subSwap: 1 bought
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  408 > 
        spotSelling 406
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654, 
   +     +  virtual: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 2,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 51,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: caccfb6353332289246b66fac206623efaaa6460760f764d94da921c51efd1da),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 1256014dc4dd190afe4f574a8e747cbc19e85eaaf5e4d171f2fb9da8f6400b6f),
   +     +  anchorPrices: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 4500
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2284300,
   +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 5
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4, 6xFi)
  boughtAmount: 1
  soldAmount:   1
  boughtSpot:   1152000
  soldSpot:     410
  (boughtA0:    410)
  (soldA0:      1152000)
  boughtExp:    8
  soldExp:      142
  spotPrice:    0.0003559027777777778
  eff.Price:    1
  maxBuying:    1
  (maxBuyingA0: 410)
)

trials left: 1 - iteration: 16 - block: 8842

          maxBuying: 1141300
          maxSelling: 1
          maxBuyingA0: 527280600
          maxSellingA0: 1152000
          maxSwapA0: 1152000
          spotBuying: 1152000
          spotSelling: 462
          buyingAmount: 2493
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  459 > 
        spotSelling 458

          maxBuying: 148770
          maxSelling: 89
          maxBuyingA0: 1365559830
          maxSellingA0: 205056000
          maxSwapA0: 205056000
          spotBuying: 2304000
          spotSelling: 9179
          buyingAmount: 22339
          sellingAmount: 89
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2452770 > 
        spotBuying 4608000
boughtAssetForSale (old):
        sellingAmm  9090 > 
        spotSelling 9089
subSwap: 2493 bought
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  459 > 
        spotSelling 458
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654, 
   +     +  virtual: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 2,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 51,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 755dd4270e8e824072813826e7c5b17d4c2a0520162199cb7b19f654,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: caccfb6353332289246b66fac206623efaaa6460760f764d94da921c51efd1da),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 1256014dc4dd190afe4f574a8e747cbc19e85eaaf5e4d171f2fb9da8f6400b6f),
   +     +  anchorPrices: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 4500
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2284300,
   +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 6
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4, 6xFi)
  boughtAmount: 2493
  soldAmount:   1
  boughtSpot:   1152000
  soldSpot:     462
  (boughtA0:    1151766)
  (soldA0:      1152000)
  boughtExp:    8
  soldExp:      154
  spotPrice:    0.0004010416666666667
  eff.Price:    0.00040112314480545525
  maxBuying:    2493
  (maxBuyingA0: 1151766)
)

trials left: 1 - iteration: 17 - block: 8843

          maxBuying: 1141300
          maxSelling: 1
          maxBuyingA0: 583204300
          maxSellingA0: 1152000
          maxSwapA0: 1152000
          spotBuying: 1152000
          spotSelling: 511
          buyingAmount: 2254
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2293300 > 
        spotBuying 2304000
boughtAssetForSale (new):
        sellingAmm  510 > 
        spotSelling 506

          maxBuying: 148770
          maxSelling: 89
          maxBuyingA0: 1365559830
          maxSellingA0: 205056000
          maxSwapA0: 205056000
          spotBuying: 2304000
          spotSelling: 9179
          buyingAmount: 22339
          sellingAmount: 89
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2452770 > 
        spotBuying 4608000
boughtAssetForSale (old):
        sellingAmm  9090 > 
        spotSelling 9089
subSwap: 75 sold
boughtAssetForSale (old): 
        buyingAmm  2452770 > 
        spotBuying 4608000
boughtAssetForSale (old):
        sellingAmm  9090 > 
        spotSelling 9089
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 118a8382f987b57d1a97b7c5bc8f32836f72df2f14092967529b9b86, 
   +     +  virtual: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 9000,
   +     +  +  _: 9000,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 1,
   +     +  +  _: 1,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 100,
   +     +  +  _: 1,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 80
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 118a8382f987b57d1a97b7c5bc8f32836f72df2f14092967529b9b86,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8bdf3fadecff10d201fff6d4ef37bf8768b9542791d009d73f1b4de84dc2ec64),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 93aa445a085d9c364baf0682c0d76607da5fc6e94424fef4174a9f63a0ac361e),
   +     +  anchorPrices: +[
   +     +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 8910,
   +     +  +  _: 4500,
   +     +  +  2ae9fa4abc587ec2c124a4a880739b7aa0f1d0f9b8427eb874fc0ffb_: 8888
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2443770,
   +  +  d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4_6xFi: 90
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(d350e6b669c147388935f5c4424cdc36226c483bf06acf074db534d4, 6xFi)
  boughtAmount: 18825
  soldAmount:   75
  boughtSpot:   2304000
  soldSpot:     9179
  (boughtA0:    172794675)
  (soldA0:      172800000)
  boughtExp:    9
  soldExp:      3
  spotPrice:    0.003983940972222222
  eff.Price:    0.00398406374501992
  maxBuying:    2443770
  (maxBuyingA0: 22431364830)
)

trials left: 1 - iteration: 18 - block: 9843
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 2516
maxTicks_: 3119
3
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 2516
maxTicks_: 88
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 10843
traces.length: 19
Opening: 7
Swapping: 10
Closing: 2
--- DONE ---
Opening: 7
Swapping: 10
Closing: 2
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(6s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(36s)[0m

