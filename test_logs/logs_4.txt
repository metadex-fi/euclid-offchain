[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0
virtual: 8420
weight: 1
jumpSize: 41
minAnchorPrice: 8219
jumpLog: 0.024097551579060524
anchorLog: 0.00012166190172566319
198.06982495965227
maxTicks: 8057
maxTicks_: 198
3
virtual: 9000
weight: 1
jumpSize: 53
minAnchorPrice: 8833
jumpLog: 0.018692133012152546
anchorLog: 0.00011320541133951467
165.1169567865702
maxTicks: 2685
maxTicks_: 165
3
virtual: 8420
weight: 1
jumpSize: 41
minAnchorPrice: 8219
jumpLog: 0.024097551579060524
anchorLog: 0.00012166190172566319
198.06982495965227
virtual: 8420
weight: 1
jumpSize: 41
minAnchorPrice: 8219
jumpLog: 0.024097551579060524
anchorLog: 0.00012166190172566319
198.06982495965227
virtual: 9000
weight: 1
jumpSize: 53
minAnchorPrice: 8833
jumpLog: 0.018692133012152546
anchorLog: 0.00011320541133951467
165.1169567865702
virtual: 9000
weight: 1
jumpSize: 53
minAnchorPrice: 8833
jumpLog: 0.018692133012152546
anchorLog: 0.00011320541133951467
165.1169567865702
virtual: 9000
weight: 1
jumpSize: 53
minAnchorPrice: 8833
jumpLog: 0.018692133012152546
anchorLog: 0.00011320541133951467
165.1169567865702
virtual: 9000
weight: 1
jumpSize: 53
minAnchorPrice: 8833
jumpLog: 0.018692133012152546
anchorLog: 0.00011320541133951467
165.1169567865702
virtual: 9000
weight: 1
jumpSize: 53
minAnchorPrice: 8833
jumpLog: 0.018692133012152546
anchorLog: 0.00011320541133951467
165.1169567865702
virtual: 9000
weight: 1
jumpSize: 53
minAnchorPrice: 8833
jumpLog: 0.018692133012152546
anchorLog: 0.00011320541133951467
165.1169567865702
Opening pool with 9 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1000
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 1
weight: 79
jumpSize: 1
minAnchorPrice: 39
jumpLog: 0.6931471805599453
anchorLog: 0.025317807984289786
27.377851233805753
maxTicks: 1
maxTicks_: 27
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 1001
swappingsFor()

          buyable: 895
          d: -44
          maxBuying: 44
          

          buyable: 2262750
          d: -38159
          maxBuying: 38159
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     38159
          maxSelling:    1
          maxBuyingA0:   362396023
          maxSellingA0:  2233591
          maxSwapA0:     2233591
          spotBuying:    2233591
          spotSelling:   9497
          buyingAmount:  235
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 895
          d: -192
          maxBuying: 192
          

          buyable: 2262750
          d: -38159
          maxBuying: 38159
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     38159
          maxSelling:    1
          maxBuyingA0:   356595855
          maxSellingA0:  2233591
          maxSwapA0:     2233591
          spotBuying:    2233591
          spotSelling:   9345
          buyingAmount:  239
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 895
          d: -118
          maxBuying: 118
          

          buyable: 2262750
          d: -38159
          maxBuying: 38159
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     38159
          maxSelling:    1
          maxBuyingA0:   359495939
          maxSellingA0:  2233591
          maxSwapA0:     2233591
          spotBuying:    2233591
          spotSelling:   9421
          buyingAmount:  237
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 895
          d: -44
          maxBuying: 44
          

          buyable: 2262750
          d: -24251
          maxBuying: 24251
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     24251
          maxSelling:    1
          maxBuyingA0:   230311747
          maxSellingA0:  2247499
          maxSwapA0:     2247499
          spotBuying:    2247499
          spotSelling:   9497
          buyingAmount:  236
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 895
          d: -44
          maxBuying: 44
          

          buyable: 2262750
          d: -10343
          maxBuying: 10343
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     10343
          maxSelling:    1
          maxBuyingA0:   98227471
          maxSellingA0:  2261407
          maxSwapA0:     2261407
          spotBuying:    2261407
          spotSelling:   9497
          buyingAmount:  238
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 895
          d: -192
          maxBuying: 192
          

          buyable: 2262750
          d: -24251
          maxBuying: 24251
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     24251
          maxSelling:    1
          maxBuyingA0:   226625595
          maxSellingA0:  2247499
          maxSwapA0:     2247499
          spotBuying:    2247499
          spotSelling:   9345
          buyingAmount:  240
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 895
          d: -192
          maxBuying: 192
          

          buyable: 2262750
          d: -10343
          maxBuying: 10343
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     10343
          maxSelling:    1
          maxBuyingA0:   96655335
          maxSellingA0:  2261407
          maxSwapA0:     2261407
          spotBuying:    2261407
          spotSelling:   9345
          buyingAmount:  241
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 895
          d: -118
          maxBuying: 118
          

          buyable: 2262750
          d: -24251
          maxBuying: 24251
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     24251
          maxSelling:    1
          maxBuyingA0:   228468671
          maxSellingA0:  2247499
          maxSwapA0:     2247499
          spotBuying:    2247499
          spotSelling:   9421
          buyingAmount:  238
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 895
          d: -118
          maxBuying: 118
          

          buyable: 2262750
          d: -10343
          maxBuying: 10343
          

        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        buyingAsset: Asset(, )
        sellingAsset: Asset(2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425, )
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        
not looping

          ---------------------------
          maxBuying:     10343
          maxSelling:    1
          maxBuyingA0:   97441403
          maxSellingA0:  2261407
          maxSwapA0:     2261407
          spotBuying:    2261407
          spotSelling:   9421
          buyingAmount:  240
          sellingAmount: 1
          ---------------------------
        
Swapping.boundary()
swappingsFor()

          buyable: 1
          d: -2
          maxBuying: 1
          
subSwap: 1 sold
valueEquation: 
        addedBuyingA0  2269783 > 
        addedSellingA0 2261407
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 202d4bde2a1b56c87328933bf9f8875d20bb0c787962abe2fcf3d506, 
   +     +  virtual: +[
   +     +  +  2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425_: 8420,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425_: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425_: 41,
   +     +  +  _: 53
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 202d4bde2a1b56c87328933bf9f8875d20bb0c787962abe2fcf3d506,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 32f01cbd1b8832f8674289ad61925a95c0ece5e090f5822c1172a09a568729cd),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 1f9485705d84884f0aea2dded37c81532c451d53a3bfcc09743ceb0c097d715d),
   +     +  anchorPrices: +[
   +     +  +  2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425_: 8219,
   +     +  +  _: 8943
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2262750,
   +  +  2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425_: 895
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(2299899a62c71805a922717e03ac192d035f7e81aed445ea3ba27425, )
  boughtAmount: 238
  soldAmount:   1
  boughtSpot:   2261407
  soldSpot:     9497
  (boughtA0:    2260286)
  (soldA0:      2261407)
  boughtExp:    296
  soldExp:      6
  spotPrice:    0.004199597860977701
  eff.Price:    0.004201680672268907
  maxBuying:    2262750
  (maxBuyingA0: 21489336750)
)

trials left: 1 - iteration: 3 - block: 1002
virtual: 9000
weight: 1
jumpSize: 38
minAnchorPrice: 8769
jumpLog: 0.025975486403260736
anchorLog: 0.00011403158687314088
227.79202776646642
maxTicks: 956
maxTicks_: 227
3
virtual: 2
weight: 77
jumpSize: 100
minAnchorPrice: 152
jumpLog: 0.009950330853168092
anchorLog: 0.0065574005461590396
1.5174200177532913
maxTicks: 318
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 38
minAnchorPrice: 8769
jumpLog: 0.025975486403260736
anchorLog: 0.00011403158687314088
227.79202776646642
virtual: 9000
weight: 1
jumpSize: 38
minAnchorPrice: 8769
jumpLog: 0.025975486403260736
anchorLog: 0.00011403158687314088
227.79202776646642
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 1843
virtual: 1
weight: 8
jumpSize: 7
minAnchorPrice: 7
jumpLog: 0.13353139262452257
anchorLog: 0.13353139262452257
1
maxTicks: 743
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 16
minAnchorPrice: 8470
jumpLog: 0.06062462181643484
anchorLog: 0.00011805678545081772
513.5208584998358
maxTicks: 743
maxTicks_: 513
3
virtual: 9000
weight: 1
jumpSize: 16
minAnchorPrice: 8470
jumpLog: 0.06062462181643484
anchorLog: 0.00011805678545081772
513.5208584998358
virtual: 9000
weight: 1
jumpSize: 16
minAnchorPrice: 8470
jumpLog: 0.06062462181643484
anchorLog: 0.00011805678545081772
513.5208584998358
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 1844
virtual: 7324
weight: 1
jumpSize: 100
minAnchorPrice: 7251
jumpLog: 0.009950330853168092
anchorLog: 0.00013790250314902304
72.15482406737289
maxTicks: 1
maxTicks_: 72
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 6 - block: 1845
virtual: 1
weight: 13
jumpSize: 1
minAnchorPrice: 6
jumpLog: 0.6931471805599453
anchorLog: 0.15415067982725836
4.49655610560192
maxTicks: 1
maxTicks_: 4
1
virtual: 2166
weight: 5
jumpSize: 1
minAnchorPrice: 5415
jumpLog: 0.6931471805599453
anchorLog: 0.00018465515701988932
3753.738545657222
maxTicks: 1
maxTicks_: 3753
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 1846
virtual: 3712
weight: 2
jumpSize: 30
minAnchorPrice: 7184
jumpLog: 0.03278982282299097
anchorLog: 0.00013918853108976773
235.5784816914522
maxTicks: 1
maxTicks_: 235
1
virtual: 6827
weight: 1
jumpSize: 1
minAnchorPrice: 3413
jumpLog: 0.6931471805599453
anchorLog: 0.0002929544476788316
2366.0578839200566
maxTicks: 1
maxTicks_: 2366
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 1847
virtual: 1
weight: 76
jumpSize: 1
minAnchorPrice: 38
jumpLog: 0.6931471805599453
anchorLog: 0.025975486403260736
26.68466606549988
maxTicks: 9000
maxTicks_: 26
3
virtual: 9000
weight: 1
jumpSize: 20
minAnchorPrice: 8571
jumpLog: 0.04879016416943205
anchorLog: 0.00011666569458487321
418.20489170394177
maxTicks: 4500
maxTicks_: 418
3
virtual: 1
weight: 28
jumpSize: 1
minAnchorPrice: 14
jumpLog: 0.6931471805599453
anchorLog: 0.06899287148695142
10.04664924971328
maxTicks: 4500
maxTicks_: 10
3
virtual: 1
weight: 76
jumpSize: 1
minAnchorPrice: 38
jumpLog: 0.6931471805599453
anchorLog: 0.025975486403260736
26.68466606549988
virtual: 1
weight: 28
jumpSize: 1
minAnchorPrice: 14
jumpLog: 0.6931471805599453
anchorLog: 0.06899287148695142
10.04664924971328
virtual: 1
weight: 28
jumpSize: 1
minAnchorPrice: 14
jumpLog: 0.6931471805599453
anchorLog: 0.06899287148695142
10.04664924971328
Opening pool with 4 dirac utxos and 1 param utxos

trials left: 1 - iteration: 9 - block: 2801
traces.length: 10
Opening: 8
Swapping: 1
Closing: 1
--- DONE ---
Opening: 8
Swapping: 1
Closing: 1
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(2s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(56s)[0m

