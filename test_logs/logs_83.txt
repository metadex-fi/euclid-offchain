[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0
virtual: 426750013101288
weight: 13
jumpSize: 45
minAnchorPrice: 5427146905744640
jumpLog: 0.021978906718775167
anchorLog: 2.2204460492503128e-16
98984196108686.75
maxTicks: 1
maxTicks_: 98984196108686
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 458
virtual: 4448105225238824
weight: 1
jumpSize: 100
minAnchorPrice: 4404064579444380
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 4054943075219212
maxTicks_: 44812306322540
3
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 4054943075219212
maxTicks_: 35
3
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 459
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 95
minAnchorPrice: 8913374262504105
jumpLog: 0.010471299867295437
anchorLog: 2.2204460492503128e-16
47158542180436.46
maxTicks: 1
maxTicks_: 47158542180436
1
virtual: 9007199254740991
weight: 1
jumpSize: 87
minAnchorPrice: 8904844717755297
jumpLog: 0.01142869582362285
anchorLog: 2.2204460492503128e-16
51470270252598.62
maxTicks: 1
maxTicks_: 51470270252598
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 1459
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  400 > 
        spotSelling 397
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  400 > 
        spotSelling 397
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12, 
   +     +  virtual: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 2,
   +     +  +  _: 9007199254740991,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 1,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 95,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 87
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8b9b69abe0816be42dca792f9c92dc5d409bedd05b6543c2d092e2c5230da9b5),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 955ac76a91a08aa62b1b064b5cbc49849cdc88d6a5c60246c91d0716a69a99cc),
   +     +  anchorPrices: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 198,
   +     +  +  _: 8913374262504105,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 8904844717755297
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2883390,
   +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7, 6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj)
  boughtAmount: 2883390
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 401
  boughtExp: 1
  soldExp: 71
  spotPrice: 4.451994328746879e-14
  effectivePrice: 3.468139932509997e-7
)

trials left: 1 - iteration: 4 - block: 2359
virtual: 9007199254740991
weight: 1
jumpSize: 51
minAnchorPrice: 8833983884457510
jumpLog: 0.019418085857101516
anchorLog: 2.2204460492503128e-16
87451284230290.7
maxTicks: 1
maxTicks_: 87451284230290
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 2
weight: 67
jumpSize: 100
minAnchorPrice: 132
jumpLog: 0.009950330853168092
anchorLog: 0.007547205635382904
1.3184125799512905
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 3359
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  500 > 
        spotSelling 499
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  500 > 
        spotSelling 499
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12, 
   +     +  virtual: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 2,
   +     +  +  _: 9007199254740991,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 1,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 95,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 87
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8b9b69abe0816be42dca792f9c92dc5d409bedd05b6543c2d092e2c5230da9b5),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 955ac76a91a08aa62b1b064b5cbc49849cdc88d6a5c60246c91d0716a69a99cc),
   +     +  anchorPrices: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 198,
   +     +  +  _: 8913374262504105,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 8904844717755297
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2883390,
   +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 2
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7, 6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj)
  boughtAmount: 2883390
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 504
  boughtExp: 1
  soldExp: 94
  spotPrice: 5.59552404411079e-14
  effectivePrice: 3.468139932509997e-7
)

trials left: 1 - iteration: 6 - block: 3360
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  600 > 
        spotSelling 597
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  600 > 
        spotSelling 597
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12, 
   +     +  virtual: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 2,
   +     +  +  _: 9007199254740991,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 1,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 95,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 87
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8b9b69abe0816be42dca792f9c92dc5d409bedd05b6543c2d092e2c5230da9b5),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 955ac76a91a08aa62b1b064b5cbc49849cdc88d6a5c60246c91d0716a69a99cc),
   +     +  anchorPrices: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 198,
   +     +  +  _: 8913374262504105,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 8904844717755297
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2883390,
   +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 3
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7, 6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj)
  boughtAmount: 2883390
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 603
  boughtExp: 1
  soldExp: 112
  spotPrice: 6.694644838489695e-14
  effectivePrice: 3.468139932509997e-7
)

trials left: 1 - iteration: 7 - block: 3638
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  700 > 
        spotSelling 693
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  700 > 
        spotSelling 693
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12, 
   +     +  virtual: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 2,
   +     +  +  _: 9007199254740991,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 1,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 95,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 87
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8b9b69abe0816be42dca792f9c92dc5d409bedd05b6543c2d092e2c5230da9b5),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 955ac76a91a08aa62b1b064b5cbc49849cdc88d6a5c60246c91d0716a69a99cc),
   +     +  anchorPrices: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 198,
   +     +  +  _: 8913374262504105,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 8904844717755297
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2883390,
   +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 4
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7, 6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj)
  boughtAmount: 2883390
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 700
  boughtExp: 1
  soldExp: 127
  spotPrice: 7.771561172376097e-14
  effectivePrice: 3.468139932509997e-7
)

trials left: 1 - iteration: 8 - block: 4638
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  800 > 
        spotSelling 797
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  800 > 
        spotSelling 797
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12, 
   +     +  virtual: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 2,
   +     +  +  _: 9007199254740991,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 1,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 95,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 87
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8b9b69abe0816be42dca792f9c92dc5d409bedd05b6543c2d092e2c5230da9b5),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 955ac76a91a08aa62b1b064b5cbc49849cdc88d6a5c60246c91d0716a69a99cc),
   +     +  anchorPrices: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 198,
   +     +  +  _: 8913374262504105,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 8904844717755297
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2883390,
   +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 5
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7, 6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj)
  boughtAmount: 2883390
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 805
  boughtExp: 1
  soldExp: 141
  spotPrice: 8.937295348232513e-14
  effectivePrice: 3.468139932509997e-7
)

trials left: 1 - iteration: 9 - block: 5588

trials left: 1 - iteration: 10 - block: 6588
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  900 > 
        spotSelling 898
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  900 > 
        spotSelling 898
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12, 
   +     +  virtual: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 2,
   +     +  +  _: 9007199254740991,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 1,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 95,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 87
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1c1d280f44cd1c7ce7ac0432b4bc09c6b63849b9953cf189f800cf12,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8b9b69abe0816be42dca792f9c92dc5d409bedd05b6543c2d092e2c5230da9b5),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 955ac76a91a08aa62b1b064b5cbc49849cdc88d6a5c60246c91d0716a69a99cc),
   +     +  anchorPrices: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 198,
   +     +  +  _: 8913374262504105,
   +     +  +  8936aacb2c0c60b805a407d5afe0e2bc0a3ece0edf40c41a191891ac_xmFfgHoSBGRioqoXa4VogXjdVNUblC0a: 8904844717755297
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2883390,
   +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 6
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7, 6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj)
  boughtAmount: 2883390
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 907
  boughtExp: 1
  soldExp: 153
  spotPrice: 1.0069722833350172e-13
  effectivePrice: 3.468139932509997e-7
)

trials left: 1 - iteration: 11 - block: 7217

trials left: 1 - iteration: 12 - block: 7218
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  1000 > 
        spotSelling 992
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
subSwap: 1540620 bought
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 0c965ec619139392dd21ce2177b369bba12fa7422cdb14dde6027293, 
   +     +  virtual: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 9007199254740991,
   +     +  +  _: 9007199254740991,
   +     +  +  d4c65782b64bf05cf69b7f478e4c99fe2638fb2bfead51b0ef5440cd_8gzvZ5QMyGPRSnHqj76bRmRp8QIWDpYl: 2
   +     +  ], 
   +     +  weights: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 1,
   +     +  +  _: 1,
   +     +  +  d4c65782b64bf05cf69b7f478e4c99fe2638fb2bfead51b0ef5440cd_8gzvZ5QMyGPRSnHqj76bRmRp8QIWDpYl: 67
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 51,
   +     +  +  _: 1,
   +     +  +  d4c65782b64bf05cf69b7f478e4c99fe2638fb2bfead51b0ef5440cd_8gzvZ5QMyGPRSnHqj76bRmRp8QIWDpYl: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 0c965ec619139392dd21ce2177b369bba12fa7422cdb14dde6027293,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f495a7028b29eb6ec87f9c650ded2ecc37f41e0a9e1467269eeb34ff4d4d4768),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 729334a20b664f259c630b1bcd390b0522883e3d6df1bed554ef109c8203614a),
   +     +  anchorPrices: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 8833983884457510,
   +     +  +  _: 4503599627370495,
   +     +  +  d4c65782b64bf05cf69b7f478e4c99fe2638fb2bfead51b0ef5440cd_8gzvZ5QMyGPRSnHqj76bRmRp8QIWDpYl: 132
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2883390,
   +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7, 6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj)
  boughtAmount: 1540620
  soldAmount: 1570829
  boughtSpot: 9007199254740990
  soldSpot: 9183811004833951
  boughtExp: 1
  soldExp: 2
  spotPrice: 1.019607843137255
  effectivePrice: 1.019608339499682
)

trials left: 1 - iteration: 13 - block: 7797

trials left: 1 - iteration: 14 - block: 8797
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 5367546474229456
maxTicks_: 1
1
virtual: 2610992130318100
weight: 6
jumpSize: 1
minAnchorPrice: 7832976390954300
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 5367546474229456
maxTicks_: 3121657384082680
3
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 5367546474229456
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 15 - block: 8798
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 2442264622184351
maxTicks_: 3121657384082680
3
virtual: 1983493292039945
weight: 4
jumpSize: 100
minAnchorPrice: 7855418978376019
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 814088207394783
maxTicks_: 44812306322540
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 16 - block: 9032
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  1000 > 
        spotSelling 992
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257641621 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199256311821 > 
        spotSelling 9007199254740990
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  15665952799208940 > 
        spotBuying 31331905563817200
boughtAssetForSale (old):
        sellingAmm  273744870185702358 > 
        spotSelling 272864571932864145
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  7933973178676180 > 
        spotBuying 8013312899841376
boughtAssetForSale (old):
        sellingAmm  9821287462135774 > 
        spotSelling 9007199254740990
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  7933973178676180 > 
        spotBuying 8013312899841376
boughtAssetForSale (old):
        sellingAmm  9821287462135774 > 
        spotSelling 5674179970822794
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  7933973178676180 > 
        spotBuying 8013312899841376
boughtAssetForSale (old):
        sellingAmm  9821287462135774 > 
        spotSelling 7149018786131515
subSwap: 4351544 sold
boughtAssetForSale (old): 
        buyingAmm  7933973178676180 > 
        spotBuying 8013312899841376
boughtAssetForSale (old):
        sellingAmm  9821287462135774 > 
        spotSelling 7149018786131515
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: d0d87625e28474b734d138105f880b99b9589b93ed84c4fc53bbcc9c, 
   +     +  virtual: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 9007199254740991,
   +     +  +  _: 1983493292039945
   +     +  ], 
   +     +  weights: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 1,
   +     +  +  _: 4
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 1,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: d0d87625e28474b734d138105f880b99b9589b93ed84c4fc53bbcc9c,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 1f50b047fa674cdb4b08a5b82e59eb439f3d1fb2704a3140a0e3670873208f26),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: d324e085fa9b4a1a401b0b215c64de169c820e4760bedd3df592e3dccdf1e99d),
   +     +  anchorPrices: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 7149018786131515,
   +     +  +  _: 7855418978376019
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2629100,
   +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 814088207394783
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7, 6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj)
  boughtAmount: 2414669
  soldAmount: 4351544
  boughtSpot: 7933973168159779
  soldSpot: 14298037572263030
  boughtExp: 1
  soldExp: 1
  spotPrice: 1.8021282993044636
  effectivePrice: 1.8021285733158459
)

trials left: 1 - iteration: 17 - block: 10032
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 2
maxTicks_: 44812306322540
2
virtual: 9007199254740991
weight: 1
jumpSize: 36
minAnchorPrice: 8763761437045288
jumpLog: 0.027398974188114347
anchorLog: 2.2204460492503128e-16
123394009943925.62
maxTicks: 1
maxTicks_: 123394009943925
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 10955

trials left: 1 - iteration: 19 - block: 10956
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257624381 > 
        spotBuying 9102011878475106
boughtAssetForSale (new):
        sellingAmm  1000 > 
        spotSelling 992
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257641621 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199256311821 > 
        spotSelling 9007199254740990
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  15665952799208940 > 
        spotBuying 31331905563817200
boughtAssetForSale (old):
        sellingAmm  273744870185702358 > 
        spotSelling 272864571932864145
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  7933973178676180 > 
        spotBuying 8013312899841376
boughtAssetForSale (old):
        sellingAmm  9821287462135774 > 
        spotSelling 9007199254740990
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  7933973178676180 > 
        spotBuying 8013312899841376
boughtAssetForSale (old):
        sellingAmm  9821287462135774 > 
        spotSelling 5674179970822794
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  7933973178676180 > 
        spotBuying 8013312899841376
boughtAssetForSale (old):
        sellingAmm  9821287466487318 > 
        spotSelling 7149018786131515
subSwap: 892896 bought
boughtAssetForSale (old): 
        buyingAmm  15665952799208940 > 
        spotBuying 31331905563817200
boughtAssetForSale (old):
        sellingAmm  273744870185702358 > 
        spotSelling 272864571932864145
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: d0d87625e28474b734d138105f880b99b9589b93ed84c4fc53bbcc9c, 
   +     +  virtual: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 2,
   +     +  +  _: 2610992130318100,
   +     +  +  6777d42dcc78cf423b3f3dc003c913f591829e02ac5b881c1568740f_TApcrBy0jHK1oqETLz0m8YKSGIUXJK8h: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 51,
   +     +  +  _: 6,
   +     +  +  6777d42dcc78cf423b3f3dc003c913f591829e02ac5b881c1568740f_TApcrBy0jHK1oqETLz0m8YKSGIUXJK8h: 2
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 1,
   +     +  +  6777d42dcc78cf423b3f3dc003c913f591829e02ac5b881c1568740f_TApcrBy0jHK1oqETLz0m8YKSGIUXJK8h: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: d0d87625e28474b734d138105f880b99b9589b93ed84c4fc53bbcc9c,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 69843eb1058b4d53f7513a3fa7ea39514c104c771e7953a532a6f7947db12ecc),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: fa2ee8ed394134b37f4b8cd8ec9420a3003b370537146483dcfb61568301bfd3),
   +     +  anchorPrices: +[
   +     +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 100,
   +     +  +  _: 7832976390954300,
   +     +  +  6777d42dcc78cf423b3f3dc003c913f591829e02ac5b881c1568740f_TApcrBy0jHK1oqETLz0m8YKSGIUXJK8h: 1
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2883390,
   +  +  cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7_6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj: 5367546474229456
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(cef6b0cd352f3d45cbb0c8f40fd3fd6dc3d452d0cd8e837801566ff7, 6LYaALclcNQzShsYCSVjZXZCTEIHq5Nj)
  boughtAmount: 892896
  soldAmount: 15707700
  boughtSpot: 15665952781908600
  soldSpot: 275593217652192787
  boughtExp: 1
  soldExp: 3573
  spotPrice: 17.591858056054793
  effectivePrice: 17.59185840232233
)
traces.length: 18
Opening: 7
Swapping: 9
Closing: 2
--- DONE ---
Opening: 7
Swapping: 9
Closing: 2
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(1m23s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m57s)[0m

