[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0
virtual: 4980
weight: 3
jumpSize: 1
minAnchorPrice: 7470
jumpLog: 0.6931471805599453
anchorLog: 0.0001338598489383416
5178.156004637523
maxTicks: 1
maxTicks_: 5178
1
virtual: 907
weight: 10
jumpSize: 99
minAnchorPrice: 8979
jumpLog: 0.010050335853501506
anchorLog: 0.00011136477543673137
90.24699070318971
maxTicks: 1
maxTicks_: 90
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 319
virtual: 514
weight: 3
jumpSize: 100
minAnchorPrice: 1526
jumpLog: 0.009950330853168092
anchorLog: 0.0006550933742301313
15.189179504161167
maxTicks: 47
maxTicks_: 15
3
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 47
maxTicks_: 3119
3
virtual: 1
weight: 69
jumpSize: 12
minAnchorPrice: 63
jumpLog: 0.08004270767353636
anchorLog: 0.015748356968139112
5.082606892609351
maxTicks: 47
maxTicks_: 5
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 320
virtual: 2
weight: 59
jumpSize: 100
minAnchorPrice: 116
jumpLog: 0.009950330853168092
anchorLog: 0.008583743691391435
1.159206426812021
maxTicks: 5169
maxTicks_: 1
1
virtual: 2
weight: 86
jumpSize: 100
minAnchorPrice: 170
jumpLog: 0.009950330853168092
anchorLog: 0.005865119452398058
1.6965265471447002
maxTicks: 5169
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 1320
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 1
weight: 24
jumpSize: 1
minAnchorPrice: 12
jumpLog: 0.6931471805599453
anchorLog: 0.08004270767353636
8.659716802522823
maxTicks: 1
maxTicks_: 8
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 1321
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 8842
weight: 1
jumpSize: 100
minAnchorPrice: 8754
jumpLog: 0.009950330853168092
anchorLog: 0.00011422696911158449
87.11017135933939
maxTicks: 1
maxTicks_: 87
1
virtual: 1
weight: 100
jumpSize: 28
minAnchorPrice: 96
jumpLog: 0.03509131981127019
anchorLog: 0.010362787035546658
3.38628205818562
maxTicks: 1
maxTicks_: 3
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 1322

          maxBuying: 44264
          maxSelling: 2
          maxBuyingA0: 354112
          maxSellingA0: 536793294
          maxSwapA0: 354112
          spotBuying: 268396647
          spotSelling: 8
          buyingAmount: 44264
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  6 > 
        spotSelling 4
subSwap: 1 sold
boughtAssetForSale (new):
        sellingAmm  6 > 
        spotSelling 4
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c, 
   +     +  virtual: +[
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 1,
   +     +  +  9126e3bd21ab932c216441bba750bb525e793c3661189b10d27cb7ac_I81xATLkqXHEo4NkFGBjuz5M3TS14ZV0: 8842,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 2,
   +     +  +  9126e3bd21ab932c216441bba750bb525e793c3661189b10d27cb7ac_I81xATLkqXHEo4NkFGBjuz5M3TS14ZV0: 1,
   +     +  +  _: 100
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 1,
   +     +  +  9126e3bd21ab932c216441bba750bb525e793c3661189b10d27cb7ac_I81xATLkqXHEo4NkFGBjuz5M3TS14ZV0: 100,
   +     +  +  _: 28
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5bf457e3591e4b98ee8f76e09b425fcc591d760dfb116e6938efabeec4e28d5a),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c1decd4d85cd18ff276208aae2380f3bd2d491b4997c0dd1b1a73f6175afa9df),
   +     +  anchorPrices: +[
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 1,
   +     +  +  9126e3bd21ab932c216441bba750bb525e793c3661189b10d27cb7ac_I81xATLkqXHEo4NkFGBjuz5M3TS14ZV0: 8754,
   +     +  +  _: 96
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2728230,
   +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 1
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083, sDLunCyAyBQJ8qkUzSmitQ)
  boughtAmount: 44264
  soldAmount:   1
  boughtSpot:   268396647
  soldSpot:     8
  (boughtA0:    354112)
  (soldA0:      268396647)
  boughtExp:    423
  soldExp:      3
  spotPrice:    2.9806631675245926e-8
  eff.Price:    0.000022591722392915236
  maxBuying:    2728230
  (maxBuyingA0: 21825840)
)

trials left: 1 - iteration: 6 - block: 1323

trials left: 1 - iteration: 7 - block: 1324
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
virtual: 9000
weight: 1
jumpSize: 77
minAnchorPrice: 8884
jumpLog: 0.012903404835907782
anchorLog: 0.00011255557443373719
114.64030014350085
maxTicks: 1
maxTicks_: 114
1
virtual: 7215
weight: 1
jumpSize: 1
minAnchorPrice: 3607
jumpLog: 0.6931471805599453
anchorLog: 0.00027720027897535233
2500.52843785766
maxTicks: 1
maxTicks_: 2500
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 1758

          maxBuying: 1
          maxSelling: 373
          maxBuyingA0: 102400
          maxSellingA0: 3356627
          maxSwapA0: 102400
          spotBuying: 8999
          spotSelling: 102400
          buyingAmount: 1
          sellingAmount: 12
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  65100 > 
        spotSelling 51200
boughtAssetForSale (old):
        sellingAmm  65100 > 
        spotSelling 51200

          maxBuying: 2931
          maxSelling: 373
          maxBuyingA0: 300134400
          maxSellingA0: 2690822
          maxSwapA0: 2690822
          spotBuying: 7214
          spotSelling: 102400
          buyingAmount: 26
          sellingAmount: 370
        
Swapping.boundary()

          maxBuying: 139
          maxSelling: 115
          maxBuyingA0: 1267124
          maxSellingA0: 5888000
          maxSwapA0: 1267124
          spotBuying: 51200
          spotSelling: 9116
          buyingAmount: 139
          sellingAmount: 25
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999

          maxBuying: 2931
          maxSelling: 115
          maxBuyingA0: 26718996
          maxSellingA0: 829610
          maxSwapA0: 829610
          spotBuying: 7214
          spotSelling: 9116
          buyingAmount: 91
          sellingAmount: 115
        
Swapping.boundary()

          maxBuying: 139
          maxSelling: 4282
          maxBuyingA0: 2005492
          maxSellingA0: 219238400
          maxSwapA0: 2005492
          spotBuying: 51200
          spotSelling: 14428
          buyingAmount: 139
          sellingAmount: 40
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999
boughtAssetForSale (old):
        sellingAmm  10146 > 
        spotSelling 7214
boughtAssetForSale (old):
        sellingAmm  10146 > 
        spotSelling 7214

          maxBuying: 1
          maxSelling: 4282
          maxBuyingA0: 14428
          maxSellingA0: 38533718
          maxSwapA0: 14428
          spotBuying: 8999
          spotSelling: 14428
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
subSwap: 26 bought
boughtAssetForSale (old):
        sellingAmm  65100 > 
        spotSelling 51200
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c, 
   +     +  virtual: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 9000,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 7215
   +     +  ], 
   +     +  weights: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 100,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 1,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 77,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5bf457e3591e4b98ee8f76e09b425fcc591d760dfb116e6938efabeec4e28d5a),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c1decd4d85cd18ff276208aae2380f3bd2d491b4997c0dd1b1a73f6175afa9df),
   +     +  anchorPrices: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 50,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 8884,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 3607
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3064410,
   +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 1,
   +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 650,
   +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 2931
   +  ]
     )
  boughtAsset:  Asset(f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817, hT2J3)
  soldAsset:    Asset(2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6, )
  boughtAmount: 26
  soldAmount:   370
  boughtSpot:   7214
  soldSpot:     102400
  (boughtA0:    2662400)
  (soldA0:      2669180)
  boughtExp:    1
  soldExp:      11
  spotPrice:    14.194621569171057
  eff.Price:    14.23076923076923
  maxBuying:    26
  (maxBuyingA0: 2662400)
)

trials left: 1 - iteration: 9 - block: 1759

trials left: 1 - iteration: 10 - block: 2759

          maxBuying: 1
          maxSelling: 1027
          maxBuyingA0: 204800
          maxSellingA0: 9241973
          maxSwapA0: 204800
          spotBuying: 8999
          spotSelling: 204800
          buyingAmount: 1
          sellingAmount: 23
        
Swapping.boundary()

          maxBuying: 2905
          maxSelling: 1027
          maxBuyingA0: 594944000
          maxSellingA0: 7408778
          maxSwapA0: 7408778
          spotBuying: 7214
          spotSelling: 204800
          buyingAmount: 36
          sellingAmount: 1023
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  104400 > 
        spotSelling 102400
boughtAssetForSale (new):
        sellingAmm  204400 > 
        spotSelling 102400

          maxBuying: 509
          maxSelling: 115
          maxBuyingA0: 4640044
          maxSellingA0: 5888000
          maxSwapA0: 4640044
          spotBuying: 51200
          spotSelling: 9116
          buyingAmount: 509
          sellingAmount: 91
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999

          maxBuying: 2905
          maxSelling: 115
          maxBuyingA0: 26481980
          maxSellingA0: 829610
          maxSwapA0: 829610
          spotBuying: 7214
          spotSelling: 9116
          buyingAmount: 91
          sellingAmount: 115
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999

          maxBuying: 509
          maxSelling: 4308
          maxBuyingA0: 7343852
          maxSellingA0: 220569600
          maxSwapA0: 7343852
          spotBuying: 51200
          spotSelling: 14428
          buyingAmount: 509
          sellingAmount: 144
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  10120 > 
        spotSelling 7214

          maxBuying: 1
          maxSelling: 4308
          maxBuyingA0: 14428
          maxSellingA0: 38767692
          maxSwapA0: 14428
          spotBuying: 8999
          spotSelling: 14428
          buyingAmount: 1
          sellingAmount: 2
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  10120 > 
        spotSelling 7214
subSwap: 51 bought
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c, 
   +     +  virtual: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 9000,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 7215
   +     +  ], 
   +     +  weights: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 100,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 1,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 77,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5bf457e3591e4b98ee8f76e09b425fcc591d760dfb116e6938efabeec4e28d5a),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c1decd4d85cd18ff276208aae2380f3bd2d491b4997c0dd1b1a73f6175afa9df),
   +     +  anchorPrices: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 50,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 8884,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 3607
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3064410,
   +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 1,
   +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1020,
   +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 2905
   +  ]
     )
  boughtAsset:  Asset(f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817, hT2J3)
  soldAsset:    Asset(06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083, sDLunCyAyBQJ8qkUzSmitQ)
  boughtAmount: 51
  soldAmount:   65
  boughtSpot:   7214
  soldSpot:     9116
  (boughtA0:    464916)
  (soldA0:      468910)
  boughtExp:    1
  soldExp:      2
  spotPrice:    1.2636540060992514
  eff.Price:    1.2745098039215685
  maxBuying:    51
  (maxBuyingA0: 464916)
)

trials left: 1 - iteration: 11 - block: 3166

          maxBuying: 66
          maxSelling: 1027
          maxBuyingA0: 13516800
          maxSellingA0: 9241973
          maxSwapA0: 9241973
          spotBuying: 8999
          spotSelling: 204800
          buyingAmount: 45
          sellingAmount: 1025
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  204600 > 
        spotSelling 102400

          maxBuying: 2854
          maxSelling: 1027
          maxBuyingA0: 584499200
          maxSellingA0: 7408778
          maxSwapA0: 7408778
          spotBuying: 7214
          spotSelling: 204800
          buyingAmount: 36
          sellingAmount: 1023
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  204400 > 
        spotSelling 102400

          maxBuying: 509
          maxSelling: 50
          maxBuyingA0: 4640044
          maxSellingA0: 2560000
          maxSwapA0: 2560000
          spotBuying: 51200
          spotSelling: 9116
          buyingAmount: 280
          sellingAmount: 50
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9066 > 
        spotSelling 8999

          maxBuying: 2854
          maxSelling: 50
          maxBuyingA0: 26017064
          maxSellingA0: 360700
          maxSwapA0: 360700
          spotBuying: 7214
          spotSelling: 9116
          buyingAmount: 39
          sellingAmount: 50
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9066 > 
        spotSelling 8999

          maxBuying: 509
          maxSelling: 4359
          maxBuyingA0: 7343852
          maxSellingA0: 223180800
          maxSwapA0: 7343852
          spotBuying: 51200
          spotSelling: 14428
          buyingAmount: 509
          sellingAmount: 144
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  10069 > 
        spotSelling 7214

          maxBuying: 66
          maxSelling: 4359
          maxBuyingA0: 952248
          maxSellingA0: 39226641
          maxSwapA0: 952248
          spotBuying: 8999
          spotSelling: 14428
          buyingAmount: 66
          sellingAmount: 106
        
Swapping.boundary()
subSwap: 23 sold
boughtAssetForSale (old):
        sellingAmm  10069 > 
        spotSelling 7214
boughtAssetForSale (old):
        sellingAmm  10069 > 
        spotSelling 7214
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c, 
   +     +  virtual: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 9000,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 7215
   +     +  ], 
   +     +  weights: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 100,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 1,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 77,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5bf457e3591e4b98ee8f76e09b425fcc591d760dfb116e6938efabeec4e28d5a),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c1decd4d85cd18ff276208aae2380f3bd2d491b4997c0dd1b1a73f6175afa9df),
   +     +  anchorPrices: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 50,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 8884,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 3607
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3068720,
   +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 66,
   +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1020,
   +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 2854
   +  ]
     )
  boughtAsset:  Asset(2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6, )
  soldAsset:    Asset(f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817, hT2J3)
  boughtAmount: 81
  soldAmount:   23
  boughtSpot:   51200
  soldSpot:     14428
  (boughtA0:    1168668)
  (soldA0:      1177600)
  boughtExp:    10
  soldExp:      2
  spotPrice:    0.281796875
  eff.Price:    0.2839506172839506
  maxBuying:    1020
  (maxBuyingA0: 14716560)
)

trials left: 1 - iteration: 12 - block: 3167

trials left: 1 - iteration: 13 - block: 3168

          maxBuying: 66
          maxSelling: 84
          maxBuyingA0: 6758400
          maxSellingA0: 755916
          maxSwapA0: 755916
          spotBuying: 8999
          spotSelling: 102400
          buyingAmount: 7
          sellingAmount: 80
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  94000 > 
        spotSelling 51200

          maxBuying: 2877
          maxSelling: 84
          maxBuyingA0: 294604800
          maxSellingA0: 605976
          maxSwapA0: 605976
          spotBuying: 7214
          spotSelling: 102400
          buyingAmount: 5
          sellingAmount: 71
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  94000 > 
        spotSelling 51200

          maxBuying: 428
          maxSelling: 50
          maxBuyingA0: 3901648
          maxSellingA0: 2560000
          maxSwapA0: 2560000
          spotBuying: 51200
          spotSelling: 9116
          buyingAmount: 280
          sellingAmount: 50
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9066 > 
        spotSelling 8999

          maxBuying: 2877
          maxSelling: 50
          maxBuyingA0: 26226732
          maxSellingA0: 360700
          maxSwapA0: 360700
          spotBuying: 7214
          spotSelling: 9116
          buyingAmount: 39
          sellingAmount: 50
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9066 > 
        spotSelling 8999

          maxBuying: 428
          maxSelling: 4336
          maxBuyingA0: 6175184
          maxSellingA0: 222003200
          maxSwapA0: 6175184
          spotBuying: 51200
          spotSelling: 14428
          buyingAmount: 428
          sellingAmount: 121
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  10092 > 
        spotSelling 7214

          maxBuying: 66
          maxSelling: 4336
          maxBuyingA0: 952248
          maxSellingA0: 39019664
          maxSwapA0: 952248
          spotBuying: 8999
          spotSelling: 14428
          buyingAmount: 66
          sellingAmount: 106
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  10092 > 
        spotSelling 7214
subSwap: 1 bought
boughtAssetForSale (old):
        sellingAmm  94000 > 
        spotSelling 51200
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c, 
   +     +  virtual: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 9000,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 7215
   +     +  ], 
   +     +  weights: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 100,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 1,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 77,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5bf457e3591e4b98ee8f76e09b425fcc591d760dfb116e6938efabeec4e28d5a),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c1decd4d85cd18ff276208aae2380f3bd2d491b4997c0dd1b1a73f6175afa9df),
   +     +  anchorPrices: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 50,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 8884,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 3607
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3068720,
   +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 66,
   +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 939,
   +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 2877
   +  ]
     )
  boughtAsset:  Asset(06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083, sDLunCyAyBQJ8qkUzSmitQ)
  soldAsset:    Asset(2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6, )
  boughtAmount: 1
  soldAmount:   12
  boughtSpot:   8999
  soldSpot:     102400
  (boughtA0:    102400)
  (soldA0:      107988)
  boughtExp:    1
  soldExp:      11
  spotPrice:    11.379042115790643
  eff.Price:    12
  maxBuying:    1
  (maxBuyingA0: 102400)
)

trials left: 1 - iteration: 14 - block: 4168

trials left: 1 - iteration: 15 - block: 4169
virtual: 1
weight: 38
jumpSize: 22
minAnchorPrice: 36
jumpLog: 0.044451762570833796
anchorLog: 0.027398974188114347
1.6223878407140124
maxTicks: 1
maxTicks_: 1
1
virtual: 2061
weight: 8
jumpSize: 1
minAnchorPrice: 8244
jumpLog: 0.6931471805599453
anchorLog: 0.00012129298334964877
5714.6519231192815
maxTicks: 1
maxTicks_: 5714
1
virtual: 5633
weight: 3
jumpSize: 1
minAnchorPrice: 8449
jumpLog: 0.6931471805599453
anchorLog: 0.00011835019837477053
5856.747095302781
maxTicks: 1
maxTicks_: 5856
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 16 - block: 4170

          maxBuying: 65
          maxSelling: 72
          maxBuyingA0: 6656000
          maxSellingA0: 647928
          maxSwapA0: 647928
          spotBuying: 8999
          spotSelling: 102400
          buyingAmount: 6
          sellingAmount: 69
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  95200 > 
        spotSelling 51200

          maxBuying: 2877
          maxSelling: 72
          maxBuyingA0: 294604800
          maxSellingA0: 519408
          maxSwapA0: 519408
          spotBuying: 7214
          spotSelling: 102400
          buyingAmount: 5
          sellingAmount: 71
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  95200 > 
        spotSelling 51200

          maxBuying: 440
          maxSelling: 51
          maxBuyingA0: 4011040
          maxSellingA0: 2611200
          maxSwapA0: 2611200
          spotBuying: 51200
          spotSelling: 9116
          buyingAmount: 286
          sellingAmount: 51
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9065 > 
        spotSelling 8999

          maxBuying: 2877
          maxSelling: 51
          maxBuyingA0: 26226732
          maxSellingA0: 367914
          maxSwapA0: 367914
          spotBuying: 7214
          spotSelling: 9116
          buyingAmount: 40
          sellingAmount: 51
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9065 > 
        spotSelling 8999

          maxBuying: 440
          maxSelling: 4336
          maxBuyingA0: 6348320
          maxSellingA0: 222003200
          maxSwapA0: 6348320
          spotBuying: 51200
          spotSelling: 14428
          buyingAmount: 440
          sellingAmount: 124
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  10092 > 
        spotSelling 7214

          maxBuying: 65
          maxSelling: 4336
          maxBuyingA0: 937820
          maxSellingA0: 39019664
          maxSwapA0: 937820
          spotBuying: 8999
          spotSelling: 14428
          buyingAmount: 65
          sellingAmount: 105
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  10092 > 
        spotSelling 7214
subSwap: 1 bought
boughtAssetForSale (old):
        sellingAmm  95200 > 
        spotSelling 51200
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c, 
   +     +  virtual: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 9000,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 7215
   +     +  ], 
   +     +  weights: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 100,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 1,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 1,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 77,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 838ad9554a735142702391fec4bce47ca5a6dddd5087b1809f71539c,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5bf457e3591e4b98ee8f76e09b425fcc591d760dfb116e6938efabeec4e28d5a),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c1decd4d85cd18ff276208aae2380f3bd2d491b4997c0dd1b1a73f6175afa9df),
   +     +  anchorPrices: +[
   +     +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 50,
   +     +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 8884,
   +     +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 3607
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3068720,
   +  +  06b93ea0f09886b38c13ce01596880e3bcf9000c72797052f9b45083_sDLunCyAyBQJ8qkUzSmitQ: 65,
   +  +  2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6_: 951,
   +  +  f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817_hT2J3: 2877
   +  ]
     )
  boughtAsset:  Asset(f40c0dbe84c5692a50ea9dda0348454f8a631e96a9ca652bb9496817, hT2J3)
  soldAsset:    Asset(2eef2d06ead7b881f1dd11ff655a3c4c82a87390fc437cc032819bd6, )
  boughtAmount: 1
  soldAmount:   15
  boughtSpot:   7214
  soldSpot:     102400
  (boughtA0:    102400)
  (soldA0:      108210)
  boughtExp:    1
  soldExp:      11
  spotPrice:    14.194621569171057
  eff.Price:    15
  maxBuying:    1
  (maxBuyingA0: 102400)
)

trials left: 1 - iteration: 17 - block: 5170

trials left: 1 - iteration: 18 - block: 6170

trials left: 1 - iteration: 19 - block: 6171
traces.length: 20
Opening: 7
Swapping: 6
Closing: 7
--- DONE ---
Opening: 7
Swapping: 6
Closing: 7
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(5s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(32s)[0m

