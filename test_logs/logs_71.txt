[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 207
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 208
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  4542742 > 
        spotBuying 8388608
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257046841 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
subSwap: 1 sold
subSwap: 1 bought
boughtAssetForSale (old): 
        buyingAmm  4542742 > 
        spotBuying 8388608
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 9baadc5353da2d054075cd736ef344a454f8f81e598760a431d160d2, 
   +     +  virtual: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 9007199254740991,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 2
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 9baadc5353da2d054075cd736ef344a454f8f81e598760a431d160d2,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 8887addaaaa3759fe15cbf18000ea805c3f8060574a966c1c46818bad1f6522f),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 08ea26c0a5fcf2e60e7ee7a08f01ef02f8cc448ca10bfd94823771f52e2f6b80),
   +     +  anchorPrices: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 4503599627370495,
   +     +  +  _: 1
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2271370,
   +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90, )
  boughtAmount: 1
  soldAmount: 4294967296
  boughtSpot: 4194304
  soldSpot: 18014398509481980
  boughtExp: 22
  soldExp: 2
  spotPrice: 4294967295.999999
  effectivePrice: 4294967296
)

trials left: 1 - iteration: 3 - block: 277
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 9007199254740991
weight: 1
jumpSize: 70
minAnchorPrice: 8880337293406610
jumpLog: 0.014184634991956381
anchorLog: 2.2204460492503128e-16
63881916864161.266
maxTicks: 1
maxTicks_: 63881916864161
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 278

trials left: 1 - iteration: 5 - block: 1199
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257046841 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257370091 > 
        spotBuying 9097271247288400
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
subSwap: 2655392 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257370091 > 
        spotBuying 9097271247288400
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 80a376ae038504a189a482f258893260de776b9afddab33f4c696e99, 
   +     +  virtual: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 9007199254740991,
   +     +  +  _: 9007199254740991,
   +     +  +  ef88d97e7b5c33367f733318b4ccfe6f56b10c5fc897ab8019c80c80_jHqYGl395A2QsyGcWvAGqAa2EHKW9utM: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 1,
   +     +  +  ef88d97e7b5c33367f733318b4ccfe6f56b10c5fc897ab8019c80c80_jHqYGl395A2QsyGcWvAGqAa2EHKW9utM: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 100,
   +     +  +  _: 100,
   +     +  +  ef88d97e7b5c33367f733318b4ccfe6f56b10c5fc897ab8019c80c80_jHqYGl395A2QsyGcWvAGqAa2EHKW9utM: 70
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 80a376ae038504a189a482f258893260de776b9afddab33f4c696e99,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c67780a379670082871e2c9b3f77786217fb2dc555f236238bed82fc5482f146),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4fd8b9ae0b7958826ff4a21d8833a2eb8374712acf6071bf1b55f93dbace2914),
   +     +  anchorPrices: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 8918019064099991,
   +     +  +  _: 8918019064099991,
   +     +  +  ef88d97e7b5c33367f733318b4ccfe6f56b10c5fc897ab8019c80c80_jHqYGl395A2QsyGcWvAGqAa2EHKW9utM: 8880337293406610
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2629100,
   +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90, )
  boughtAmount: 2629100
  soldAmount: 2655392
  boughtSpot: 9007199254740990
  soldSpot: 9097271247288400
  boughtExp: 1
  soldExp: 2
  spotPrice: 1.01
  effectivePrice: 1.0100003803582975
)

trials left: 1 - iteration: 6 - block: 1603

trials left: 1 - iteration: 7 - block: 2008
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257046841 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
subSwap: 2305850 bought
boughtAssetForSale (old): 
        buyingAmm  9007199257046841 > 
        spotBuying 18014398509481980
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 6162375a90a94efd5c0bfba02cd07794d79782e88e31200bbc556c55, 
   +     +  virtual: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 9007199254740991,
   +     +  +  _: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 6162375a90a94efd5c0bfba02cd07794d79782e88e31200bbc556c55,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 93bd19c85904a2de98330a0e62e4b3d39b4dc1e12a8a7ad97dc9d976403bcfb1),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4581e652fd9607235c046825caf4c58bb7cf20c19869d73dd8c45c10e27102dc),
   +     +  anchorPrices: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 8918019064099991,
   +     +  +  _: 4503599627370495
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2305850,
   +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90, )
  boughtAmount: 2305850
  soldAmount: 2328909
  boughtSpot: 9007199254740990
  soldSpot: 9097271247288400
  boughtExp: 1
  soldExp: 2
  spotPrice: 1.01
  effectivePrice: 1.010000216839777
)

trials left: 1 - iteration: 8 - block: 3008

trials left: 1 - iteration: 9 - block: 4008
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 2
weight: 89
jumpSize: 100
minAnchorPrice: 176
jumpLog: 0.009950330853168092
anchorLog: 0.0056657375356773
1.7562286975897832
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 5008
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  215194168 > 
        spotBuying 215937628
boughtAssetForSale (new):
        sellingAmm  6 > 
        spotSelling 4
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  215194168 > 
        spotBuying 215937628
boughtAssetForSale (new):
        sellingAmm  6 > 
        spotSelling 4
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 6162375a90a94efd5c0bfba02cd07794d79782e88e31200bbc556c55, 
   +     +  virtual: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 2,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 2,
   +     +  +  _: 89,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 100,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 6162375a90a94efd5c0bfba02cd07794d79782e88e31200bbc556c55,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 93bd19c85904a2de98330a0e62e4b3d39b4dc1e12a8a7ad97dc9d976403bcfb1),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4581e652fd9607235c046825caf4c58bb7cf20c19869d73dd8c45c10e27102dc),
   +     +  anchorPrices: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 176,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 4503599627370495
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2417910,
   +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90, )
  boughtAmount: 15668
  soldAmount: 1
  boughtSpot: 213799632
  soldSpot: 8
  boughtExp: 1408
  soldExp: 3
  spotPrice: 3.741821220721278e-8
  effectivePrice: 0.00006382435537401073
)

trials left: 1 - iteration: 11 - block: 5009
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  215194168 > 
        spotBuying 215937628
boughtAssetForSale (old):
        sellingAmm  6 > 
        spotSelling 4
subSwap: 10799 bought
boughtAssetForSale (old): 
        buyingAmm  215194168 > 
        spotBuying 215937628
boughtAssetForSale (old):
        sellingAmm  6 > 
        spotSelling 4
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 6162375a90a94efd5c0bfba02cd07794d79782e88e31200bbc556c55, 
   +     +  virtual: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 2,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 2,
   +     +  +  _: 89,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 100,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 6162375a90a94efd5c0bfba02cd07794d79782e88e31200bbc556c55,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 93bd19c85904a2de98330a0e62e4b3d39b4dc1e12a8a7ad97dc9d976403bcfb1),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4581e652fd9607235c046825caf4c58bb7cf20c19869d73dd8c45c10e27102dc),
   +     +  anchorPrices: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 176,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 4503599627370495
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2417910,
   +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 2
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90, )
  boughtAmount: 10799
  soldAmount: 1
  boughtSpot: 213799632
  soldSpot: 8
  boughtExp: 1408
  soldExp: 3
  spotPrice: 3.741821220721278e-8
  effectivePrice: 0.00009260116677470137
)

trials left: 1 - iteration: 12 - block: 6009
virtual: 8713072741245541
weight: 1
jumpSize: 100
minAnchorPrice: 8626804694302515
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 2388510515372822
maxTicks_: 44812306322540
3
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 2388510515372822
maxTicks_: 44812306322540
3
virtual: 9007199254740991
weight: 1
jumpSize: 47
minAnchorPrice: 8819549270267220
jumpLog: 0.021053409197832263
anchorLog: 2.2204460492503128e-16
94816125818235.97
maxTicks: 796170171790940
maxTicks_: 94816125818235
3
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 7009

trials left: 1 - iteration: 14 - block: 7947
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  215194168 > 
        spotBuying 215937628
boughtAssetForSale (new):
        sellingAmm  10 > 
        spotSelling 8
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242913036481 > 
        spotSelling 9435009244482970
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242913036481 > 
        spotSelling 9435009244482970
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242913036481 > 
        spotSelling 9435009244482970
subSwap: 15668 bought
boughtAssetForSale (old): 
        buyingAmm  215194168 > 
        spotBuying 215937628
boughtAssetForSale (new):
        sellingAmm  10 > 
        spotSelling 8
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 6162375a90a94efd5c0bfba02cd07794d79782e88e31200bbc556c55, 
   +     +  virtual: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 2,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 2,
   +     +  +  _: 89,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 100,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 6162375a90a94efd5c0bfba02cd07794d79782e88e31200bbc556c55,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 93bd19c85904a2de98330a0e62e4b3d39b4dc1e12a8a7ad97dc9d976403bcfb1),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4581e652fd9607235c046825caf4c58bb7cf20c19869d73dd8c45c10e27102dc),
   +     +  anchorPrices: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 176,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 4503599627370495
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2417910,
   +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 3
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90, )
  boughtAmount: 15668
  soldAmount: 1
  boughtSpot: 213799632
  soldSpot: 16
  boughtExp: 1408
  soldExp: 4
  spotPrice: 7.483642441442556e-8
  effectivePrice: 0.00006382435537401073
)

trials left: 1 - iteration: 15 - block: 8947
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  215194168 > 
        spotBuying 215937628
boughtAssetForSale (old):
        sellingAmm  10 > 
        spotSelling 8
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242913036481 > 
        spotSelling 9435009244482970
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242913036481 > 
        spotSelling 9435009244482970
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242913036481 > 
        spotSelling 9435009244482970
subSwap: 2690316 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242913036481 > 
        spotSelling 9435009244482970
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: df9702db86450a3628f15e47b315d990b45b1d05916e073ac6d14e45, 
   +     +  virtual: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 8713072741245541,
   +     +  +  cccc15944ad5647bb71578113184dc29677fcc8961e4eefeb84cc0e8_vzFud: 9007199254740991,
   +     +  +  _: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  cccc15944ad5647bb71578113184dc29677fcc8961e4eefeb84cc0e8_vzFud: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 100,
   +     +  +  cccc15944ad5647bb71578113184dc29677fcc8961e4eefeb84cc0e8_vzFud: 100,
   +     +  +  _: 47
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: df9702db86450a3628f15e47b315d990b45b1d05916e073ac6d14e45,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 9d11f218bd16d35c0734bcc3a607ed10879820934282963ba357c498b6f6d63f),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 59870e45e33dff2eb38edf7fce56ddce8146f4522b4a0dbc1f165ce7446b5603),
   +     +  anchorPrices: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 8626804694302515,
   +     +  +  cccc15944ad5647bb71578113184dc29677fcc8961e4eefeb84cc0e8_vzFud: 8918019064099991,
   +     +  +  _: 8819549270267220
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2542900,
   +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 796170171790940
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90, )
  boughtAmount: 2542900
  soldAmount: 2690316
  boughtSpot: 9007199254740990
  soldSpot: 9529359336927800
  boughtExp: 1
  soldExp: 10
  spotPrice: 1.057971414578396
  effectivePrice: 1.057971607220103
)

trials left: 1 - iteration: 16 - block: 9419
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  215194168 > 
        spotBuying 215937628
boughtAssetForSale (old):
        sellingAmm  10 > 
        spotSelling 8
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242915726797 > 
        spotSelling 9435009244482970
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242913036481 > 
        spotSelling 9435009244482970
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242913036481 > 
        spotSelling 9435009244482970
subSwap: 8711 bought
boughtAssetForSale (old): 
        buyingAmm  215194168 > 
        spotBuying 215937628
boughtAssetForSale (old):
        sellingAmm  10 > 
        spotSelling 8
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 6162375a90a94efd5c0bfba02cd07794d79782e88e31200bbc556c55, 
   +     +  virtual: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 2,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 2,
   +     +  +  _: 89,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 100,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 6162375a90a94efd5c0bfba02cd07794d79782e88e31200bbc556c55,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 93bd19c85904a2de98330a0e62e4b3d39b4dc1e12a8a7ad97dc9d976403bcfb1),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4581e652fd9607235c046825caf4c58bb7cf20c19869d73dd8c45c10e27102dc),
   +     +  anchorPrices: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  _: 176,
   +     +  +  7e4fdd0303dc20e689434ca93ff2a96779975c5a6ef5b52f628184d1_: 4503599627370495
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2417910,
   +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 4
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90, )
  boughtAmount: 8711
  soldAmount: 1
  boughtSpot: 213799632
  soldSpot: 16
  boughtExp: 1408
  soldExp: 4
  spotPrice: 7.483642441442556e-8
  effectivePrice: 0.00011479738261967628
)

trials left: 1 - iteration: 17 - block: 10419
virtual: 859580964823060
weight: 20
jumpSize: 1
minAnchorPrice: 8595809648230600
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 6180866783285965
maxTicks_: 3121657384082680
3
virtual: 1079778914861672
weight: 1
jumpSize: 1
minAnchorPrice: 539889457430836
jumpLog: 0.6931471805599453
anchorLog: 1.7763568394002489e-15
390207173010335.3
maxTicks: 6180866783285965
maxTicks_: 390207173010335
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 10420
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  215194168 > 
        spotBuying 215937628
boughtAssetForSale (old):
        sellingAmm  12 > 
        spotSelling 8
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242915726797 > 
        spotSelling 9435009244482970
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242913036481 > 
        spotSelling 9435009244482970
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242913036481 > 
        spotSelling 9435009244482970
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  1079778917202002 > 
        spotBuying 2159557829723344
boughtAssetForSale (old):
        sellingAmm  140808954962180500 > 
        spotSelling 137532954371689600
subSwap: 2690316 sold
boughtAssetForSale (old): 
        buyingAmm  9007199257283891 > 
        spotBuying 9198841792075905
boughtAssetForSale (old):
        sellingAmm  9509242915726797 > 
        spotSelling 9435009244482970
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: df9702db86450a3628f15e47b315d990b45b1d05916e073ac6d14e45, 
   +     +  virtual: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 8713072741245541,
   +     +  +  cccc15944ad5647bb71578113184dc29677fcc8961e4eefeb84cc0e8_vzFud: 9007199254740991,
   +     +  +  _: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 1,
   +     +  +  cccc15944ad5647bb71578113184dc29677fcc8961e4eefeb84cc0e8_vzFud: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 100,
   +     +  +  cccc15944ad5647bb71578113184dc29677fcc8961e4eefeb84cc0e8_vzFud: 100,
   +     +  +  _: 47
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: df9702db86450a3628f15e47b315d990b45b1d05916e073ac6d14e45,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 9d11f218bd16d35c0734bcc3a607ed10879820934282963ba357c498b6f6d63f),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 59870e45e33dff2eb38edf7fce56ddce8146f4522b4a0dbc1f165ce7446b5603),
   +     +  anchorPrices: +[
   +     +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 8626804694302515,
   +     +  +  cccc15944ad5647bb71578113184dc29677fcc8961e4eefeb84cc0e8_vzFud: 8918019064099991,
   +     +  +  _: 8819549270267220
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2542900,
   +  +  3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90_: 796170174481256
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(3c2fbe66438170088e8549c80ac69332c82b5db4b4768807b6235c90, )
  boughtAmount: 2542900
  soldAmount: 2690316
  boughtSpot: 9007199254740990
  soldSpot: 9529359336927800
  boughtExp: 1
  soldExp: 10
  spotPrice: 1.057971414578396
  effectivePrice: 1.057971607220103
)

trials left: 1 - iteration: 19 - block: 10421
traces.length: 19
Opening: 6
Swapping: 9
Closing: 4
--- DONE ---
Opening: 6
Swapping: 9
Closing: 4
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(1m17s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m48s)[0m

