[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 6593666857897814
weight: 1
jumpSize: 1
minAnchorPrice: 3296833428948907
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1000
virtual: 4995386213578754
weight: 1
jumpSize: 1
minAnchorPrice: 2497693106789377
jumpLog: 0.6931471805599453
anchorLog: 4.440892098500625e-16
1560828692041340
maxTicks: 1
maxTicks_: 1560828692041340
1
virtual: 386667504296074
weight: 46
jumpSize: 1
minAnchorPrice: 8893352598809702
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 1122

trials left: 1 - iteration: 3 - block: 1123
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 4561497580953290
maxTicks_: 44812306322540
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 4561497580953290
maxTicks_: 3121657384082680
3
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 4561497580953290
maxTicks_: 44812306322540
3
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 1124
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 1955
Swapping.boundary()
addedBuyingA0: 377782383086145386800
addedSellingA0: 377789318629563564032
diff: -6935543418177232
subSwap: 25020 bought
addedBuyingA0: 227613726607155768000
addedSellingA0: 227613726607157493760
diff: -1725760
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: b227a3e52be1a25a3ce570cef98a55c2a344676c129974a159cefc2c, 
   +     +  virtual: +[
   +     +  +  d7be6a871e7bd53d032e1ad77aef268009073108cfe61fa642474cc1_: 9007199254740991,
   +     +  +  b0fa8b9f1c688833d44235467f9e614aaf3f56ce69ae72999b6a201d_Cy4rEDVaR5o8dL5gYNIN: 9007199254740991,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  d7be6a871e7bd53d032e1ad77aef268009073108cfe61fa642474cc1_: 1,
   +     +  +  b0fa8b9f1c688833d44235467f9e614aaf3f56ce69ae72999b6a201d_Cy4rEDVaR5o8dL5gYNIN: 1,
   +     +  +  _: 2
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  d7be6a871e7bd53d032e1ad77aef268009073108cfe61fa642474cc1_: 100,
   +     +  +  b0fa8b9f1c688833d44235467f9e614aaf3f56ce69ae72999b6a201d_Cy4rEDVaR5o8dL5gYNIN: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: b227a3e52be1a25a3ce570cef98a55c2a344676c129974a159cefc2c,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 9e13fb4d305b7db05df0eb18a39471f763dc571fba95a59b6f153753a69974c9),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: a6ddd7412a8db0b36a0d008af7b4bc74ad543ca752a4d450258fdcfb33f62a4b),
   +     +  anchorPrices: +[
   +     +  +  d7be6a871e7bd53d032e1ad77aef268009073108cfe61fa642474cc1_: 8918019064099991,
   +     +  +  b0fa8b9f1c688833d44235467f9e614aaf3f56ce69ae72999b6a201d_Cy4rEDVaR5o8dL5gYNIN: 8918019064099991,
   +     +  +  _: 1
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2538590,
   +  +  d7be6a871e7bd53d032e1ad77aef268009073108cfe61fa642474cc1_: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(d7be6a871e7bd53d032e1ad77aef268009073108cfe61fa642474cc1, )
  boughtAmount: 25020
  soldAmount: 54267341281690
  boughtSpot: 4194304
  soldSpot: 9097271247288400
  boughtExp: 22
  soldExp: 2
  spotPrice: 2168958484.4799995
  effectivePrice: 2168958484.4800158
)

trials left: 1 - iteration: 6 - block: 2955
virtual: 1977809357833528
weight: 5
jumpSize: 1
minAnchorPrice: 4944523394583820
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 4391434332506012
maxTicks_: 3121657384082680
3
virtual: 3911540169015068
weight: 1
jumpSize: 1
minAnchorPrice: 1955770084507534
jumpLog: 0.6931471805599453
anchorLog: 4.440892098500625e-16
1560828692041340
maxTicks: 4391434332506012
maxTicks_: 1560828692041340
3
virtual: 3911540169015068
weight: 1
jumpSize: 1
minAnchorPrice: 1955770084507534
jumpLog: 0.6931471805599453
anchorLog: 4.440892098500625e-16
1560828692041340
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 2956

trials left: 1 - iteration: 8 - block: 2957
virtual: 6848350827016970
weight: 1
jumpSize: 100
minAnchorPrice: 6780545373284128
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 9 - block: 3957

trials left: 1 - iteration: 10 - block: 4957

trials left: 1 - iteration: 11 - block: 5957
virtual: 9007199254740991
weight: 1
jumpSize: 68
minAnchorPrice: 8876660135107063
jumpLog: 0.014598799421152631
anchorLog: 2.2204460492503128e-16
65747147633159.61
maxTicks: 1
maxTicks_: 65747147633159
1
virtual: 9007199254740991
weight: 1
jumpSize: 40
minAnchorPrice: 8787511468039991
jumpLog: 0.024692612590371414
anchorLog: 2.2204460492503128e-16
111205640860800.73
maxTicks: 1
maxTicks_: 111205640860800
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 12 - block: 6957
virtual: 725145016670906
weight: 1
jumpSize: 1
minAnchorPrice: 362572508335453
jumpLog: 0.6931471805599453
anchorLog: 2.664535259100372e-15
260138115340223.62
maxTicks: 1
maxTicks_: 260138115340223
1
virtual: 1
weight: 9
jumpSize: 8
minAnchorPrice: 8
jumpLog: 0.11778303565638346
anchorLog: 0.11778303565638346
1
maxTicks: 1
maxTicks_: 1
1
virtual: 2588778362290588
weight: 1
jumpSize: 1
minAnchorPrice: 1294389181145294
jumpLog: 0.6931471805599453
anchorLog: 6.661338147750937e-16
1040552461360893.5
maxTicks: 1
maxTicks_: 1040552461360893
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 6958

trials left: 1 - iteration: 14 - block: 7958
virtual: 6883308968010870
weight: 1
jumpSize: 100
minAnchorPrice: 6815157394070168
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 4445701673787702
maxTicks_: 44812306322540
3
virtual: 7299770370787304
weight: 1
jumpSize: 100
minAnchorPrice: 7227495416621093
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1481900557929234
maxTicks_: 44812306322540
3
virtual: 6883308968010870
weight: 1
jumpSize: 100
minAnchorPrice: 6815157394070168
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
virtual: 6883308968010870
weight: 1
jumpSize: 100
minAnchorPrice: 6815157394070168
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 15 - block: 8958

trials left: 1 - iteration: 16 - block: 9591

trials left: 1 - iteration: 17 - block: 10591
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 15
minAnchorPrice: 8444249301319679
jumpLog: 0.06453852113757116
anchorLog: 2.2204460492503128e-16
290655659746208.44
maxTicks: 1
maxTicks_: 290655659746208
1
virtual: 1
weight: 55
jumpSize: 54
minAnchorPrice: 54
jumpLog: 0.018349138668196617
anchorLog: 0.018349138668196617
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 11090
virtual: 3237746696191506
weight: 2
jumpSize: 75
minAnchorPrice: 6390289531956919
jumpLog: 0.013245226750020723
anchorLog: 2.2204460492503128e-16
59651198255831.06
maxTicks: 1
maxTicks_: 59651198255831
1
virtual: 8573646566670905
weight: 1
jumpSize: 20
minAnchorPrice: 8165377682543719
jumpLog: 0.04879016416943205
anchorLog: 2.2204460492503128e-16
219731365172799.53
maxTicks: 1
maxTicks_: 219731365172799
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 11229
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 1
maxTicks_: 1
1
virtual: 2028599924643476
weight: 4
jumpSize: 64
minAnchorPrice: 7989562780134305
jumpLog: 0.015504186535965254
anchorLog: 2.2204460492503128e-16
69824648706055.79
maxTicks: 1
maxTicks_: 69824648706055
1
Opening pool with 1 dirac utxos and 1 param utxos
traces.length: 20
Opening: 12
Closing: 7
Swapping: 1
--- DONE ---
Opening: 12
Closing: 7
Swapping: 1
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(45s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m4s)[0m

