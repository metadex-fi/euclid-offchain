[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0

trials left: 1 - iteration: 1 - block: 1

trials left: 1 - iteration: 2 - block: 235

trials left: 1 - iteration: 3 - block: 236

trials left: 1 - iteration: 4 - block: 1236

trials left: 1 - iteration: 5 - block: 1356

trials left: 1 - iteration: 6 - block: 2336

trials left: 1 - iteration: 7 - block: 2663

trials left: 1 - iteration: 8 - block: 2856

trials left: 1 - iteration: 9 - block: 3856

trials left: 1 - iteration: 10 - block: 3857

trials left: 1 - iteration: 11 - block: 4687

trials left: 1 - iteration: 12 - block: 4688

trials left: 1 - iteration: 13 - block: 4689

trials left: 1 - iteration: 14 - block: 4690

trials left: 1 - iteration: 15 - block: 5690

trials left: 1 - iteration: 16 - block: 6409

trials left: 1 - iteration: 17 - block: 6410

trials left: 1 - iteration: 18 - block: 7410

trials left: 1 - iteration: 19 - block: 7411
traces.length: 0
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 1161172180783520
weight: 1
jumpSize: 63
minAnchorPrice: 1143028865458777
jumpLog: 0.015748356968139112
anchorLog: 8.881784197001248e-16
17731073643352.223
maxTicks: 1
maxTicks_: 17731073643352
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1

trials left: 1 - iteration: 2 - block: 1001
virtual: 1
weight: 76
jumpSize: 56
minAnchorPrice: 74
jumpLog: 0.017699577099400857
anchorLog: 0.01342302033214077
1.3185986954828697
maxTicks: 1
maxTicks_: 1
1
virtual: 1
weight: 41
jumpSize: 1
minAnchorPrice: 20
jumpLog: 0.6931471805599453
anchorLog: 0.04879016416943205
14.206699082890461
maxTicks: 1
maxTicks_: 14
1
virtual: 3983534806202266
weight: 1
jumpSize: 100
minAnchorPrice: 3944093867526996
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 1002
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  3983534806202267 > 
        spotBuying 4023370154264288
boughtAssetForSale (new):
        sellingAmm  228 > 
        spotSelling 225
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  3983534806202267 > 
        spotBuying 4023370154264288
boughtAssetForSale (new):
        sellingAmm  228 > 
        spotSelling 225
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 815a853696f27a1de9645156957ec0c347d99c1202323b4be0660ec5, 
   +     +  virtual: +[
   +     +  +  f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f_: 1,
   +     +  +  9de15d971f96b13a870400bec533a86a63ab084d4c980f1327ce24af_: 1,
   +     +  +  65435d4468ea81112c7118268da6f14731540e1349a91e22c596155a_lAQxL1yMS63nD1E4yDFp7c3YIF: 3983534806202266
   +     +  ], 
   +     +  weights: +[
   +     +  +  f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f_: 76,
   +     +  +  9de15d971f96b13a870400bec533a86a63ab084d4c980f1327ce24af_: 41,
   +     +  +  65435d4468ea81112c7118268da6f14731540e1349a91e22c596155a_lAQxL1yMS63nD1E4yDFp7c3YIF: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f_: 56,
   +     +  +  9de15d971f96b13a870400bec533a86a63ab084d4c980f1327ce24af_: 1,
   +     +  +  65435d4468ea81112c7118268da6f14731540e1349a91e22c596155a_lAQxL1yMS63nD1E4yDFp7c3YIF: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 815a853696f27a1de9645156957ec0c347d99c1202323b4be0660ec5,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 4d355b3131d2804627e41d19d147586f4b7997df6b1572a0be2268d314937073),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: e2df4be18fd269d05b190a9b4f6c08ea6efc582e1c951496bded0c4c28e3d439),
   +     +  anchorPrices: +[
   +     +  +  f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f_: 74,
   +     +  +  9de15d971f96b13a870400bec533a86a63ab084d4c980f1327ce24af_: 20,
   +     +  +  65435d4468ea81112c7118268da6f14731540e1349a91e22c596155a_lAQxL1yMS63nD1E4yDFp7c3YIF: 3944093867526996
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3064410,
   +  +  65435d4468ea81112c7118268da6f14731540e1349a91e22c596155a_lAQxL1yMS63nD1E4yDFp7c3YIF: 1,
   +  +  9de15d971f96b13a870400bec533a86a63ab084d4c980f1327ce24af_: 1,
   +  +  f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f_: 1
   +  ]
     )
  boughtAsset: Asset(65435d4468ea81112c7118268da6f14731540e1349a91e22c596155a, lAQxL1yMS63nD1E4yDFp7c3YIF)
  soldAsset: Asset(f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f, )
  boughtAmount: 1
  soldAmount: 1
  boughtSpot: 3983534806202265
  soldSpot: 229
  boughtExp: 1
  soldExp: 64
  spotPrice: 5.748663213471931e-14
  effectivePrice: 1
)

trials left: 1 - iteration: 4 - block: 1992

trials left: 1 - iteration: 5 - block: 1993
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 86
minAnchorPrice: 8903668228824427
jumpLog: 0.011560822401076006
anchorLog: 2.2204460492503128e-16
52065315457582.39
maxTicks: 1
maxTicks_: 52065315457582
1
virtual: 8732344150471371
weight: 1
jumpSize: 38
minAnchorPrice: 8508437890202874
jumpLog: 0.025975486403260736
anchorLog: 2.2204460492503128e-16
116983190886492.45
maxTicks: 1
maxTicks_: 116983190886492
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 6 - block: 1994

trials left: 1 - iteration: 7 - block: 2994
virtual: 5848027543973484
weight: 1
jumpSize: 18
minAnchorPrice: 5540236620606458
jumpLog: 0.05406722127027579
anchorLog: 2.2204460492503128e-16
243497117565772.25
maxTicks: 1
maxTicks_: 243497117565772
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 2995

trials left: 1 - iteration: 9 - block: 3995
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 1
weight: 97
jumpSize: 89
minAnchorPrice: 95
jumpLog: 0.011173300598125255
anchorLog: 0.010471299867295437
1.067040457223687
maxTicks: 1
maxTicks_: 1
1
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 4625
virtual: 9007199254740991
weight: 1
jumpSize: 10
minAnchorPrice: 8188362958855446
jumpLog: 0.09531017980432493
anchorLog: 2.2204460492503128e-16
429238890251372.8
maxTicks: 1
maxTicks_: 429238890251372
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 5008

trials left: 1 - iteration: 12 - block: 6008
virtual: 9007199254740991
weight: 1
jumpSize: 64
minAnchorPrice: 8868626958514206
jumpLog: 0.015504186535965254
anchorLog: 2.2204460492503128e-16
69824648706055.79
maxTicks: 1
maxTicks_: 69824648706055
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 6065
virtual: 1
weight: 97
jumpSize: 96
minAnchorPrice: 96
jumpLog: 0.010362787035546658
anchorLog: 0.010362787035546658
1
maxTicks: 98714111784672
maxTicks_: 1
1
virtual: 1
weight: 52
jumpSize: 1
minAnchorPrice: 26
jumpLog: 0.6931471805599453
anchorLog: 0.03774032798284711
18.366220369758814
maxTicks: 98714111784672
maxTicks_: 18
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 14 - block: 6066
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  9007199254740992 > 
        spotBuying 9147936743096318
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
Swapping.boundary()
boughtAssetForSale (new): 
        buyingAmm  200 > 
        spotBuying 201
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
subSwap: 45714930890897 sold
boughtAssetForSale (new): 
        buyingAmm  200 > 
        spotBuying 201
boughtAssetForSale (old):
        sellingAmm  9007199254740992 > 
        spotSelling 9007199254740990
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 815a853696f27a1de9645156957ec0c347d99c1202323b4be0660ec5, 
   +     +  virtual: +[
   +     +  +  9de15d971f96b13a870400bec533a86a63ab084d4c980f1327ce24af_: 9007199254740991,
   +     +  +  f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f_: 9007199254740991,
   +     +  +  2d50c7e8eaf9889bc950549d1c7fb40fd6357b04f4df002dbfa9bea9_dXVSliNU4L7nryGeuEeisjGKTieOSb: 2
   +     +  ], 
   +     +  weights: +[
   +     +  +  9de15d971f96b13a870400bec533a86a63ab084d4c980f1327ce24af_: 1,
   +     +  +  f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f_: 1,
   +     +  +  2d50c7e8eaf9889bc950549d1c7fb40fd6357b04f4df002dbfa9bea9_dXVSliNU4L7nryGeuEeisjGKTieOSb: 100
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  9de15d971f96b13a870400bec533a86a63ab084d4c980f1327ce24af_: 64,
   +     +  +  f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f_: 100,
   +     +  +  2d50c7e8eaf9889bc950549d1c7fb40fd6357b04f4df002dbfa9bea9_dXVSliNU4L7nryGeuEeisjGKTieOSb: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 815a853696f27a1de9645156957ec0c347d99c1202323b4be0660ec5,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 0e999aaced2e205745c23caf130bb577249f2485d549137028189da59a99c7c7),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f3b357326b14971ea231f0d0de02507eada72b9949126235195e4ce723f7379c),
   +     +  anchorPrices: +[
   +     +  +  9de15d971f96b13a870400bec533a86a63ab084d4c980f1327ce24af_: 8868626958514206,
   +     +  +  f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f_: 8918019064099991,
   +     +  +  2d50c7e8eaf9889bc950549d1c7fb40fd6357b04f4df002dbfa9bea9_dXVSliNU4L7nryGeuEeisjGKTieOSb: 198
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3133370,
   +  +  2d50c7e8eaf9889bc950549d1c7fb40fd6357b04f4df002dbfa9bea9_dXVSliNU4L7nryGeuEeisjGKTieOSb: 1,
   +  +  9de15d971f96b13a870400bec533a86a63ab084d4c980f1327ce24af_: 1,
   +  +  f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f_: 1
   +  ]
     )
  boughtAsset: Asset(2d50c7e8eaf9889bc950549d1c7fb40fd6357b04f4df002dbfa9bea9, dXVSliNU4L7nryGeuEeisjGKTieOSb)
  soldAsset: Asset(f884045766407a7dde3368821f2230d92c3e30cbbf301f4ba7a1850f, )
  boughtAmount: 1
  soldAmount: 45714930890897
  boughtSpot: 199
  soldSpot: 9097271247288400
  boughtExp: 1
  soldExp: 2
  spotPrice: 45714930890896.484
  effectivePrice: 45714930890897
)

trials left: 1 - iteration: 15 - block: 6067

trials left: 1 - iteration: 16 - block: 6068

trials left: 1 - iteration: 17 - block: 6069

trials left: 1 - iteration: 18 - block: 7069
virtual: 177020325487819
weight: 1
jumpSize: 100
minAnchorPrice: 175267648997840
jumpLog: 0.009950330853168092
anchorLog: 5.7731597280507974e-15
1723550243174.6575
maxTicks: 1
maxTicks_: 1723550243174
1
virtual: 4962419690343530
weight: 1
jumpSize: 32
minAnchorPrice: 4812043336090695
jumpLog: 0.030771658666753687
anchorLog: 2.2204460492503128e-16
138583230505164.02
maxTicks: 1
maxTicks_: 138583230505164
1
virtual: 4484606606747066
weight: 2
jumpSize: 100
minAnchorPrice: 8880409122271417
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 8039
traces.length: 20
Opening: 9
Closing: 9
Swapping: 2
--- DONE ---
Opening: 9
Closing: 9
Swapping: 2
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(1m8s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m37s)[0m

