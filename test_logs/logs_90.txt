[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0

trials left: 1 - iteration: 1 - block: 137

trials left: 1 - iteration: 2 - block: 793

trials left: 1 - iteration: 3 - block: 794

trials left: 1 - iteration: 4 - block: 795

trials left: 1 - iteration: 5 - block: 796

trials left: 1 - iteration: 6 - block: 1796

trials left: 1 - iteration: 7 - block: 1969

trials left: 1 - iteration: 8 - block: 2969

trials left: 1 - iteration: 9 - block: 3226

trials left: 1 - iteration: 10 - block: 4226

trials left: 1 - iteration: 11 - block: 5226

trials left: 1 - iteration: 12 - block: 5227

trials left: 1 - iteration: 13 - block: 6227

trials left: 1 - iteration: 14 - block: 6247

trials left: 1 - iteration: 15 - block: 7247

trials left: 1 - iteration: 16 - block: 7404

trials left: 1 - iteration: 17 - block: 8404

trials left: 1 - iteration: 18 - block: 9404

trials left: 1 - iteration: 19 - block: 9405
traces.length: 0
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 1923880065609569
weight: 4
jumpSize: 100
minAnchorPrice: 7619326992513144
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 9007199254740991
weight: 1
jumpSize: 42
minAnchorPrice: 8797729504630735
jumpLog: 0.023530497410194036
anchorLog: 2.2204460492503128e-16
105971939368392.3
maxTicks: 1
maxTicks_: 105971939368392
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1000
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 8179209585558997
weight: 1
jumpSize: 1
minAnchorPrice: 4089604792779498
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 2
weight: 91
jumpSize: 100
minAnchorPrice: 180
jumpLog: 0.009950330853168092
anchorLog: 0.005540180375615351
1.7960301251135533
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 1001

trials left: 1 - iteration: 3 - block: 1002
Swapping.boundary()
addedBuyingA0: 12020142322465347
addedSellingA0: 15391040524876550
diff: -3370898202411203
Swapping.boundary()
addedBuyingA0: 12020142322465347
addedSellingA0: 18014398509481980
diff: -5994256187016633
Swapping.boundary()
addedBuyingA0: 228963487128499153168940835558
addedSellingA0: 228963487128504515579064253138
diff: -5362410123417580
Swapping.boundary()
addedBuyingA0: 7772475465062658
addedSellingA0: 9007199254740990
diff: -1234723789678332
subSwap: 1 bought
addedBuyingA0: 12020142322465347
addedSellingA0: 15391040524876550
diff: -3370898202411203
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 9ccf6c517783b379a4f1a1f0b8a4266106187ee5779982a7f146d747, 
   +     +  virtual: +[
   +     +  +  794f3d4f70cf96f4a68a4aeca21ce0864b4f1f2c428709c8ef089b9f_vYzkU73H84IsHKoMY: 9007199254740991,
   +     +  +  432d77fba2f0252738f2d76fe658641b920b681129dbae5fc8e264f8_qNDGNn5j7sirtz3cQlF13sj: 1923880065609569,
   +     +  +  c667ed72b485f1049fee4c058343044a383ea938fd2db6417b2a628b_vWG4eLnaZWLFri3WOK: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  794f3d4f70cf96f4a68a4aeca21ce0864b4f1f2c428709c8ef089b9f_vYzkU73H84IsHKoMY: 1,
   +     +  +  432d77fba2f0252738f2d76fe658641b920b681129dbae5fc8e264f8_qNDGNn5j7sirtz3cQlF13sj: 4,
   +     +  +  c667ed72b485f1049fee4c058343044a383ea938fd2db6417b2a628b_vWG4eLnaZWLFri3WOK: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  794f3d4f70cf96f4a68a4aeca21ce0864b4f1f2c428709c8ef089b9f_vYzkU73H84IsHKoMY: 100,
   +     +  +  432d77fba2f0252738f2d76fe658641b920b681129dbae5fc8e264f8_qNDGNn5j7sirtz3cQlF13sj: 100,
   +     +  +  c667ed72b485f1049fee4c058343044a383ea938fd2db6417b2a628b_vWG4eLnaZWLFri3WOK: 42
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 9ccf6c517783b379a4f1a1f0b8a4266106187ee5779982a7f146d747,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f18eac5fd9fbd9aef8bfd2dd00d1054a83905909eba43a81bf7fdeda0abd0cee),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 837bcf5dd8eac9794a2daf1a52e66ebfbcc7301ec06c2c9f6fbd899d3b458c59),
   +     +  anchorPrices: +[
   +     +  +  794f3d4f70cf96f4a68a4aeca21ce0864b4f1f2c428709c8ef089b9f_vYzkU73H84IsHKoMY: 8918019064099991,
   +     +  +  432d77fba2f0252738f2d76fe658641b920b681129dbae5fc8e264f8_qNDGNn5j7sirtz3cQlF13sj: 7619326992513144,
   +     +  +  c667ed72b485f1049fee4c058343044a383ea938fd2db6417b2a628b_vWG4eLnaZWLFri3WOK: 8797729504630735
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3430760,
   +  +  432d77fba2f0252738f2d76fe658641b920b681129dbae5fc8e264f8_qNDGNn5j7sirtz3cQlF13sj: 1,
   +  +  794f3d4f70cf96f4a68a4aeca21ce0864b4f1f2c428709c8ef089b9f_vYzkU73H84IsHKoMY: 2956877759914404,
   +  +  c667ed72b485f1049fee4c058343044a383ea938fd2db6417b2a628b_vWG4eLnaZWLFri3WOK: 1
   +  ]
     )
  boughtAsset: Asset(432d77fba2f0252738f2d76fe658641b920b681129dbae5fc8e264f8, qNDGNn5j7sirtz3cQlF13sj)
  soldAsset: Asset(794f3d4f70cf96f4a68a4aeca21ce0864b4f1f2c428709c8ef089b9f, vYzkU73H84IsHKoMY)
  boughtAmount: 1
  soldAmount: 2
  boughtSpot: 7695520262438275
  soldSpot: 12020142322465347
  boughtExp: 1
  soldExp: 30
  spotPrice: 1.5619661715576907
  effectivePrice: 2
)

trials left: 1 - iteration: 4 - block: 2002
Swapping.boundary()
addedBuyingA0: 12020142322465347
addedSellingA0: 18014398509481980
diff: -5994256187016633
Swapping.boundary()
addedBuyingA0: 228963487128514698119870960874
addedSellingA0: 228963487128516416710076595065
diff: -1718590205634191
Swapping.boundary()
addedBuyingA0: 7772475465062658
addedSellingA0: 9007199254740990
diff: -1234723789678332
subSwap: 1 sold
addedBuyingA0: 7772475465062658
addedSellingA0: 9007199254740990
diff: -1234723789678332
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 9ccf6c517783b379a4f1a1f0b8a4266106187ee5779982a7f146d747, 
   +     +  virtual: +[
   +     +  +  794f3d4f70cf96f4a68a4aeca21ce0864b4f1f2c428709c8ef089b9f_vYzkU73H84IsHKoMY: 9007199254740991,
   +     +  +  432d77fba2f0252738f2d76fe658641b920b681129dbae5fc8e264f8_qNDGNn5j7sirtz3cQlF13sj: 1923880065609569,
   +     +  +  c667ed72b485f1049fee4c058343044a383ea938fd2db6417b2a628b_vWG4eLnaZWLFri3WOK: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  794f3d4f70cf96f4a68a4aeca21ce0864b4f1f2c428709c8ef089b9f_vYzkU73H84IsHKoMY: 1,
   +     +  +  432d77fba2f0252738f2d76fe658641b920b681129dbae5fc8e264f8_qNDGNn5j7sirtz3cQlF13sj: 4,
   +     +  +  c667ed72b485f1049fee4c058343044a383ea938fd2db6417b2a628b_vWG4eLnaZWLFri3WOK: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  794f3d4f70cf96f4a68a4aeca21ce0864b4f1f2c428709c8ef089b9f_vYzkU73H84IsHKoMY: 100,
   +     +  +  432d77fba2f0252738f2d76fe658641b920b681129dbae5fc8e264f8_qNDGNn5j7sirtz3cQlF13sj: 100,
   +     +  +  c667ed72b485f1049fee4c058343044a383ea938fd2db6417b2a628b_vWG4eLnaZWLFri3WOK: 42
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 9ccf6c517783b379a4f1a1f0b8a4266106187ee5779982a7f146d747,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f18eac5fd9fbd9aef8bfd2dd00d1054a83905909eba43a81bf7fdeda0abd0cee),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 837bcf5dd8eac9794a2daf1a52e66ebfbcc7301ec06c2c9f6fbd899d3b458c59),
   +     +  anchorPrices: +[
   +     +  +  794f3d4f70cf96f4a68a4aeca21ce0864b4f1f2c428709c8ef089b9f_vYzkU73H84IsHKoMY: 8918019064099991,
   +     +  +  432d77fba2f0252738f2d76fe658641b920b681129dbae5fc8e264f8_qNDGNn5j7sirtz3cQlF13sj: 7619326992513144,
   +     +  +  c667ed72b485f1049fee4c058343044a383ea938fd2db6417b2a628b_vWG4eLnaZWLFri3WOK: 8797729504630735
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3430760,
   +  +  794f3d4f70cf96f4a68a4aeca21ce0864b4f1f2c428709c8ef089b9f_vYzkU73H84IsHKoMY: 2956877759914406,
   +  +  c667ed72b485f1049fee4c058343044a383ea938fd2db6417b2a628b_vWG4eLnaZWLFri3WOK: 1
   +  ]
     )
  boughtAsset: Asset(c667ed72b485f1049fee4c058343044a383ea938fd2db6417b2a628b, vWG4eLnaZWLFri3WOK)
  soldAsset: Asset(432d77fba2f0252738f2d76fe658641b920b681129dbae5fc8e264f8, qNDGNn5j7sirtz3cQlF13sj)
  boughtAmount: 1
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 7772475465062658
  boughtExp: 1
  soldExp: 2
  spotPrice: 0.8629181219646687
  effectivePrice: 1
)

trials left: 1 - iteration: 5 - block: 2003
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 1
weight: 23
jumpSize: 1
minAnchorPrice: 11
jumpLog: 0.6931471805599453
anchorLog: 0.08701137698962969
7.966167236297811
maxTicks: 1
maxTicks_: 7
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 6 - block: 2331
virtual: 9007199254740991
weight: 1
jumpSize: 72
minAnchorPrice: 8883812963580155
jumpLog: 0.01379332213233577
anchorLog: 2.2204460492503128e-16
62119600415388.59
maxTicks: 308411307643208
maxTicks_: 62119600415388
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 154205653821604
maxTicks_: 3121657384082680
3
virtual: 9007199254740991
weight: 1
jumpSize: 72
minAnchorPrice: 8883812963580155
jumpLog: 0.01379332213233577
anchorLog: 2.2204460492503128e-16
62119600415388.59
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
Opening pool with 6 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 2487

trials left: 1 - iteration: 8 - block: 2488

trials left: 1 - iteration: 9 - block: 2489

trials left: 1 - iteration: 10 - block: 2490
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 9007199254740991
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 9007199254740991
maxTicks_: 3121657384082680
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 2777
virtual: 9007199254740991
weight: 1
jumpSize: 67
minAnchorPrice: 8874740442171270
jumpLog: 0.014815085785140682
anchorLog: 2.2204460492503128e-16
66721214821421.516
maxTicks: 1
maxTicks_: 66721214821421
1
virtual: 9007199254740991
weight: 1
jumpSize: 50
minAnchorPrice: 8830587504648030
jumpLog: 0.01980262729617973
anchorLog: 2.2204460492503128e-16
89183104912031.86
maxTicks: 1
maxTicks_: 89183104912031
1
virtual: 1
weight: 30
jumpSize: 29
minAnchorPrice: 29
jumpLog: 0.033901551675681416
anchorLog: 0.033901551675681416
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 12 - block: 2778

trials left: 1 - iteration: 13 - block: 3261

trials left: 1 - iteration: 14 - block: 3721
virtual: 2
weight: 84
jumpSize: 100
minAnchorPrice: 166
jumpLog: 0.009950330853168092
anchorLog: 0.006006024060211949
1.6567251068949183
maxTicks: 1
maxTicks_: 1
1
virtual: 1645556346408008
weight: 10
jumpSize: 1
minAnchorPrice: 8227781732040040
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 1616189101423008
weight: 5
jumpSize: 1
minAnchorPrice: 4040472753557520
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 15 - block: 4721
virtual: 3209421185943536
weight: 1
jumpSize: 28
minAnchorPrice: 3098751489876517
jumpLog: 0.03509131981127019
anchorLog: 2.2204460492503128e-16
158037254825975.38
maxTicks: 1
maxTicks_: 158037254825975
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 16 - block: 5080

trials left: 1 - iteration: 17 - block: 5081

trials left: 1 - iteration: 18 - block: 6081
virtual: 1
weight: 100
jumpSize: 17
minAnchorPrice: 94
jumpLog: 0.05715841383994862
anchorLog: 0.010582109330537008
5.401419703253814
maxTicks: 1
maxTicks_: 5
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
virtual: 1
weight: 65
jumpSize: 64
minAnchorPrice: 64
jumpLog: 0.015504186535965254
anchorLog: 0.015504186535965254
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 7081
traces.length: 20
Opening: 9
Closing: 9
Swapping: 2
--- DONE ---
Opening: 9
Closing: 9
Swapping: 2
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(42s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m0s)[0m

