[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1000
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 9007199254740990
maxTicks_: 44812306322540
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 9007199254740990
maxTicks_: 3121657384082680
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 1449

trials left: 1 - iteration: 3 - block: 1650
virtual: 1
weight: 100
jumpSize: 26
minAnchorPrice: 96
jumpLog: 0.03774032798284711
anchorLog: 0.010362787035546658
3.64190905915459
maxTicks: 1
maxTicks_: 3
1
virtual: 6680140179614070
weight: 1
jumpSize: 30
minAnchorPrice: 6464651786723293
jumpLog: 0.03278982282299097
anchorLog: 2.2204460492503128e-16
147672233847166.75
maxTicks: 1
maxTicks_: 147672233847166
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 2650

trials left: 1 - iteration: 5 - block: 2651
Swapping.boundary()
addedBuyingA0: 153906146446536592912711231656
addedSellingA0: 153906146446693705733779948592
diff: -157112821068716936
Swapping.boundary()
addedBuyingA0: 145720261380697344
addedSellingA0: 155803588302677930
diff: -10083326921980586
subSwap: 5 bought
addedBuyingA0: 80955700767054080
addedSellingA0: 155803588302677930
diff: -74847887535623850
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 2e5536076078aa972746500f5760cb8a926d6e255aacd6e448970948, 
   +     +  virtual: +[
   +     +  +  eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32_: 1,
   +     +  +  ed39bf2b65b6f7795a9db56c3666826d3968bfab5ccfa3e866d8fe80_dNawwUpycPDA2gsaBgXZAzsV2do4BdB6: 6680140179614070,
   +     +  +  74ae26e5c7ee72416c1b9443b6ed7dbbfef28aee55a37082355a61c6_lQhqcmYzj: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32_: 100,
   +     +  +  ed39bf2b65b6f7795a9db56c3666826d3968bfab5ccfa3e866d8fe80_dNawwUpycPDA2gsaBgXZAzsV2do4BdB6: 1,
   +     +  +  74ae26e5c7ee72416c1b9443b6ed7dbbfef28aee55a37082355a61c6_lQhqcmYzj: 2
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32_: 26,
   +     +  +  ed39bf2b65b6f7795a9db56c3666826d3968bfab5ccfa3e866d8fe80_dNawwUpycPDA2gsaBgXZAzsV2do4BdB6: 30,
   +     +  +  74ae26e5c7ee72416c1b9443b6ed7dbbfef28aee55a37082355a61c6_lQhqcmYzj: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 2e5536076078aa972746500f5760cb8a926d6e255aacd6e448970948,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 04d5f02a1013d04d2af46586fdfbecbefd71919f3ab483ad6477faf70257d7b7),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f9fbca29bb3329acca4eae7be8f83357bfee5c9582855652c3024b2e3394f1ee),
   +     +  anchorPrices: +[
   +     +  +  eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32_: 96,
   +     +  +  ed39bf2b65b6f7795a9db56c3666826d3968bfab5ccfa3e866d8fe80_dNawwUpycPDA2gsaBgXZAzsV2do4BdB6: 6464651786723293,
   +     +  +  74ae26e5c7ee72416c1b9443b6ed7dbbfef28aee55a37082355a61c6_lQhqcmYzj: 1
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3262670,
   +  +  74ae26e5c7ee72416c1b9443b6ed7dbbfef28aee55a37082355a61c6_lQhqcmYzj: 1,
   +  +  ed39bf2b65b6f7795a9db56c3666826d3968bfab5ccfa3e866d8fe80_dNawwUpycPDA2gsaBgXZAzsV2do4BdB6: 9007199254740990,
   +  +  eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32_: 1590647486209130
   +  ]
     )
  boughtAsset: Asset(eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32, )
  soldAsset: Asset(ed39bf2b65b6f7795a9db56c3666826d3968bfab5ccfa3e866d8fe80, dNawwUpycPDA2gsaBgXZAzsV2do4BdB6)
  boughtAmount: 5
  soldAmount: 1
  boughtSpot: 155803588302677930
  soldSpot: 16191140153410816
  boughtExp: 928
  soldExp: 28
  spotPrice: 0.10392020061795025
  effectivePrice: 0.2
)

trials left: 1 - iteration: 6 - block: 3651

trials left: 1 - iteration: 7 - block: 3781
virtual: 1495994218790303
weight: 2
jumpSize: 100
minAnchorPrice: 2962364789683768
jumpLog: 0.009950330853168092
anchorLog: 4.440892098500625e-16
22406153161270.49
maxTicks: 1
maxTicks_: 22406153161270
1
virtual: 841524738829891
weight: 1
jumpSize: 100
minAnchorPrice: 833192810722664
jumpLog: 0.009950330853168092
anchorLog: 1.110223024625156e-15
8962461264508.2
maxTicks: 1
maxTicks_: 8962461264508
1
virtual: 5166712958380392
weight: 1
jumpSize: 100
minAnchorPrice: 5115557384535041
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 4237
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1600469916860794
maxTicks_: 44812306322540
3
virtual: 1
weight: 40
jumpSize: 1
minAnchorPrice: 20
jumpLog: 0.6931471805599453
anchorLog: 0.04879016416943205
14.206699082890461
maxTicks: 1600469916860794
maxTicks_: 14
3
virtual: 1
weight: 40
jumpSize: 1
minAnchorPrice: 20
jumpLog: 0.6931471805599453
anchorLog: 0.04879016416943205
14.206699082890461
virtual: 1
weight: 40
jumpSize: 1
minAnchorPrice: 20
jumpLog: 0.6931471805599453
anchorLog: 0.04879016416943205
14.206699082890461
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 9 - block: 5237
virtual: 9007199254740991
weight: 1
jumpSize: 55
minAnchorPrice: 8846356410906330
jumpLog: 0.018018505502678212
anchorLog: 2.2204460492503128e-16
81148134667634.84
maxTicks: 1
maxTicks_: 81148134667634
1
virtual: 9007199254740991
weight: 1
jumpSize: 66
minAnchorPrice: 8872763444968737
jumpLog: 0.015037877364540502
anchorLog: 2.2204460492503128e-16
67724578895387.83
maxTicks: 1
maxTicks_: 67724578895387
1
virtual: 5586563393594372
weight: 1
jumpSize: 42
minAnchorPrice: 5456643314673572
jumpLog: 0.023530497410194036
anchorLog: 2.2204460492503128e-16
105971939368392.3
maxTicks: 1
maxTicks_: 105971939368392
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 5238

trials left: 1 - iteration: 11 - block: 5793

trials left: 1 - iteration: 12 - block: 6247
Swapping.boundary()
addedBuyingA0: 9170966513918099
addedSellingA0: 18014398509481980
diff: -8843431995563881
Swapping.boundary()
addedBuyingA0: 9170966513918099
addedSellingA0: 11173126787188742
diff: -2002160273270643
Swapping.boundary()
addedBuyingA0: 580579191186364637701898730610
addedSellingA0: 580579191186371017173354302640
diff: -6379471455572030
Swapping.boundary()
addedBuyingA0: 5719576807727570
addedSellingA0: 9007199254740990
diff: -3287622447013420
subSwap: 1 sold
addedBuyingA0: 5719576807727570
addedSellingA0: 9007199254740990
diff: -3287622447013420
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 2e5536076078aa972746500f5760cb8a926d6e255aacd6e448970948, 
   +     +  virtual: +[
   +     +  +  c96ea9ff85b4fad4bf8d0d4008ec6aa276fe1341360b8023e19279f2_EBF2P4SPe9tpi7Ov7z3Tt1r3MKNYMhRV: 9007199254740991,
   +     +  +  56292a0c4fde11008b666884c9cee6cea3a2710a8619418ac4c3a575_LLerRPUin8RpRLKaKPToWG6MZ2HmIUcG: 9007199254740991,
   +     +  +  eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32_: 5586563393594372
   +     +  ], 
   +     +  weights: +[
   +     +  +  c96ea9ff85b4fad4bf8d0d4008ec6aa276fe1341360b8023e19279f2_EBF2P4SPe9tpi7Ov7z3Tt1r3MKNYMhRV: 1,
   +     +  +  56292a0c4fde11008b666884c9cee6cea3a2710a8619418ac4c3a575_LLerRPUin8RpRLKaKPToWG6MZ2HmIUcG: 1,
   +     +  +  eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32_: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  c96ea9ff85b4fad4bf8d0d4008ec6aa276fe1341360b8023e19279f2_EBF2P4SPe9tpi7Ov7z3Tt1r3MKNYMhRV: 55,
   +     +  +  56292a0c4fde11008b666884c9cee6cea3a2710a8619418ac4c3a575_LLerRPUin8RpRLKaKPToWG6MZ2HmIUcG: 66,
   +     +  +  eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32_: 42
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 2e5536076078aa972746500f5760cb8a926d6e255aacd6e448970948,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: b6f142a380394859fd38273a6ceabaaefa62e7d2eae68e938227b71aa7c70e71),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: edc476791e0c38be139225dbe8b7910d14b4d91857b55a3175ef406dfff3af56),
   +     +  anchorPrices: +[
   +     +  +  c96ea9ff85b4fad4bf8d0d4008ec6aa276fe1341360b8023e19279f2_EBF2P4SPe9tpi7Ov7z3Tt1r3MKNYMhRV: 8846356410906330,
   +     +  +  56292a0c4fde11008b666884c9cee6cea3a2710a8619418ac4c3a575_LLerRPUin8RpRLKaKPToWG6MZ2HmIUcG: 8872763444968737,
   +     +  +  eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32_: 5456643314673572
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3499720,
   +  +  56292a0c4fde11008b666884c9cee6cea3a2710a8619418ac4c3a575_LLerRPUin8RpRLKaKPToWG6MZ2HmIUcG: 1,
   +  +  c96ea9ff85b4fad4bf8d0d4008ec6aa276fe1341360b8023e19279f2_EBF2P4SPe9tpi7Ov7z3Tt1r3MKNYMhRV: 101507368587473,
   +  +  eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32_: 1
   +  ]
     )
  boughtAsset: Asset(c96ea9ff85b4fad4bf8d0d4008ec6aa276fe1341360b8023e19279f2, EBF2P4SPe9tpi7Ov7z3Tt1r3MKNYMhRV)
  soldAsset: Asset(eff63800576e83d95fb4df99b3ea2c0c62339fa02d4d402e04d3bc32, )
  boughtAmount: 1
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 5719576807727570
  boughtExp: 1
  soldExp: 2
  spotPrice: 0.6350005863051201
  effectivePrice: 1
)

trials left: 1 - iteration: 13 - block: 6248

trials left: 1 - iteration: 14 - block: 6249
virtual: 2
weight: 96
jumpSize: 100
minAnchorPrice: 190
jumpLog: 0.009950330853168092
anchorLog: 0.005249355886143745
1.895533674794862
maxTicks: 1582519783918151
maxTicks_: 1
1
virtual: 1
weight: 100
jumpSize: 41
minAnchorPrice: 97
jumpLog: 0.024097551579060524
anchorLog: 0.010256500167189061
2.349490682616037
maxTicks: 1582519783918151
maxTicks_: 2
2
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 791259891959075
maxTicks_: 3121657384082680
3
virtual: 1
weight: 100
jumpSize: 41
minAnchorPrice: 97
jumpLog: 0.024097551579060524
anchorLog: 0.010256500167189061
2.349490682616037
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 15 - block: 6250

trials left: 1 - iteration: 16 - block: 7250
virtual: 9007199254740991
weight: 1
jumpSize: 38
minAnchorPrice: 8776245427696350
jumpLog: 0.025975486403260736
anchorLog: 2.2204460492503128e-16
116983190886492.45
maxTicks: 1
maxTicks_: 116983190886492
1
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 10
minAnchorPrice: 8188362958855446
jumpLog: 0.09531017980432493
anchorLog: 2.2204460492503128e-16
429238890251372.8
maxTicks: 1
maxTicks_: 429238890251372
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 17 - block: 7251
virtual: 807704019137345
weight: 7
jumpSize: 100
minAnchorPrice: 5597948647486549
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 8226
virtual: 7706756382148579
weight: 2
jumpSize: 1
minAnchorPrice: 7706756382148579
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 511761464616569
maxTicks_: 3121657384082680
3
virtual: 1429672370158887
weight: 1
jumpSize: 100
minAnchorPrice: 1415517198177115
jumpLog: 0.009950330853168092
anchorLog: 6.661338147750937e-16
14937435440846.994
maxTicks: 511761464616569
maxTicks_: 14937435440846
3
virtual: 1429672370158887
weight: 1
jumpSize: 100
minAnchorPrice: 1415517198177115
jumpLog: 0.009950330853168092
anchorLog: 6.661338147750937e-16
14937435440846.994
virtual: 1429672370158887
weight: 1
jumpSize: 100
minAnchorPrice: 1415517198177115
jumpLog: 0.009950330853168092
anchorLog: 6.661338147750937e-16
14937435440846.994
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 8227
traces.length: 20
Opening: 10
Closing: 8
Swapping: 2
--- DONE ---
Opening: 10
Closing: 8
Swapping: 2
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(36s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m2s)[0m

