[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0
virtual: 7364099142622937
weight: 1
jumpSize: 48
minAnchorPrice: 7213811405018387
jumpLog: 0.02061928720273561
anchorLog: 2.2204460492503128e-16
92861014162885.34
maxTicks: 1
maxTicks_: 92861014162885
1
virtual: 1
weight: 5
jumpSize: 1
minAnchorPrice: 2
jumpLog: 0.6931471805599453
anchorLog: 0.4054651081081644
1.7095112913514547
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 309

trials left: 1 - iteration: 2 - block: 358
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 1
weight: 95
jumpSize: 76
minAnchorPrice: 93
jumpLog: 0.0130720815673527
anchorLog: 0.01069528911674795
1.2222279757620471
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 359
virtual: 5521633057515542
weight: 1
jumpSize: 100
minAnchorPrice: 5466963423282714
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 1
weight: 100
jumpSize: 39
minAnchorPrice: 97
jumpLog: 0.025317807984289786
anchorLog: 0.010256500167189061
2.4684646391643836
maxTicks: 1
maxTicks_: 2
1
virtual: 1248448904825109
weight: 7
jumpSize: 100
minAnchorPrice: 8652616172055210
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 1195
Swapping.boundary()
addedBuyingA0: 257758644143867539638915229060
addedSellingA0: 257758644143868598242458096742
diff: -1058603542867682
subSwap: 13111053980423 bought
addedBuyingA0: 40649115684219970640662542439
addedSellingA0: 40649115684225083107581254742
diff: -5112466918712303
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 304282188d0bcccd6debb1ae29fa8b70cf505f1d24b6d22b28062dd1, 
   +     +  virtual: +[
   +     +  +  7892d98ff55021756092efd61d77e7d2a693a8dcd72cb288ed0b0a08_: 1,
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 9007199254740991,
   +     +  +  f37876b37589cf41e491acb368c070756ecf188119175156c4c608f9_: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  7892d98ff55021756092efd61d77e7d2a693a8dcd72cb288ed0b0a08_: 100,
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 1,
   +     +  +  f37876b37589cf41e491acb368c070756ecf188119175156c4c608f9_: 95
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7892d98ff55021756092efd61d77e7d2a693a8dcd72cb288ed0b0a08_: 1,
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 100,
   +     +  +  f37876b37589cf41e491acb368c070756ecf188119175156c4c608f9_: 76
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 304282188d0bcccd6debb1ae29fa8b70cf505f1d24b6d22b28062dd1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c7861e96daade99652badf95feefc8e1d9f99b612935408c4c579c1bf583334a),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: a5d4b49dfc5b2263b9427c1ce42585b278f48d0ca3b0f82d2899c8a92d0157a8),
   +     +  anchorPrices: +[
   +     +  +  7892d98ff55021756092efd61d77e7d2a693a8dcd72cb288ed0b0a08_: 50,
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 8918019064099991,
   +     +  +  f37876b37589cf41e491acb368c070756ecf188119175156c4c608f9_: 93
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3189400,
   +  +  7892d98ff55021756092efd61d77e7d2a693a8dcd72cb288ed0b0a08_: 1,
   +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 638736361422622,
   +  +  f37876b37589cf41e491acb368c070756ecf188119175156c4c608f9_: 5555964180242
   +  ]
     )
  boughtAsset: Asset(e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f, MgCESI61L7Er00xJ26juFij8EYX6qoDo)
  soldAsset: Asset(f37876b37589cf41e491acb368c070756ecf188119175156c4c608f9, )
  boughtAmount: 13111053980423
  soldAmount: 4251410973002
  boughtSpot: 9561323509385871
  soldSpot: 3100369790629793
  boughtExp: 7
  soldExp: 2382
  spotPrice: 0.32426157190333693
  effectivePrice: 0.3242615719033778
)

trials left: 1 - iteration: 5 - block: 1196

trials left: 1 - iteration: 6 - block: 1756
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 2
weight: 89
jumpSize: 100
minAnchorPrice: 176
jumpLog: 0.009950330853168092
anchorLog: 0.0056657375356773
1.7562286975897832
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 2670

trials left: 1 - iteration: 8 - block: 2818
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 470604274224192
maxTicks_: 1
1
virtual: 6736133347090920
weight: 1
jumpSize: 18
minAnchorPrice: 6381600013033503
jumpLog: 0.05406722127027579
anchorLog: 2.2204460492503128e-16
243497117565772.25
maxTicks: 470604274224192
maxTicks_: 243497117565772
3
virtual: 6736133347090920
weight: 1
jumpSize: 18
minAnchorPrice: 6381600013033503
jumpLog: 0.05406722127027579
anchorLog: 2.2204460492503128e-16
243497117565772.25
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 9 - block: 2820
virtual: 3210555450277228
weight: 1
jumpSize: 1
minAnchorPrice: 1605277725138614
jumpLog: 0.6931471805599453
anchorLog: 6.661338147750937e-16
1040552461360893.5
maxTicks: 1
maxTicks_: 1040552461360893
1
virtual: 9007199254740991
weight: 1
jumpSize: 8
minAnchorPrice: 8006399337547547
jumpLog: 0.11778303565638346
anchorLog: 2.2204460492503128e-16
530447635492654.44
maxTicks: 1
maxTicks_: 530447635492654
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 3820
Swapping.boundary()
addedBuyingA0: 31436263403052024912500
addedSellingA0: 31436267937804065880228
diff: -4534752040967728
Swapping.boundary()
addedBuyingA0: 31436263403052024912500
addedSellingA0: 31436264395098528549315
diff: -992046503636815
subSwap: 1 sold
subSwap: 1 bought
addedBuyingA0: 12115941218001875
addedSellingA0: 13472266694181838
diff: -1356325476179963
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 304282188d0bcccd6debb1ae29fa8b70cf505f1d24b6d22b28062dd1, 
   +     +  virtual: +[
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 2,
   +     +  +  _: 6736133347090920
   +     +  ], 
   +     +  weights: +[
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 51,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 100,
   +     +  +  _: 18
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 304282188d0bcccd6debb1ae29fa8b70cf505f1d24b6d22b28062dd1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 42116e6fc458ac97a6f82f08ec6183e6f82aa3f74520eeb98dba0f1b9a04915f),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: b49c4c4e7746827e2811c4750045ff4614c63f5b0707ba334db79a55e4adb513),
   +     +  anchorPrices: +[
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 100,
   +     +  +  _: 6381600013033503
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2594620,
   +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 235302137112096
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f, MgCESI61L7Er00xJ26juFij8EYX6qoDo)
  boughtAmount: 1
  soldAmount: 2
  boughtSpot: 6736133347090919
  soldSpot: 12115941218001875
  boughtExp: 1
  soldExp: 3259
  spotPrice: 1.7986492537642969
  effectivePrice: 2
)

trials left: 1 - iteration: 11 - block: 4820
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
virtual: 9007199254740991
weight: 1
jumpSize: 26
minAnchorPrice: 8673599282343176
jumpLog: 0.03774032798284711
anchorLog: 2.2204460492503128e-16
169967327040390.6
maxTicks: 1
maxTicks_: 169967327040390
1
virtual: 1
weight: 66
jumpSize: 48
minAnchorPrice: 64
jumpLog: 0.02061928720273561
anchorLog: 0.015504186535965254
1.3299173842435907
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 12 - block: 4821
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 1
weight: 93
jumpSize: 58
minAnchorPrice: 91
jumpLog: 0.01709443335930004
anchorLog: 0.01092907053219023
1.564125083551295
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 4822
virtual: 9007199254740991
weight: 1
jumpSize: 56
minAnchorPrice: 8849178215184131
jumpLog: 0.017699577099400857
anchorLog: 2.2204460492503128e-16
79711808829477.08
maxTicks: 1
maxTicks_: 79711808829477
1
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 14 - block: 4862

trials left: 1 - iteration: 15 - block: 5862

trials left: 1 - iteration: 16 - block: 5863
Swapping.boundary()
addedBuyingA0: 1108532000
addedSellingA0: 9007199254740990
diff: -9007198146208990
subSwap: 802683 bought
addedBuyingA0: 321073200
addedSellingA0: 9007199254740990
diff: -9007198933667790
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 304282188d0bcccd6debb1ae29fa8b70cf505f1d24b6d22b28062dd1, 
   +     +  virtual: +[
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 1,
   +     +  +  _: 9007199254740991,
   +     +  +  2a6f722f6de721be16fd53c5b9c65937927670c0b8f904680dec703e_8EPFWWClSU1zvF: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 100,
   +     +  +  _: 1,
   +     +  +  2a6f722f6de721be16fd53c5b9c65937927670c0b8f904680dec703e_8EPFWWClSU1zvF: 66
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 1,
   +     +  +  _: 26,
   +     +  +  2a6f722f6de721be16fd53c5b9c65937927670c0b8f904680dec703e_8EPFWWClSU1zvF: 48
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 304282188d0bcccd6debb1ae29fa8b70cf505f1d24b6d22b28062dd1,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: ecb41b07c245450b9c3743eaf83afa2a16da01120501f92c8abbe3bafe9a6f9b),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: aee97707981acaa5150cad603dd3cd86a70b1a50bc8d76f3dccc97d823c24a9b),
   +     +  anchorPrices: +[
   +     +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 50,
   +     +  +  _: 8673599282343176,
   +     +  +  2a6f722f6de721be16fd53c5b9c65937927670c0b8f904680dec703e_8EPFWWClSU1zvF: 64
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2771330,
   +  +  e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f_MgCESI61L7Er00xJ26juFij8EYX6qoDo: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(e1998ff56d39c2fedbb55ec2566c7f5cedb5ee4a806533a8760d545f, MgCESI61L7Er00xJ26juFij8EYX6qoDo)
  boughtAmount: 802683
  soldAmount: 1
  boughtSpot: 9007199254740990
  soldSpot: 400
  boughtExp: 1
  soldExp: 3
  spotPrice: 4.4408920985006274e-14
  effectivePrice: 0.0000012458218250542244
)

trials left: 1 - iteration: 17 - block: 6863
virtual: 8926170999511091
weight: 1
jumpSize: 12
minAnchorPrice: 8239542461087160
jumpLog: 0.08004270767353636
anchorLog: 2.2204460492503128e-16
360480308452263.94
maxTicks: 1
maxTicks_: 360480308452263
1
virtual: 652014770314009
weight: 13
jumpSize: 100
minAnchorPrice: 8392269320873383
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 998370773934610
weight: 18
jumpSize: 1
minAnchorPrice: 8985336965411490
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 7148

trials left: 1 - iteration: 19 - block: 8148
virtual: 7825050651794437
weight: 1
jumpSize: 1
minAnchorPrice: 3912525325897218
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 32514433255244
maxTicks_: 3121657384082680
3
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 10838144418414
maxTicks_: 1
1
virtual: 7825050651794437
weight: 1
jumpSize: 1
minAnchorPrice: 3912525325897218
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
virtual: 7825050651794437
weight: 1
jumpSize: 1
minAnchorPrice: 3912525325897218
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
Opening pool with 3 dirac utxos and 1 param utxos
traces.length: 20
Opening: 11
Closing: 6
Swapping: 3
--- DONE ---
Opening: 11
Closing: 6
Swapping: 3
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(39s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m6s)[0m

