[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 2065
maxTicks_: 35
3
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 2065
maxTicks_: 3119
3
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1
virtual: 1
weight: 63
jumpSize: 52
minAnchorPrice: 61
jumpLog: 0.01904819497069441
anchorLog: 0.016260520871780326
1.1714381796804563
maxTicks: 600
maxTicks_: 1
1
virtual: 7257
weight: 1
jumpSize: 85
minAnchorPrice: 7172
jumpLog: 0.011696039763191236
anchorLog: 0.00013942140141103536
83.88984506553297
maxTicks: 600
maxTicks_: 83
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 1001
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 9000
weight: 1
jumpSize: 86
minAnchorPrice: 8896
jumpLog: 0.011560822401076006
anchorLog: 0.00011240375440380989
102.85085638281986
maxTicks: 1
maxTicks_: 102
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 2001

          maxBuying: 11489
          maxSelling: 1
          maxBuyingA0: 104423521
          maxSellingA0: 2260261
          maxSwapA0: 2260261
          spotBuying: 2260261
          spotSelling: 9089
          buyingAmount: 248
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2271750 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999
subSwap: 248 bought
boughtAssetForSale (old): 
        buyingAmm  2271750 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57, 
   +     +  virtual: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 9000,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 100,
   +     +  +  _: 86
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 863b79382cc57d201e71790a19c82b6f1d884b5dd8287593d32bb0cede5776ee),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: fd0929e421ce4c7b8885ac2c42e8b98b5a77e21c219a41dd32dac730e8ed3999),
   +     +  anchorPrices: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 8910,
   +     +  +  _: 8896
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2262750,
   +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a, 3)
  boughtAmount: 248
  soldAmount:   1
  boughtSpot:   2260261
  soldSpot:     9089
  (boughtA0:    2254072)
  (soldA0:      2260261)
  boughtExp:    479
  soldExp:      2
  spotPrice:    0.0040212170187425254
  eff.Price:    0.004032258064516129
  maxBuying:    248
  (maxBuyingA0: 2254072)
)

trials left: 1 - iteration: 4 - block: 2811

          maxBuying: 11489
          maxSelling: 87
          maxBuyingA0: 104423521
          maxSellingA0: 196642707
          maxSwapA0: 104423521
          spotBuying: 2260261
          spotSelling: 9089
          buyingAmount: 11489
          sellingAmount: 47
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2271750 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9002 > 
        spotSelling 8999
subSwap: 47 sold
boughtAssetForSale (old): 
        buyingAmm  2271750 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9002 > 
        spotSelling 8999
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57, 
   +     +  virtual: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 9000,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 100,
   +     +  +  _: 86
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 863b79382cc57d201e71790a19c82b6f1d884b5dd8287593d32bb0cede5776ee),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: fd0929e421ce4c7b8885ac2c42e8b98b5a77e21c219a41dd32dac730e8ed3999),
   +     +  anchorPrices: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 8910,
   +     +  +  _: 8896
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2262750,
   +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 2
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a, 3)
  boughtAmount: 11489
  soldAmount:   47
  boughtSpot:   2260261
  soldSpot:     9089
  (boughtA0:    104423521)
  (soldA0:      106232267)
  boughtExp:    479
  soldExp:      2
  spotPrice:    0.0040212170187425254
  eff.Price:    0.0040908695273740095
  maxBuying:    2262750
  (maxBuyingA0: 20566134750)
)

trials left: 1 - iteration: 5 - block: 2926

          maxBuying: 15799
          maxSelling: 40
          maxBuyingA0: 143597111
          maxSellingA0: 90410440
          maxSwapA0: 90410440
          spotBuying: 2260261
          spotSelling: 9089
          buyingAmount: 9947
          sellingAmount: 40
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9049 > 
        spotSelling 8999
subSwap: 33 sold
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9049 > 
        spotSelling 8999
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57, 
   +     +  virtual: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 9000,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 100,
   +     +  +  _: 86
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 863b79382cc57d201e71790a19c82b6f1d884b5dd8287593d32bb0cede5776ee),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: fd0929e421ce4c7b8885ac2c42e8b98b5a77e21c219a41dd32dac730e8ed3999),
   +     +  anchorPrices: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 8910,
   +     +  +  _: 8896
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2267060,
   +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 49
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a, 3)
  boughtAmount: 8206
  soldAmount:   33
  boughtSpot:   2260261
  soldSpot:     9089
  (boughtA0:    74584334)
  (soldA0:      74588613)
  boughtExp:    479
  soldExp:      2
  spotPrice:    0.0040212170187425254
  eff.Price:    0.004021447721179625
  maxBuying:    2267060
  (maxBuyingA0: 20605308340)
)

trials left: 1 - iteration: 6 - block: 2927

          maxBuying: 15799
          maxSelling: 7
          maxBuyingA0: 143597111
          maxSellingA0: 15821827
          maxSwapA0: 15821827
          spotBuying: 2260261
          spotSelling: 9089
          buyingAmount: 1740
          sellingAmount: 7
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9082 > 
        spotSelling 8999
subSwap: 1528 bought
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9082 > 
        spotSelling 8999
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57, 
   +     +  virtual: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 9000,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 100,
   +     +  +  _: 86
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 863b79382cc57d201e71790a19c82b6f1d884b5dd8287593d32bb0cede5776ee),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: fd0929e421ce4c7b8885ac2c42e8b98b5a77e21c219a41dd32dac730e8ed3999),
   +     +  anchorPrices: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 8910,
   +     +  +  _: 8896
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2267060,
   +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 82
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a, 3)
  boughtAmount: 1528
  soldAmount:   7
  boughtSpot:   2260261
  soldSpot:     9089
  (boughtA0:    13887992)
  (soldA0:      15821827)
  boughtExp:    479
  soldExp:      2
  spotPrice:    0.0040212170187425254
  eff.Price:    0.004581151832460733
  maxBuying:    1528
  (maxBuyingA0: 13887992)
)

trials left: 1 - iteration: 7 - block: 3927

          maxBuying: 15799
          maxSelling: 1
          maxBuyingA0: 145019021
          maxSellingA0: 2260261
          maxSwapA0: 2260261
          spotBuying: 2260261
          spotSelling: 9179
          buyingAmount: 246
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (new):
        sellingAmm  9090 > 
        spotSelling 9089
subSwap: 1 bought
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (new):
        sellingAmm  9090 > 
        spotSelling 9089
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57, 
   +     +  virtual: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 9000,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 100,
   +     +  +  _: 86
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 863b79382cc57d201e71790a19c82b6f1d884b5dd8287593d32bb0cede5776ee),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: fd0929e421ce4c7b8885ac2c42e8b98b5a77e21c219a41dd32dac730e8ed3999),
   +     +  anchorPrices: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 8910,
   +     +  +  _: 8896
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2267060,
   +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 89
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a, 3)
  boughtAmount: 1
  soldAmount:   1
  boughtSpot:   2260261
  soldSpot:     9179
  (boughtA0:    9179)
  (soldA0:      2260261)
  boughtExp:    479
  soldExp:      3
  spotPrice:    0.004061035429094251
  eff.Price:    1
  maxBuying:    1
  (maxBuyingA0: 9179)
)

trials left: 1 - iteration: 8 - block: 4927

trials left: 1 - iteration: 9 - block: 5624

          maxBuying: 15799
          maxSelling: 1
          maxBuyingA0: 145019021
          maxSellingA0: 2260261
          maxSwapA0: 2260261
          spotBuying: 2260261
          spotSelling: 9179
          buyingAmount: 246
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9090 > 
        spotSelling 9089
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9090 > 
        spotSelling 9089
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57, 
   +     +  virtual: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 9000,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 100,
   +     +  +  _: 86
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 863b79382cc57d201e71790a19c82b6f1d884b5dd8287593d32bb0cede5776ee),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: fd0929e421ce4c7b8885ac2c42e8b98b5a77e21c219a41dd32dac730e8ed3999),
   +     +  anchorPrices: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 8910,
   +     +  +  _: 8896
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2267060,
   +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 90
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a, 3)
  boughtAmount: 246
  soldAmount:   1
  boughtSpot:   2260261
  soldSpot:     9179
  (boughtA0:    2258034)
  (soldA0:      2260261)
  boughtExp:    479
  soldExp:      3
  spotPrice:    0.004061035429094251
  eff.Price:    0.0040650406504065045
  maxBuying:    2267060
  (maxBuyingA0: 20809343740)
)

trials left: 1 - iteration: 10 - block: 5625
virtual: 1
weight: 14
jumpSize: 13
minAnchorPrice: 13
jumpLog: 0.07410797215372183
anchorLog: 0.07410797215372183
1
maxTicks: 1751
maxTicks_: 1
1
virtual: 6790
weight: 1
jumpSize: 1
minAnchorPrice: 3395
jumpLog: 0.6931471805599453
anchorLog: 0.000294507438441432
2353.581234579886
maxTicks: 1751
maxTicks_: 2353
3
virtual: 2
weight: 52
jumpSize: 100
minAnchorPrice: 102
jumpLog: 0.009950330853168092
anchorLog: 0.009756174945364656
1.0199008226985191
maxTicks: 1751
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 5960

          maxBuying: 15799
          maxSelling: 88
          maxBuyingA0: 145019021
          maxSellingA0: 198902968
          maxSwapA0: 145019021
          spotBuying: 2260261
          spotSelling: 9179
          buyingAmount: 15799
          sellingAmount: 65
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9091 > 
        spotSelling 9089

          maxBuying: 11610
          maxSelling: 28
          maxBuyingA0: 289472130
          maxSellingA0: 3610255880
          maxSwapA0: 289472130
          spotBuying: 128937710
          spotSelling: 24933
          buyingAmount: 11610
          sellingAmount: 3
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  129541464 > 
        spotBuying 130227087
boughtAssetForSale (old):
        sellingAmm  24528 > 
        spotSelling 23152
subSwap: 65 sold
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9091 > 
        spotSelling 9089
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57, 
   +     +  virtual: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 9000,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 100,
   +     +  +  _: 86
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 863b79382cc57d201e71790a19c82b6f1d884b5dd8287593d32bb0cede5776ee),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: fd0929e421ce4c7b8885ac2c42e8b98b5a77e21c219a41dd32dac730e8ed3999),
   +     +  anchorPrices: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 8910,
   +     +  +  _: 8896
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2267060,
   +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 91
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a, 3)
  boughtAmount: 15799
  soldAmount:   65
  boughtSpot:   2260261
  soldSpot:     9179
  (boughtA0:    145019021)
  (soldA0:      146916965)
  boughtExp:    479
  soldExp:      3
  spotPrice:    0.004061035429094251
  eff.Price:    0.004114184442053295
  maxBuying:    2267060
  (maxBuyingA0: 20809343740)
)

trials left: 1 - iteration: 12 - block: 5961

          maxBuying: 15799
          maxSelling: 23
          maxBuyingA0: 145019021
          maxSellingA0: 51986003
          maxSwapA0: 51986003
          spotBuying: 2260261
          spotSelling: 9179
          buyingAmount: 5663
          sellingAmount: 23
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9156 > 
        spotSelling 9089

          maxBuying: 11610
          maxSelling: 28
          maxBuyingA0: 289472130
          maxSellingA0: 3610255880
          maxSwapA0: 289472130
          spotBuying: 128937710
          spotSelling: 24933
          buyingAmount: 11610
          sellingAmount: 3
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  129541464 > 
        spotBuying 130227087
boughtAssetForSale (old):
        sellingAmm  24528 > 
        spotSelling 23152
subSwap: 1 bought
boughtAssetForSale (old): 
        buyingAmm  129541464 > 
        spotBuying 130227087
boughtAssetForSale (old):
        sellingAmm  24528 > 
        spotSelling 23152
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: dbb2c2080a9527bfbb221e5b7287ce3e28cce337da2f3f6281d66e80, 
   +     +  virtual: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1,
   +     +  +  0d82878e3ba835578b80da1b446cd67dcb6eacc570dcae44526f57d0_Tsrovm4KR0Nt3vhbwy: 6790,
   +     +  +  _: 2
   +     +  ], 
   +     +  weights: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 14,
   +     +  +  0d82878e3ba835578b80da1b446cd67dcb6eacc570dcae44526f57d0_Tsrovm4KR0Nt3vhbwy: 1,
   +     +  +  _: 52
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 13,
   +     +  +  0d82878e3ba835578b80da1b446cd67dcb6eacc570dcae44526f57d0_Tsrovm4KR0Nt3vhbwy: 1,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: dbb2c2080a9527bfbb221e5b7287ce3e28cce337da2f3f6281d66e80,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f3fa8a8f0158341d6111fc476ab96c3d701bcd51758bded4b4bf824bbc781129),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 585fd21e6e3e9409566c04d88fe252927b857023c08d8bab17649039a14b2633),
   +     +  anchorPrices: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 13,
   +     +  +  0d82878e3ba835578b80da1b446cd67dcb6eacc570dcae44526f57d0_Tsrovm4KR0Nt3vhbwy: 3395,
   +     +  +  _: 102
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2491180,
   +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1751
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a, 3)
  boughtAmount: 1
  soldAmount:   1
  boughtSpot:   128937710
  soldSpot:     24933
  (boughtA0:    24933)
  (soldA0:      128937710)
  boughtExp:    1412
  soldExp:      102
  spotPrice:    0.00019337244317430488
  eff.Price:    1
  maxBuying:    1
  (maxBuyingA0: 24933)
)

trials left: 1 - iteration: 13 - block: 6108

          maxBuying: 15799
          maxSelling: 23
          maxBuyingA0: 145019021
          maxSellingA0: 51986003
          maxSwapA0: 51986003
          spotBuying: 2260261
          spotSelling: 9179
          buyingAmount: 5663
          sellingAmount: 23
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9156 > 
        spotSelling 9089

          maxBuying: 11610
          maxSelling: 27
          maxBuyingA0: 289472130
          maxSellingA0: 3481318170
          maxSwapA0: 289472130
          spotBuying: 128937710
          spotSelling: 24933
          buyingAmount: 11610
          sellingAmount: 3
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  129541464 > 
        spotBuying 130227087
boughtAssetForSale (old):
        sellingAmm  24542 > 
        spotSelling 23152
subSwap: 5663 bought
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (old):
        sellingAmm  9156 > 
        spotSelling 9089
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57, 
   +     +  virtual: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 9000,
   +     +  +  _: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 100,
   +     +  +  _: 86
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 1a91145940928a0eb0553d72e9303dc2d4aad5bcb712080a91fa6c57,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 863b79382cc57d201e71790a19c82b6f1d884b5dd8287593d32bb0cede5776ee),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: fd0929e421ce4c7b8885ac2c42e8b98b5a77e21c219a41dd32dac730e8ed3999),
   +     +  anchorPrices: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 8910,
   +     +  +  _: 8896
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2267060,
   +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 156
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a, 3)
  boughtAmount: 5663
  soldAmount:   23
  boughtSpot:   2260261
  soldSpot:     9179
  (boughtA0:    51980677)
  (soldA0:      51986003)
  boughtExp:    479
  soldExp:      3
  spotPrice:    0.004061035429094251
  eff.Price:    0.004061451527458944
  maxBuying:    5663
  (maxBuyingA0: 51980677)
)

trials left: 1 - iteration: 14 - block: 6109

          maxBuying: 15799
          maxSelling: 92
          maxBuyingA0: 146472529
          maxSellingA0: 207944012
          maxSwapA0: 146472529
          spotBuying: 2260261
          spotSelling: 9271
          buyingAmount: 15799
          sellingAmount: 65
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  2276060 > 
        spotBuying 2286543
boughtAssetForSale (new):
        sellingAmm  9244 > 
        spotSelling 9179

          maxBuying: 11610
          maxSelling: 27
          maxBuyingA0: 289472130
          maxSellingA0: 3481318170
          maxSwapA0: 289472130
          spotBuying: 128937710
          spotSelling: 24933
          buyingAmount: 11610
          sellingAmount: 3
        
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  129541464 > 
        spotBuying 130227087
boughtAssetForSale (old):
        sellingAmm  24542 > 
        spotSelling 23152
subSwap: 2 sold
boughtAssetForSale (old): 
        buyingAmm  129541464 > 
        spotBuying 130227087
boughtAssetForSale (old):
        sellingAmm  24542 > 
        spotSelling 23152
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: dbb2c2080a9527bfbb221e5b7287ce3e28cce337da2f3f6281d66e80, 
   +     +  virtual: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1,
   +     +  +  0d82878e3ba835578b80da1b446cd67dcb6eacc570dcae44526f57d0_Tsrovm4KR0Nt3vhbwy: 6790,
   +     +  +  _: 2
   +     +  ], 
   +     +  weights: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 14,
   +     +  +  0d82878e3ba835578b80da1b446cd67dcb6eacc570dcae44526f57d0_Tsrovm4KR0Nt3vhbwy: 1,
   +     +  +  _: 52
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 13,
   +     +  +  0d82878e3ba835578b80da1b446cd67dcb6eacc570dcae44526f57d0_Tsrovm4KR0Nt3vhbwy: 1,
   +     +  +  _: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: dbb2c2080a9527bfbb221e5b7287ce3e28cce337da2f3f6281d66e80,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: f3fa8a8f0158341d6111fc476ab96c3d701bcd51758bded4b4bf824bbc781129),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 585fd21e6e3e9409566c04d88fe252927b857023c08d8bab17649039a14b2633),
   +     +  anchorPrices: +[
   +     +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 13,
   +     +  +  0d82878e3ba835578b80da1b446cd67dcb6eacc570dcae44526f57d0_Tsrovm4KR0Nt3vhbwy: 3395,
   +     +  +  _: 102
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2491180,
   +  +  7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a_3: 1752
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(7e5243f4e08e0c0f58a411285ad7b0a1fdb6f8c17057fa676e66a50a, 3)
  boughtAmount: 10342
  soldAmount:   2
  boughtSpot:   128937710
  soldSpot:     24933
  (boughtA0:    257857086)
  (soldA0:      257875420)
  boughtExp:    1412
  soldExp:      102
  spotPrice:    0.00019337244317430488
  eff.Price:    0.00019338619222587506
  maxBuying:    2491180
  (maxBuyingA0: 62112590940)
)

trials left: 1 - iteration: 15 - block: 6496

trials left: 1 - iteration: 16 - block: 6497

trials left: 1 - iteration: 17 - block: 6498
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 1
maxTicks_: 1
1
virtual: 5593
weight: 1
jumpSize: 58
minAnchorPrice: 5498
jumpLog: 0.01709443335930004
anchorLog: 0.00018186778262371572
93.99374156701744
maxTicks: 1
maxTicks_: 93
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 7498
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 8999
maxTicks_: 88
3
virtual: 9000
weight: 1
jumpSize: 9
minAnchorPrice: 8100
jumpLog: 0.10536051565782635
anchorLog: 0.000123449169961031
853.4728560028822
maxTicks: 2999
maxTicks_: 853
3
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
virtual: 9000
weight: 1
jumpSize: 9
minAnchorPrice: 8100
jumpLog: 0.10536051565782635
anchorLog: 0.000123449169961031
853.4728560028822
virtual: 9000
weight: 1
jumpSize: 9
minAnchorPrice: 8100
jumpLog: 0.10536051565782635
anchorLog: 0.000123449169961031
853.4728560028822
virtual: 9000
weight: 1
jumpSize: 9
minAnchorPrice: 8100
jumpLog: 0.10536051565782635
anchorLog: 0.000123449169961031
853.4728560028822
virtual: 9000
weight: 1
jumpSize: 9
minAnchorPrice: 8100
jumpLog: 0.10536051565782635
anchorLog: 0.000123449169961031
853.4728560028822
virtual: 9000
weight: 1
jumpSize: 9
minAnchorPrice: 8100
jumpLog: 0.10536051565782635
anchorLog: 0.000123449169961031
853.4728560028822
virtual: 9000
weight: 1
jumpSize: 9
minAnchorPrice: 8100
jumpLog: 0.10536051565782635
anchorLog: 0.000123449169961031
853.4728560028822
Opening pool with 9 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 7499
traces.length: 17
Opening: 6
Swapping: 10
Closing: 1
--- DONE ---
Opening: 6
Swapping: 10
Closing: 1
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(7s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(36s)[0m

