[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 6

trials left: 1 - iteration: 0 - block: 0
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 1
weight: 12
jumpSize: 1
minAnchorPrice: 6
jumpLog: 0.6931471805599453
anchorLog: 0.15415067982725836
4.49655610560192
maxTicks: 1
maxTicks_: 4
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1000

          maxBuying: 290589
          maxSelling: 1
          maxBuyingA0: 59280156
          maxSellingA0: 25165824
          maxSwapA0: 25165824
          spotBuying: 25165824
          spotSelling: 204
          buyingAmount: 123361
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  25165848 > 
        addedSellingA0 25165824
subSwap: 1 sold
valueEquation: 
        addedBuyingA0  25165848 > 
        addedSellingA0 25165824
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: c261eedd312af94fdd5aff2292eaccd4e787b84a438dc33064bcbb36, 
   +     +  virtual: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 2,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 51,
   +     +  +  _: 12
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: c261eedd312af94fdd5aff2292eaccd4e787b84a438dc33064bcbb36,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 7f0c9c6fb2677e7fbbbce44237d991eda97835ac819dbedd6bdb07c93870f195),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5844624122ac3d1463c00e829746f492afb21898ce424c4962050457d4e32b63),
   +     +  anchorPrices: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 100,
   +     +  +  _: 6
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2387740,
   +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 1
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149, wQFoHGIZax7ZdXS8C)
  boughtAmount: 123361
  soldAmount:   1
  boughtSpot:   25165824
  soldSpot:     204
  (boughtA0:    25165644)
  (soldA0:      25165824)
  boughtExp:    22
  soldExp:      72
  spotPrice:    0.000008106231689453125
  eff.Price:    0.000008106289670155074
  maxBuying:    2387740
  (maxBuyingA0: 487098960)
)

trials left: 1 - iteration: 2 - block: 2000
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 6779
maxTicks_: 3119
3
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 6779
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 2001

trials left: 1 - iteration: 4 - block: 2810
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 8999
maxTicks_: 1
1
virtual: 2
weight: 67
jumpSize: 100
minAnchorPrice: 132
jumpLog: 0.009950330853168092
anchorLog: 0.007547205635382904
1.3184125799512905
maxTicks: 8999
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 3683
virtual: 1
weight: 23
jumpSize: 1
minAnchorPrice: 11
jumpLog: 0.6931471805599453
anchorLog: 0.08701137698962969
7.966167236297811
maxTicks: 3817
maxTicks_: 7
3
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 3817
maxTicks_: 35
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 6 - block: 4683

trials left: 1 - iteration: 7 - block: 4684
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 1985
weight: 4
jumpSize: 1
minAnchorPrice: 3970
jumpLog: 0.6931471805599453
anchorLog: 0.00025185745001535264
2752.140865865563
maxTicks: 1
maxTicks_: 2752
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 4685

          maxBuying: 290589
          maxSelling: 1
          maxBuyingA0: 74681373
          maxSellingA0: 25165824
          maxSwapA0: 25165824
          spotBuying: 25165824
          spotSelling: 257
          buyingAmount: 97921
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  25165954 > 
        addedSellingA0 25165824
subSwap: 1 sold
valueEquation: 
        addedBuyingA0  25165954 > 
        addedSellingA0 25165824
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: c261eedd312af94fdd5aff2292eaccd4e787b84a438dc33064bcbb36, 
   +     +  virtual: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 2,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 51,
   +     +  +  _: 12
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: c261eedd312af94fdd5aff2292eaccd4e787b84a438dc33064bcbb36,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 7f0c9c6fb2677e7fbbbce44237d991eda97835ac819dbedd6bdb07c93870f195),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5844624122ac3d1463c00e829746f492afb21898ce424c4962050457d4e32b63),
   +     +  anchorPrices: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 100,
   +     +  +  _: 6
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2387740,
   +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 2
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149, wQFoHGIZax7ZdXS8C)
  boughtAmount: 97921
  soldAmount:   1
  boughtSpot:   25165824
  soldSpot:     257
  (boughtA0:    25165697)
  (soldA0:      25165824)
  boughtExp:    22
  soldExp:      95
  spotPrice:    0.000010212262471516928
  eff.Price:    0.000010212314008231124
  maxBuying:    2387740
  (maxBuyingA0: 613649180)
)

trials left: 1 - iteration: 9 - block: 5168

trials left: 1 - iteration: 10 - block: 6168

          maxBuying: 290589
          maxSelling: 1
          maxBuyingA0: 89210823
          maxSellingA0: 25165824
          maxSwapA0: 25165824
          spotBuying: 25165824
          spotSelling: 307
          buyingAmount: 81973
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  25166018 > 
        addedSellingA0 25165824
subSwap: 81973 bought
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: c261eedd312af94fdd5aff2292eaccd4e787b84a438dc33064bcbb36, 
   +     +  virtual: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 2,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 51,
   +     +  +  _: 12
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: c261eedd312af94fdd5aff2292eaccd4e787b84a438dc33064bcbb36,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 7f0c9c6fb2677e7fbbbce44237d991eda97835ac819dbedd6bdb07c93870f195),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5844624122ac3d1463c00e829746f492afb21898ce424c4962050457d4e32b63),
   +     +  anchorPrices: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 100,
   +     +  +  _: 6
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2387740,
   +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 3
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149, wQFoHGIZax7ZdXS8C)
  boughtAmount: 81973
  soldAmount:   1
  boughtSpot:   25165824
  soldSpot:     307
  (boughtA0:    25165711)
  (soldA0:      25165824)
  boughtExp:    22
  soldExp:      113
  spotPrice:    0.000012199083964029947
  eff.Price:    0.000012199138740804899
  maxBuying:    81973
  (maxBuyingA0: 25165711)
)

trials left: 1 - iteration: 11 - block: 6169

          maxBuying: 290589
          maxSelling: 1
          maxBuyingA0: 103740273
          maxSellingA0: 25165824
          maxSwapA0: 25165824
          spotBuying: 25165824
          spotSelling: 357
          buyingAmount: 70492
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  25166001 > 
        addedSellingA0 25165824
subSwap: 57755 bought
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: c261eedd312af94fdd5aff2292eaccd4e787b84a438dc33064bcbb36, 
   +     +  virtual: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 2,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 51,
   +     +  +  _: 12
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: c261eedd312af94fdd5aff2292eaccd4e787b84a438dc33064bcbb36,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 7f0c9c6fb2677e7fbbbce44237d991eda97835ac819dbedd6bdb07c93870f195),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5844624122ac3d1463c00e829746f492afb21898ce424c4962050457d4e32b63),
   +     +  anchorPrices: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 100,
   +     +  +  _: 6
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2387740,
   +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 4
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149, wQFoHGIZax7ZdXS8C)
  boughtAmount: 57755
  soldAmount:   1
  boughtSpot:   25165824
  soldSpot:     357
  (boughtA0:    20618535)
  (soldA0:      25165824)
  boughtExp:    22
  soldExp:      128
  spotPrice:    0.000014185905456542969
  eff.Price:    0.00001731451822353043
  maxBuying:    57755
  (maxBuyingA0: 20618535)
)

trials left: 1 - iteration: 12 - block: 7169
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 8169

          maxBuying: 290589
          maxSelling: 1
          maxBuyingA0: 119141490
          maxSellingA0: 25165824
          maxSwapA0: 25165824
          spotBuying: 25165824
          spotSelling: 410
          buyingAmount: 61380
          sellingAmount: 1
        
Swapping.boundary()
valueEquation: 
        addedBuyingA0  25166210 > 
        addedSellingA0 25165824
subSwap: 1 sold
valueEquation: 
        addedBuyingA0  25166210 > 
        addedSellingA0 25165824
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: c261eedd312af94fdd5aff2292eaccd4e787b84a438dc33064bcbb36, 
   +     +  virtual: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 2,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 51,
   +     +  +  _: 12
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: c261eedd312af94fdd5aff2292eaccd4e787b84a438dc33064bcbb36,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 7f0c9c6fb2677e7fbbbce44237d991eda97835ac819dbedd6bdb07c93870f195),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5844624122ac3d1463c00e829746f492afb21898ce424c4962050457d4e32b63),
   +     +  anchorPrices: +[
   +     +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 100,
   +     +  +  _: 6
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2387740,
   +  +  151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149_wQFoHGIZax7ZdXS8C: 5
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(151e230f84e86eb219f15324306534ea964c3c157a64ba7728acd149, wQFoHGIZax7ZdXS8C)
  boughtAmount: 61380
  soldAmount:   1
  boughtSpot:   25165824
  soldSpot:     410
  (boughtA0:    25165800)
  (soldA0:      25165824)
  boughtExp:    22
  soldExp:      142
  spotPrice:    0.00001629193623860677
  eff.Price:    0.000016291951775822744
  maxBuying:    2387740
  (maxBuyingA0: 978973400)
)

trials left: 1 - iteration: 14 - block: 8406

trials left: 1 - iteration: 15 - block: 8407

trials left: 1 - iteration: 16 - block: 9407
virtual: 2
weight: 82
jumpSize: 100
minAnchorPrice: 162
jumpLog: 0.009950330853168092
anchorLog: 0.006153865574378286
1.6169236608931543
maxTicks: 923
maxTicks_: 1
1
virtual: 2429
weight: 3
jumpSize: 21
minAnchorPrice: 6955
jumpLog: 0.04652001563489291
anchorLog: 0.0001437711166304361
323.5699681909871
maxTicks: 923
maxTicks_: 323
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 17 - block: 10385

trials left: 1 - iteration: 18 - block: 11385
virtual: 6598
weight: 1
jumpSize: 1
minAnchorPrice: 3299
jumpLog: 0.6931471805599453
anchorLog: 0.00030307622599010987
2287.039104751702
maxTicks: 8908
maxTicks_: 2287
3
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 8908
maxTicks_: 3119
3
virtual: 9000
weight: 1
jumpSize: 51
minAnchorPrice: 8826
jumpLog: 0.019418085857101516
anchorLog: 0.0001132951907402859
171.39373463446375
maxTicks: 8908
maxTicks_: 171
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 11453
traces.length: 19
Opening: 8
Swapping: 5
Closing: 6
--- DONE ---
Opening: 8
Swapping: 5
Closing: 6
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(3s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(32s)[0m

