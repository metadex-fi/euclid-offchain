[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0

trials left: 1 - iteration: 1 - block: 911

trials left: 1 - iteration: 2 - block: 1911

trials left: 1 - iteration: 3 - block: 2911

trials left: 1 - iteration: 4 - block: 2912

trials left: 1 - iteration: 5 - block: 3135

trials left: 1 - iteration: 6 - block: 3138

trials left: 1 - iteration: 7 - block: 3941

trials left: 1 - iteration: 8 - block: 3942

trials left: 1 - iteration: 9 - block: 3943

trials left: 1 - iteration: 10 - block: 4925

trials left: 1 - iteration: 11 - block: 5925

trials left: 1 - iteration: 12 - block: 5926

trials left: 1 - iteration: 13 - block: 6926

trials left: 1 - iteration: 14 - block: 7685

trials left: 1 - iteration: 15 - block: 8522

trials left: 1 - iteration: 16 - block: 8858

trials left: 1 - iteration: 17 - block: 9835

trials left: 1 - iteration: 18 - block: 10604

trials left: 1 - iteration: 19 - block: 10605
traces.length: 0
trials left: 1
accounts: 4

trials left: 1 - iteration: 0 - block: 0
virtual: 9007199254740991
weight: 1
jumpSize: 95
minAnchorPrice: 8913374262504105
jumpLog: 0.010471299867295437
anchorLog: 2.2204460492503128e-16
47158542180436.46
maxTicks: 7386828484701485
maxTicks_: 47158542180436
3
virtual: 2
weight: 92
jumpSize: 100
minAnchorPrice: 182
jumpLog: 0.009950330853168092
anchorLog: 0.0054794657646255705
1.8159308371640186
maxTicks: 2462276161567161
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 95
minAnchorPrice: 8913374262504105
jumpLog: 0.010471299867295437
anchorLog: 2.2204460492503128e-16
47158542180436.46
virtual: 9007199254740991
weight: 1
jumpSize: 95
minAnchorPrice: 8913374262504105
jumpLog: 0.010471299867295437
anchorLog: 2.2204460492503128e-16
47158542180436.46
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1000

trials left: 1 - iteration: 2 - block: 1732
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 9007199254740991
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 9007199254740991
maxTicks_: 44812306322540
3
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 2732
virtual: 1
weight: 66
jumpSize: 1
minAnchorPrice: 33
jumpLog: 0.6931471805599453
anchorLog: 0.02985296314968113
23.21870619960046
maxTicks: 9007199254740991
maxTicks_: 23
3
virtual: 2
weight: 89
jumpSize: 100
minAnchorPrice: 176
jumpLog: 0.009950330853168092
anchorLog: 0.0056657375356773
1.7562286975897832
maxTicks: 3002399751580330
maxTicks_: 1
1
virtual: 1
weight: 66
jumpSize: 1
minAnchorPrice: 33
jumpLog: 0.6931471805599453
anchorLog: 0.02985296314968113
23.21870619960046
virtual: 1
weight: 66
jumpSize: 1
minAnchorPrice: 33
jumpLog: 0.6931471805599453
anchorLog: 0.02985296314968113
23.21870619960046
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 3732
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 1
weight: 100
jumpSize: 43
minAnchorPrice: 97
jumpLog: 0.02298951822469878
anchorLog: 0.010256500167189061
2.241458377609463
maxTicks: 1
maxTicks_: 2
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 3733

trials left: 1 - iteration: 6 - block: 4250

trials left: 1 - iteration: 7 - block: 4272
virtual: 9007199254740991
weight: 1
jumpSize: 52
minAnchorPrice: 8837252098991160
jumpLog: 0.01904819497069441
anchorLog: 2.2204460492503128e-16
85785443772099.92
maxTicks: 1
maxTicks_: 85785443772099
1
virtual: 9007199254740991
weight: 1
jumpSize: 11
minAnchorPrice: 8256599316845908
jumpLog: 0.08701137698962969
anchorLog: 2.2204460492503128e-16
391864404987490.06
maxTicks: 1
maxTicks_: 391864404987490
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 4600
virtual: 1
weight: 98
jumpSize: 15
minAnchorPrice: 91
jumpLog: 0.06453852113757116
anchorLog: 0.01092907053219023
5.905215905367332
maxTicks: 1
maxTicks_: 5
1
virtual: 9007199254740991
weight: 1
jumpSize: 34
minAnchorPrice: 8749850704605534
jumpLog: 0.028987536873252187
anchorLog: 2.2204460492503128e-16
130548260260767.08
maxTicks: 1
maxTicks_: 130548260260767
1
virtual: 4061533559904142
weight: 1
jumpSize: 97
minAnchorPrice: 4020089339905120
jumpLog: 0.010256500167189061
anchorLog: 2.2204460492503128e-16
46191170331078.09
maxTicks: 1
maxTicks_: 46191170331078
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 9 - block: 5600
virtual: 617781345561356
weight: 14
jumpSize: 80
minAnchorPrice: 8542161815169366
jumpLog: 0.01242251999855711
anchorLog: 2.2204460492503128e-16
55946056436504.34
maxTicks: 1
maxTicks_: 55946056436504
1
virtual: 5903186767371528
weight: 1
jumpSize: 100
minAnchorPrice: 5844739373635176
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 6600

trials left: 1 - iteration: 11 - block: 6601
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  4061533562503072 > 
        spotBuying 4103405039903153
boughtAssetForSale (new):
        sellingAmm  294 > 
        spotSelling 290
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  4061533562503072 > 
        spotBuying 4103405039903153
boughtAssetForSale (new):
        sellingAmm  294 > 
        spotSelling 290
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 49c626b6ac1429680a88427779e2ff7425e164a05bf2acc0d38e3640, 
   +     +  virtual: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 1,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 9007199254740991,
   +     +  +  _: 4061533559904142
   +     +  ], 
   +     +  weights: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 98,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 15,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 34,
   +     +  +  _: 97
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 49c626b6ac1429680a88427779e2ff7425e164a05bf2acc0d38e3640,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 05c225b2cf9fbdaa3bb9ba5b4d84a69f74825b957d255584c7484d8049b511a2),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 31c7870b91730f2f63d122e11602abb15fb8299af2ba6ebe900a027e6ce0755f),
   +     +  anchorPrices: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 91,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 8749850704605534,
   +     +  +  _: 4020089339905120
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2598930,
   +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 1
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24, )
  boughtAmount: 2598930
  soldAmount: 1
  boughtSpot: 4061533559904141
  soldSpot: 310
  boughtExp: 1
  soldExp: 19
  spotPrice: 7.632584968898214e-14
  effectivePrice: 3.847737338058355e-7
)

trials left: 1 - iteration: 12 - block: 7601
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  4061533562503072 > 
        spotBuying 4103405039903153
boughtAssetForSale (new):
        sellingAmm  392 > 
        spotSelling 376
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  4061533562503072 > 
        spotBuying 4103405039903153
boughtAssetForSale (new):
        sellingAmm  392 > 
        spotSelling 376
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 49c626b6ac1429680a88427779e2ff7425e164a05bf2acc0d38e3640, 
   +     +  virtual: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 1,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 9007199254740991,
   +     +  +  _: 4061533559904142
   +     +  ], 
   +     +  weights: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 98,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 15,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 34,
   +     +  +  _: 97
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 49c626b6ac1429680a88427779e2ff7425e164a05bf2acc0d38e3640,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 05c225b2cf9fbdaa3bb9ba5b4d84a69f74825b957d255584c7484d8049b511a2),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 31c7870b91730f2f63d122e11602abb15fb8299af2ba6ebe900a027e6ce0755f),
   +     +  anchorPrices: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 91,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 8749850704605534,
   +     +  +  _: 4020089339905120
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2598930,
   +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 2
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24, )
  boughtAmount: 2598930
  soldAmount: 1
  boughtSpot: 4061533559904141
  soldSpot: 401
  boughtExp: 1
  soldExp: 23
  spotPrice: 9.873117975897367e-14
  effectivePrice: 3.847737338058355e-7
)

trials left: 1 - iteration: 13 - block: 8601
virtual: 6185270286910036
weight: 1
jumpSize: 98
minAnchorPrice: 6122792809264480
jumpLog: 0.010152371464017908
anchorLog: 2.2204460492503128e-16
45722216342277.914
maxTicks: 1
maxTicks_: 45722216342277
1
virtual: 2
weight: 63
jumpSize: 100
minAnchorPrice: 124
jumpLog: 0.009950330853168092
anchorLog: 0.008032171697264253
1.2388095309961018
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 14 - block: 9601

trials left: 1 - iteration: 15 - block: 10601

trials left: 1 - iteration: 16 - block: 11482

trials left: 1 - iteration: 17 - block: 12482
Swapping.boundary()
boughtAssetForSale (old): 
        buyingAmm  4061533562503072 > 
        spotBuying 4103405039903153
boughtAssetForSale (new):
        sellingAmm  490 > 
        spotSelling 487
subSwap: 1 sold
boughtAssetForSale (old): 
        buyingAmm  4061533562503072 > 
        spotBuying 4103405039903153
boughtAssetForSale (new):
        sellingAmm  490 > 
        spotSelling 487
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 49c626b6ac1429680a88427779e2ff7425e164a05bf2acc0d38e3640, 
   +     +  virtual: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 1,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 9007199254740991,
   +     +  +  _: 4061533559904142
   +     +  ], 
   +     +  weights: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 98,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 15,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 34,
   +     +  +  _: 97
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 49c626b6ac1429680a88427779e2ff7425e164a05bf2acc0d38e3640,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 05c225b2cf9fbdaa3bb9ba5b4d84a69f74825b957d255584c7484d8049b511a2),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 31c7870b91730f2f63d122e11602abb15fb8299af2ba6ebe900a027e6ce0755f),
   +     +  anchorPrices: +[
   +     +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 91,
   +     +  +  22ed890a58e18ee941abe10982488504d057590cb73509d784155f7b_MsdI9OlKPwxeSmBZil1zS6CzeZKwch5a: 8749850704605534,
   +     +  +  _: 4020089339905120
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2598930,
   +  +  025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24_: 3
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(025be9f058afda299528d5870d3d44d070d96c8212cd64debc937f24, )
  boughtAmount: 2598930
  soldAmount: 1
  boughtSpot: 4061533559904141
  soldSpot: 519
  boughtExp: 1
  soldExp: 27
  spotPrice: 1.2778424512445718e-13
  effectivePrice: 3.847737338058355e-7
)

trials left: 1 - iteration: 18 - block: 13482

trials left: 1 - iteration: 19 - block: 14482
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 8253698939958301
maxTicks_: 44812306322540
3
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 8253698939958301
maxTicks_: 44812306322540
3
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
Opening pool with 3 dirac utxos and 1 param utxos
traces.length: 19
Opening: 9
Closing: 7
Swapping: 3
--- DONE ---
Opening: 9
Closing: 7
Swapping: 3
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(1m14s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m45s)[0m

