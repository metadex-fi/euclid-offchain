[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0

trials left: 1 - iteration: 1 - block: 1000

trials left: 1 - iteration: 2 - block: 2000

trials left: 1 - iteration: 3 - block: 2001

trials left: 1 - iteration: 4 - block: 2002

trials left: 1 - iteration: 5 - block: 2003

trials left: 1 - iteration: 6 - block: 2004

trials left: 1 - iteration: 7 - block: 2082

trials left: 1 - iteration: 8 - block: 2457

trials left: 1 - iteration: 9 - block: 2713

trials left: 1 - iteration: 10 - block: 3713

trials left: 1 - iteration: 11 - block: 3714

trials left: 1 - iteration: 12 - block: 3874

trials left: 1 - iteration: 13 - block: 3894

trials left: 1 - iteration: 14 - block: 3895

trials left: 1 - iteration: 15 - block: 3896

trials left: 1 - iteration: 16 - block: 4482

trials left: 1 - iteration: 17 - block: 5482

trials left: 1 - iteration: 18 - block: 6482

trials left: 1 - iteration: 19 - block: 7482
traces.length: 0
trials left: 1
accounts: 8

trials left: 1 - iteration: 0 - block: 0
virtual: 7515572825505301
weight: 1
jumpSize: 8
minAnchorPrice: 6680509178226934
jumpLog: 0.11778303565638346
anchorLog: 2.2204460492503128e-16
530447635492654.44
maxTicks: 2676050623332543
maxTicks_: 530447635492654
3
virtual: 3262954511117156
weight: 1
jumpSize: 94
minAnchorPrice: 3228607621526449
jumpLog: 0.010582109330537008
anchorLog: 2.2204460492503128e-16
47657583637800.33
maxTicks: 2676050623332543
maxTicks_: 47657583637800
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1

trials left: 1 - iteration: 2 - block: 2

trials left: 1 - iteration: 3 - block: 3
virtual: 46145220994492
weight: 1
jumpSize: 1
minAnchorPrice: 23072610497246
jumpLog: 0.6931471805599453
anchorLog: 4.3298697960380165e-14
16008499405552.55
maxTicks: 1
maxTicks_: 16008499405552
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 1003
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 5677357256592312
maxTicks_: 44812306322540
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 5677357256592312
maxTicks_: 3121657384082680
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 1145

trials left: 1 - iteration: 6 - block: 1960

trials left: 1 - iteration: 7 - block: 2693

trials left: 1 - iteration: 8 - block: 3693

trials left: 1 - iteration: 9 - block: 3830

trials left: 1 - iteration: 10 - block: 4259

trials left: 1 - iteration: 11 - block: 5148

trials left: 1 - iteration: 12 - block: 6108

trials left: 1 - iteration: 13 - block: 6109

trials left: 1 - iteration: 14 - block: 7109
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 2002850936120390
maxTicks_: 35
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1001425468060195
maxTicks_: 3121657384082680
3
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 15 - block: 7799

trials left: 1 - iteration: 16 - block: 8522
virtual: 5484095298742962
weight: 1
jumpSize: 75
minAnchorPrice: 5411936150075291
jumpLog: 0.013245226750020723
anchorLog: 2.2204460492503128e-16
59651198255831.06
maxTicks: 5677357256592312
maxTicks_: 59651198255831
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 5677357256592312
maxTicks_: 3121657384082680
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 5677357256592312
maxTicks_: 3121657384082680
3
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 17 - block: 8523

trials left: 1 - iteration: 18 - block: 8524

trials left: 1 - iteration: 19 - block: 9524
Swapping.boundary()
addedBuyingA0: 20642946880389309113960
addedSellingA0: 20642951453594533629720
diff: -4573205224515760
Swapping.boundary()
addedBuyingA0: 20642946880389309113960
addedSellingA0: 20642951453594533629720
diff: -4573205224515760
Swapping.boundary()
addedBuyingA0: 20642946880389309113960
addedSellingA0: 20642951453594533629720
diff: -4573205224515760
subSwap: 2775640 bought
addedBuyingA0: 20642946880389309113960
addedSellingA0: 20642951453594533629720
diff: -4573205224515760
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: a03f1a3f9d2fd7943731d9565376a33e6b78797251abe3067a3b229f, 
   +     +  virtual: +[
   +     +  +  885d19fed24e5d218f7c61c8bfccd446bd77dff3f17bbdd99db8cb8a_kq2pCeZNgphO2: 5484095298742962,
   +     +  +  _: 9007199254740991,
   +     +  +  985f46844defa0d479fbf2ba6fe0065adbb42e88dd6e78a830e9d5a6_nDCwkQAjGsxvkxWN1yWx7QQLmQdeoGbH: 9007199254740991
   +     +  ], 
   +     +  weights: +[
   +     +  +  885d19fed24e5d218f7c61c8bfccd446bd77dff3f17bbdd99db8cb8a_kq2pCeZNgphO2: 1,
   +     +  +  _: 1,
   +     +  +  985f46844defa0d479fbf2ba6fe0065adbb42e88dd6e78a830e9d5a6_nDCwkQAjGsxvkxWN1yWx7QQLmQdeoGbH: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  885d19fed24e5d218f7c61c8bfccd446bd77dff3f17bbdd99db8cb8a_kq2pCeZNgphO2: 75,
   +     +  +  _: 1,
   +     +  +  985f46844defa0d479fbf2ba6fe0065adbb42e88dd6e78a830e9d5a6_nDCwkQAjGsxvkxWN1yWx7QQLmQdeoGbH: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: a03f1a3f9d2fd7943731d9565376a33e6b78797251abe3067a3b229f,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: b37c496e0e0d9f476f1792ff35c87b923dcb04755f37b95630ab3ea4a6180194),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 046fc4bc880246b208f3c9694db20ba1c399df5f631e8b2a4d1fb8a6bb199f40),
   +     +  anchorPrices: +[
   +     +  +  885d19fed24e5d218f7c61c8bfccd446bd77dff3f17bbdd99db8cb8a_kq2pCeZNgphO2: 5411936150075291,
   +     +  +  _: 4503599627370495,
   +     +  +  985f46844defa0d479fbf2ba6fe0065adbb42e88dd6e78a830e9d5a6_nDCwkQAjGsxvkxWN1yWx7QQLmQdeoGbH: 5674179970822794
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2775640,
   +  +  885d19fed24e5d218f7c61c8bfccd446bd77dff3f17bbdd99db8cb8a_kq2pCeZNgphO2: 1892452418864104
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(885d19fed24e5d218f7c61c8bfccd446bd77dff3f17bbdd99db8cb8a, kq2pCeZNgphO2)
  boughtAmount: 2775640
  soldAmount: 2291828
  boughtSpot: 9007199254740990
  soldSpot: 7437184534157639
  boughtExp: 1
  soldExp: 24
  spotPrice: 0.8256933508207932
  effectivePrice: 0.825693533743569
)
traces.length: 8
Opening: 5
Closing: 2
Swapping: 1
--- DONE ---
Opening: 5
Closing: 2
Swapping: 1
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(28s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(2m52s)[0m

