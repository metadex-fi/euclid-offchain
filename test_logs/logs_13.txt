[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0
virtual: 2
weight: 58
jumpSize: 100
minAnchorPrice: 114
jumpLog: 0.009950330853168092
anchorLog: 0.008733679968754631
1.139305640779845
maxTicks: 1
maxTicks_: 1
1
virtual: 6287
weight: 1
jumpSize: 100
minAnchorPrice: 6224
jumpLog: 0.009950330853168092
anchorLog: 0.00016065547468080044
61.93583426234296
maxTicks: 1
maxTicks_: 61
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 49

trials left: 1 - iteration: 2 - block: 1049
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 8422
weight: 1
jumpSize: 1
minAnchorPrice: 4211
jumpLog: 0.6931471805599453
anchorLog: 0.00023744509193843264
2919.189337211788
maxTicks: 1
maxTicks_: 2919
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 1050

trials left: 1 - iteration: 4 - block: 1779
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 9000
weight: 1
jumpSize: 94
minAnchorPrice: 8905
jumpLog: 0.010582109330537008
anchorLog: 0.00011229015788565603
94.23897454407951
maxTicks: 1
maxTicks_: 94
1
virtual: 656
weight: 1
jumpSize: 1
minAnchorPrice: 328
jumpLog: 0.6931471805599453
anchorLog: 0.003044142381228052
227.6986729774182
maxTicks: 1
maxTicks_: 227
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 1869

trials left: 1 - iteration: 6 - block: 2869
virtual: 1
weight: 96
jumpSize: 87
minAnchorPrice: 94
jumpLog: 0.01142869582362285
anchorLog: 0.010582109330537008
1.0800016770421026
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 3869

trials left: 1 - iteration: 8 - block: 3899
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 8596
weight: 2
jumpSize: 1
minAnchorPrice: 8596
jumpLog: 0.6931471805599453
anchorLog: 0.00011632641204292114
5958.639730968352
maxTicks: 1
maxTicks_: 5958
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 9 - block: 4899

trials left: 1 - iteration: 10 - block: 5899
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 1
maxTicks_: 1
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 5900

trials left: 1 - iteration: 12 - block: 5901
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 7884
weight: 1
jumpSize: 100
minAnchorPrice: 7805
jumpLog: 0.009950330853168092
anchorLog: 0.0001281147910277551
77.66730736822127
maxTicks: 1
maxTicks_: 77
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 6901

trials left: 1 - iteration: 14 - block: 7815
virtual: 6062
weight: 2
jumpSize: 1
minAnchorPrice: 6062
jumpLog: 0.6931471805599453
anchorLog: 0.0001649484539822619
4202.2047726163255
maxTicks: 1
maxTicks_: 4202
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 15 - block: 7916

trials left: 1 - iteration: 16 - block: 8203
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 17 - block: 8712

trials left: 1 - iteration: 18 - block: 8713
virtual: 1
weight: 82
jumpSize: 60
minAnchorPrice: 80
jumpLog: 0.016529301951210506
anchorLog: 0.01242251999855711
1.3305916958177892
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 8714
traces.length: 20
Opening: 10
Closing: 10
trials left: 1
accounts: 10

trials left: 1 - iteration: 0 - block: 0
virtual: 2
weight: 53
jumpSize: 100
minAnchorPrice: 104
jumpLog: 0.009950330853168092
anchorLog: 0.009569451016150672
1.0398016392345388
maxTicks: 1
maxTicks_: 1
1
virtual: 1
weight: 17
jumpSize: 16
minAnchorPrice: 16
jumpLog: 0.06062462181643484
anchorLog: 0.06062462181643484
1
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 1
virtual: 4674
weight: 3
jumpSize: 1
minAnchorPrice: 7011
jumpLog: 0.6931471805599453
anchorLog: 0.0001426228341574423
4860.001448258808
maxTicks: 1
maxTicks_: 4860
1
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 2 - block: 2

          maxBuying: 394029
          maxSelling: 4673
          maxBuyingA0: 11050149276
          maxSellingA0: 19599982592
          maxSwapA0: 11050149276
          spotBuying: 4194304
          spotSelling: 28044
          buyingAmount: 394029
          sellingAmount: 2635
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  14025 > 
        spotSelling 14022
subSwap: 130855 bought
boughtAssetForSale (old):
        sellingAmm  14025 > 
        spotSelling 14022
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: c7c15dff559033be702cae65b1ca3be6b8a5d7cfe50fe02a9fbb5240, 
   +     +  virtual: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 4674,
   +     +  +  _: 1,
   +     +  +  1e5165a620bf1189c4eb7b8b1b70d6e96223b4b2e77f156987fa9f1e_HxG: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 3,
   +     +  +  _: 2,
   +     +  +  1e5165a620bf1189c4eb7b8b1b70d6e96223b4b2e77f156987fa9f1e_HxG: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 1,
   +     +  +  _: 1,
   +     +  +  1e5165a620bf1189c4eb7b8b1b70d6e96223b4b2e77f156987fa9f1e_HxG: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: c7c15dff559033be702cae65b1ca3be6b8a5d7cfe50fe02a9fbb5240,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 0fbfefec8d66a2679d6036b226bf0d4639dfcfce86b9d286aa671b121c7ffab8),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5a486e4892345706c477b0b72b5eb9d2a5f99ec836f96e04182dbe0afe562360),
   +     +  anchorPrices: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 7011,
   +     +  +  _: 1,
   +     +  +  1e5165a620bf1189c4eb7b8b1b70d6e96223b4b2e77f156987fa9f1e_HxG: 4500
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2491180,
   +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 1
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1, a0efP4C7q)
  boughtAmount: 130855
  soldAmount:   875
  boughtSpot:   4194304
  soldSpot:     28044
  (boughtA0:    3669697620)
  (soldA0:      3670016000)
  boughtExp:    22
  soldExp:      2
  spotPrice:    0.006686210632324219
  eff.Price:    0.0066867907225555
  maxBuying:    130855
  (maxBuyingA0: 3669697620)
)

trials left: 1 - iteration: 3 - block: 1002
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1
maxTicks_: 3119
1
virtual: 6486
weight: 1
jumpSize: 100
minAnchorPrice: 6421
jumpLog: 0.009950330853168092
anchorLog: 0.00015572685541084436
63.896049444501784
maxTicks: 1
maxTicks_: 63
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 1599
virtual: 9000
weight: 1
jumpSize: 85
minAnchorPrice: 8895
jumpLog: 0.011696039763191236
anchorLog: 0.00011241639042818199
104.04212160381839
maxTicks: 1
maxTicks_: 104
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 1
weight: 50
jumpSize: 1
minAnchorPrice: 25
jumpLog: 0.6931471805599453
anchorLog: 0.03922071315328133
17.672987685129698
maxTicks: 1
maxTicks_: 17
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 1600

          maxBuying: 25706
          maxSelling: 1
          maxBuyingA0: 5449672
          maxSellingA0: 42499226
          maxSwapA0: 5449672
          spotBuying: 42499226
          spotSelling: 212
          buyingAmount: 25706
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  212 > 
        spotSelling 210

          maxBuying: 402649
          maxSelling: 3798
          maxBuyingA0: 11291888556
          maxSellingA0: 15929966592
          maxSwapA0: 11291888556
          spotBuying: 4194304
          spotSelling: 28044
          buyingAmount: 402649
          sellingAmount: 2693
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  16650 > 
        spotSelling 14022

          maxBuying: 493159
          maxSelling: 104
          maxBuyingA0: 4490212695
          maxSellingA0: 10905190400
          maxSwapA0: 4490212695
          spotBuying: 104857600
          spotSelling: 9105
          buyingAmount: 493159
          sellingAmount: 43
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999
subSwap: 1 sold
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 8ab3a4e4edad241c03e3c2e99f04b6246299f49d275cf9b9e3f0da9f, 
   +     +  virtual: +[
   +     +  +  7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d_1U5KH: 9000,
   +     +  +  240152531649b8db591250e6b11c43565538a95e5476f3831021900d_5VqEWmYrFWRYgcR3bCEKRpBUloRyJTcT: 9000,
   +     +  +  _: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d_1U5KH: 1,
   +     +  +  240152531649b8db591250e6b11c43565538a95e5476f3831021900d_5VqEWmYrFWRYgcR3bCEKRpBUloRyJTcT: 1,
   +     +  +  _: 50
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d_1U5KH: 85,
   +     +  +  240152531649b8db591250e6b11c43565538a95e5476f3831021900d_5VqEWmYrFWRYgcR3bCEKRpBUloRyJTcT: 100,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 8ab3a4e4edad241c03e3c2e99f04b6246299f49d275cf9b9e3f0da9f,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 80a7ff898d47774de94fdb9b6698b603b60e2ef98cf515240395d934e77f5cd6),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 0a8b7e39dc21bc35ff9e47a54af72c150d4230b5b35bc644a5098fabda82cfed),
   +     +  anchorPrices: +[
   +     +  +  7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d_1U5KH: 8895,
   +     +  +  240152531649b8db591250e6b11c43565538a95e5476f3831021900d_5VqEWmYrFWRYgcR3bCEKRpBUloRyJTcT: 8910,
   +     +  +  _: 25
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2590310,
   +  +  7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d_1U5KH: 1
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d, 1U5KH)
  boughtAmount: 11516
  soldAmount:   1
  boughtSpot:   104857600
  soldSpot:     9105
  (boughtA0:    104853180)
  (soldA0:      104857600)
  boughtExp:    22
  soldExp:      2
  spotPrice:    0.00008683204650878906
  eff.Price:    0.0000868357068426537
  maxBuying:    2590310
  (maxBuyingA0: 23584772550)
)

trials left: 1 - iteration: 6 - block: 2600

          maxBuying: 402649
          maxSelling: 1
          maxBuyingA0: 11291888556
          maxSellingA0: 4194304
          maxSwapA0: 4194304
          spotBuying: 4194304
          spotSelling: 28044
          buyingAmount: 149
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  16650 > 
        spotSelling 14022
subSwap: 1 sold
boughtAssetForSale (old):
        sellingAmm  16650 > 
        spotSelling 14022
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: c7c15dff559033be702cae65b1ca3be6b8a5d7cfe50fe02a9fbb5240, 
   +     +  virtual: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 4674,
   +     +  +  _: 1,
   +     +  +  1e5165a620bf1189c4eb7b8b1b70d6e96223b4b2e77f156987fa9f1e_HxG: 9000
   +     +  ], 
   +     +  weights: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 3,
   +     +  +  _: 2,
   +     +  +  1e5165a620bf1189c4eb7b8b1b70d6e96223b4b2e77f156987fa9f1e_HxG: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 1,
   +     +  +  _: 1,
   +     +  +  1e5165a620bf1189c4eb7b8b1b70d6e96223b4b2e77f156987fa9f1e_HxG: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: c7c15dff559033be702cae65b1ca3be6b8a5d7cfe50fe02a9fbb5240,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 0fbfefec8d66a2679d6036b226bf0d4639dfcfce86b9d286aa671b121c7ffab8),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5a486e4892345706c477b0b72b5eb9d2a5f99ec836f96e04182dbe0afe562360),
   +     +  anchorPrices: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 7011,
   +     +  +  _: 1,
   +     +  +  1e5165a620bf1189c4eb7b8b1b70d6e96223b4b2e77f156987fa9f1e_HxG: 4500
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2499800,
   +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 876
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1, a0efP4C7q)
  boughtAmount: 149
  soldAmount:   1
  boughtSpot:   4194304
  soldSpot:     28044
  (boughtA0:    4178556)
  (soldA0:      4194304)
  boughtExp:    22
  soldExp:      2
  spotPrice:    0.006686210632324219
  eff.Price:    0.006711409395973154
  maxBuying:    2499800
  (maxBuyingA0: 70104391200)
)

trials left: 1 - iteration: 7 - block: 2601
virtual: 5239
weight: 1
jumpSize: 35
minAnchorPrice: 5093
jumpLog: 0.028170876966696224
anchorLog: 0.00019632865479775032
143.48836136893362
maxTicks: 1186
maxTicks_: 143
3
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
maxTicks: 1186
maxTicks_: 3119
3
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
virtual: 9000
weight: 1
jumpSize: 1
minAnchorPrice: 4500
jumpLog: 0.6931471805599453
anchorLog: 0.00022219753452146847
3119.5088732767836
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 2662
virtual: 1
weight: 100
jumpSize: 70
minAnchorPrice: 98
jumpLog: 0.014184634991956381
anchorLog: 0.010152371464017908
1.3971745460880391
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 9 - block: 2663

trials left: 1 - iteration: 10 - block: 3191
virtual: 1
weight: 80
jumpSize: 60
minAnchorPrice: 78
jumpLog: 0.016529301951210506
anchorLog: 0.012739025777429712
1.2975326559505196
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 22
minAnchorPrice: 8608
jumpLog: 0.044451762570833796
anchorLog: 0.00011616425638891872
382.6629976609069
maxTicks: 1
maxTicks_: 382
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 11 - block: 3192
virtual: 9000
weight: 1
jumpSize: 56
minAnchorPrice: 8842
jumpLog: 0.017699577099400857
anchorLog: 0.00011309018954655601
156.50851033470454
maxTicks: 877
maxTicks_: 156
3
virtual: 1501
weight: 1
jumpSize: 1
minAnchorPrice: 750
jumpLog: 0.6931471805599453
anchorLog: 0.0013324452337786948
520.2068820451572
maxTicks: 877
maxTicks_: 520
3
virtual: 1501
weight: 1
jumpSize: 1
minAnchorPrice: 750
jumpLog: 0.6931471805599453
anchorLog: 0.0013324452337786948
520.2068820451572
virtual: 1501
weight: 1
jumpSize: 1
minAnchorPrice: 750
jumpLog: 0.6931471805599453
anchorLog: 0.0013324452337786948
520.2068820451572
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 12 - block: 4192
virtual: 1
weight: 100
jumpSize: 91
minAnchorPrice: 98
jumpLog: 0.01092907053219023
anchorLog: 0.010152371464017908
1.0765042011046486
maxTicks: 1
maxTicks_: 1
1
virtual: 2473
weight: 7
jumpSize: 1
minAnchorPrice: 8655
jumpLog: 0.6931471805599453
anchorLog: 0.0001155334759531456
5999.535414662413
maxTicks: 1
maxTicks_: 5999
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 5192

trials left: 1 - iteration: 14 - block: 5435

          maxBuying: 25706
          maxSelling: 1
          maxBuyingA0: 5449672
          maxSellingA0: 42499226
          maxSwapA0: 5449672
          spotBuying: 42499226
          spotSelling: 212
          buyingAmount: 25706
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  212 > 
        spotSelling 210

          maxBuying: 30146
          maxSelling: 1
          maxBuyingA0: 7235040
          maxSellingA0: 2228674
          maxSwapA0: 2228674
          spotBuying: 2228674
          spotSelling: 240
          buyingAmount: 9286
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  240 > 
        spotSelling 236

          maxBuying: 805831
          maxSelling: 1
          maxBuyingA0: 7513568244
          maxSellingA0: 1536000
          maxSwapA0: 1536000
          spotBuying: 1536000
          spotSelling: 9324
          buyingAmount: 164
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9292 > 
        spotSelling 9160

          maxBuying: 408519
          maxSelling: 1
          maxBuyingA0: 3809031156
          maxSellingA0: 1933312
          maxSwapA0: 1933312
          spotBuying: 1933312
          spotSelling: 9324
          buyingAmount: 207
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9292 > 
        spotSelling 9160

          maxBuying: 1123271
          maxSelling: 1
          maxBuyingA0: 10473378804
          maxSellingA0: 1218560
          maxSwapA0: 1218560
          spotBuying: 1218560
          spotSelling: 9324
          buyingAmount: 130
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9292 > 
        spotSelling 9160
subSwap: 207 bought
boughtAssetForSale (old):
        sellingAmm  9292 > 
        spotSelling 9160
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: c7c15dff559033be702cae65b1ca3be6b8a5d7cfe50fe02a9fbb5240, 
   +     +  virtual: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 9000,
   +     +  +  _: 1501
   +     +  ], 
   +     +  weights: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 56,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: c7c15dff559033be702cae65b1ca3be6b8a5d7cfe50fe02a9fbb5240,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: c12cd7458e12a414bbd4dc9b1517609131e3c533ad4f2e8b72b74cc511bf880e),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5a486e4892345706c477b0b72b5eb9d2a5f99ec836f96e04182dbe0afe562360),
   +     +  anchorPrices: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 8842,
   +     +  +  _: 944
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2340330,
   +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 292
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1, a0efP4C7q)
  boughtAmount: 207
  soldAmount:   1
  boughtSpot:   1933312
  soldSpot:     9324
  (boughtA0:    1930068)
  (soldA0:      1933312)
  boughtExp:    11
  soldExp:      3
  spotPrice:    0.004822811837923728
  eff.Price:    0.004830917874396135
  maxBuying:    207
  (maxBuyingA0: 1930068)
)

trials left: 1 - iteration: 15 - block: 5436
virtual: 1
weight: 98
jumpSize: 70
minAnchorPrice: 96
jumpLog: 0.014184634991956381
anchorLog: 0.010362787035546658
1.3688050273830716
maxTicks: 1
maxTicks_: 1
1
virtual: 9000
weight: 1
jumpSize: 36
minAnchorPrice: 8756
jumpLog: 0.027398974188114347
anchorLog: 0.0001142008794708242
239.91911721760584
maxTicks: 1
maxTicks_: 239
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 16 - block: 5875

          maxBuying: 25706
          maxSelling: 1
          maxBuyingA0: 5449672
          maxSellingA0: 42499226
          maxSwapA0: 5449672
          spotBuying: 42499226
          spotSelling: 212
          buyingAmount: 25706
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  212 > 
        spotSelling 210

          maxBuying: 805831
          maxSelling: 1
          maxBuyingA0: 7513568244
          maxSellingA0: 1536000
          maxSwapA0: 1536000
          spotBuying: 1536000
          spotSelling: 9324
          buyingAmount: 164
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9292 > 
        spotSelling 9160

          maxBuying: 408519
          maxSelling: 1
          maxBuyingA0: 3809031156
          maxSellingA0: 1933312
          maxSwapA0: 1933312
          spotBuying: 1933312
          spotSelling: 9324
          buyingAmount: 207
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9293 > 
        spotSelling 9160

          maxBuying: 1123271
          maxSelling: 1
          maxBuyingA0: 10473378804
          maxSellingA0: 1218560
          maxSwapA0: 1218560
          spotBuying: 1218560
          spotSelling: 9324
          buyingAmount: 130
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9292 > 
        spotSelling 9160

          maxBuying: 1020670
          maxSelling: 1
          maxBuyingA0: 308242340
          maxSellingA0: 8862720
          maxSwapA0: 8862720
          spotBuying: 8862720
          spotSelling: 302
          buyingAmount: 29346
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  300 > 
        spotSelling 298
boughtAssetForSale (old):
        sellingAmm  9292 > 
        spotSelling 9160
subSwap: 69 bought
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: c7c15dff559033be702cae65b1ca3be6b8a5d7cfe50fe02a9fbb5240, 
   +     +  virtual: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 9000,
   +     +  +  _: 1501
   +     +  ], 
   +     +  weights: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 1,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 56,
   +     +  +  _: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: c7c15dff559033be702cae65b1ca3be6b8a5d7cfe50fe02a9fbb5240,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 0fbfefec8d66a2679d6036b226bf0d4639dfcfce86b9d286aa671b121c7ffab8),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 5a486e4892345706c477b0b72b5eb9d2a5f99ec836f96e04182dbe0afe562360),
   +     +  anchorPrices: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 8842,
   +     +  +  _: 750
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2340330,
   +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 292
   +  ]
     )
  boughtAsset:  Asset(, )
  soldAsset:    Asset(1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1, a0efP4C7q)
  boughtAmount: 69
  soldAmount:   1
  boughtSpot:   1536000
  soldSpot:     9324
  (boughtA0:    643356)
  (soldA0:      1536000)
  boughtExp:    11
  soldExp:      3
  spotPrice:    0.0060703125
  eff.Price:    0.014492753623188406
  maxBuying:    69
  (maxBuyingA0: 643356)
)

trials left: 1 - iteration: 17 - block: 6413

trials left: 1 - iteration: 18 - block: 7413
virtual: 9000
weight: 1
jumpSize: 3
minAnchorPrice: 6750
jumpLog: 0.28768207245178085
anchorLog: 0.00014813717529505585
1941.9978265332995
maxTicks: 1
maxTicks_: 1941
1
virtual: 9000
weight: 1
jumpSize: 100
minAnchorPrice: 8910
jumpLog: 0.009950330853168092
anchorLog: 0.00011222714786481952
88.66242297410535
maxTicks: 1
maxTicks_: 88
1
virtual: 1
weight: 75
jumpSize: 1
minAnchorPrice: 37
jumpLog: 0.6931471805599453
anchorLog: 0.026668247082161273
25.991478870900373
maxTicks: 1
maxTicks_: 25
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 7414

          maxBuying: 25706
          maxSelling: 1
          maxBuyingA0: 5449672
          maxSellingA0: 42499226
          maxSwapA0: 5449672
          spotBuying: 42499226
          spotSelling: 212
          buyingAmount: 25706
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  212 > 
        spotSelling 210

          maxBuying: 1119750
          maxSelling: 1
          maxBuyingA0: 6382575000
          maxSellingA0: 1152000
          maxSwapA0: 1152000
          spotBuying: 1152000
          spotSelling: 5700
          buyingAmount: 202
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  5634 > 
        spotSelling 5542

          maxBuying: 820486
          maxSelling: 1
          maxBuyingA0: 4676770200
          maxSellingA0: 1451264
          maxSwapA0: 1451264
          spotBuying: 1451264
          spotSelling: 5700
          buyingAmount: 254
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  5634 > 
        spotSelling 5542

          maxBuying: 443142
          maxSelling: 1
          maxBuyingA0: 2525909400
          maxSellingA0: 1828608
          maxSwapA0: 1828608
          spotBuying: 1828608
          spotSelling: 5700
          buyingAmount: 320
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  5634 > 
        spotSelling 5542

          maxBuying: 30146
          maxSelling: 1
          maxBuyingA0: 7235040
          maxSellingA0: 2228674
          maxSwapA0: 2228674
          spotBuying: 2228674
          spotSelling: 240
          buyingAmount: 9286
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  240 > 
        spotSelling 236

          maxBuying: 805831
          maxSelling: 31
          maxBuyingA0: 7513568244
          maxSellingA0: 47616000
          maxSwapA0: 47616000
          spotBuying: 1536000
          spotSelling: 9324
          buyingAmount: 5106
          sellingAmount: 31
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9293 > 
        spotSelling 9160

          maxBuying: 408519
          maxSelling: 31
          maxBuyingA0: 3809031156
          maxSellingA0: 59932672
          maxSwapA0: 59932672
          spotBuying: 1933312
          spotSelling: 9324
          buyingAmount: 6427
          sellingAmount: 31
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9293 > 
        spotSelling 9160

          maxBuying: 1123271
          maxSelling: 32
          maxBuyingA0: 10473378804
          maxSellingA0: 38993920
          maxSwapA0: 38993920
          spotBuying: 1218560
          spotSelling: 9324
          buyingAmount: 4182
          sellingAmount: 32
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9292 > 
        spotSelling 9160

          maxBuying: 22376
          maxSelling: 1
          maxBuyingA0: 6578544
          maxSellingA0: 2279544
          maxSwapA0: 2279544
          spotBuying: 2279544
          spotSelling: 294
          buyingAmount: 7753
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (new):
        sellingAmm  294 > 
        spotSelling 290

          maxBuying: 1
          maxSelling: 4208
          maxBuyingA0: 21333
          maxSellingA0: 37867792
          maxSwapA0: 21333
          spotBuying: 8999
          spotSelling: 21333
          buyingAmount: 1
          sellingAmount: 3
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  17125 > 
        spotSelling 16000

          maxBuying: 1
          maxSelling: 4208
          maxBuyingA0: 21333
          maxSellingA0: 311392
          maxSwapA0: 21333
          spotBuying: 74
          spotSelling: 21333
          buyingAmount: 1
          sellingAmount: 289
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  17125 > 
        spotSelling 16000

          maxBuying: 1125
          maxSelling: 1
          maxBuyingA0: 10225125
          maxSellingA0: 16000
          maxSwapA0: 16000
          spotBuying: 16000
          spotSelling: 9089
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999

          maxBuying: 1125
          maxSelling: 1
          maxBuyingA0: 333000
          maxSellingA0: 16000
          maxSwapA0: 16000
          spotBuying: 16000
          spotSelling: 296
          buyingAmount: 54
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  150 > 
        spotSelling 148

          maxBuying: 1
          maxSelling: 1
          maxBuyingA0: 296
          maxSellingA0: 8999
          maxSwapA0: 296
          spotBuying: 8999
          spotSelling: 296
          buyingAmount: 1
          sellingAmount: 1
        
Swapping.boundary()
boughtAssetForSale (old):
        sellingAmm  150 > 
        spotSelling 148
subSwap: 1 bought
boughtAssetForSale (old):
        sellingAmm  9001 > 
        spotSelling 8999
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: 5c02bab355b0bab71d27cfcc16d52e66ab20d018ceceb30274d3b385, 
   +     +  virtual: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 9000,
   +     +  +  7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d_1U5KH: 9000,
   +     +  +  c840cad3bb30ff0a9ffd53470e2650ed3dc5e6ba89bd7ab2e0f499c6_: 1
   +     +  ], 
   +     +  weights: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 1,
   +     +  +  7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d_1U5KH: 1,
   +     +  +  c840cad3bb30ff0a9ffd53470e2650ed3dc5e6ba89bd7ab2e0f499c6_: 75
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 3,
   +     +  +  7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d_1U5KH: 100,
   +     +  +  c840cad3bb30ff0a9ffd53470e2650ed3dc5e6ba89bd7ab2e0f499c6_: 1
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: 5c02bab355b0bab71d27cfcc16d52e66ab20d018ceceb30274d3b385,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: dcaace7ef6beb17c669574fd185ca1ecef22effd2d0239272dd7da139f5758a2),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 9058015dbb104cc6020613ba991eb5589135492784f3009192edaeb07e543539),
   +     +  anchorPrices: +[
   +     +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 6750,
   +     +  +  7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d_1U5KH: 8910,
   +     +  +  c840cad3bb30ff0a9ffd53470e2650ed3dc5e6ba89bd7ab2e0f499c6_: 37
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2943730,
   +  +  1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1_a0efP4C7q: 8125,
   +  +  7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d_1U5KH: 1,
   +  +  c840cad3bb30ff0a9ffd53470e2650ed3dc5e6ba89bd7ab2e0f499c6_: 1
   +  ]
     )
  boughtAsset:  Asset(1cadffd8a77b3c0269cf73dcafc9457780513720d961995b8dc637a1, a0efP4C7q)
  soldAsset:    Asset(7849ecfcd0e1c01e1a3f905534e584628c6b410c710330002f6b3d6d, 1U5KH)
  boughtAmount: 1
  soldAmount:   1
  boughtSpot:   16000
  soldSpot:     9089
  (boughtA0:    9089)
  (soldA0:      16000)
  boughtExp:    3
  soldExp:      2
  spotPrice:    0.5680625
  eff.Price:    1
  maxBuying:    1
  (maxBuyingA0: 9089)
)
traces.length: 20
Opening: 11
Swapping: 6
Closing: 3
--- DONE ---
Opening: 21
Closing: 13
Swapping: 6
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(9s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(31s)[0m

