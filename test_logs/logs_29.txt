[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 3

trials left: 1 - iteration: 0 - block: 0
virtual: 9007199254740991
weight: 1
jumpSize: 28
minAnchorPrice: 8696606176991301
jumpLog: 0.03509131981127019
anchorLog: 2.2204460492503128e-16
158037254825975.38
maxTicks: 1
maxTicks_: 158037254825975
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 368

trials left: 1 - iteration: 2 - block: 369
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 2
weight: 74
jumpSize: 100
minAnchorPrice: 146
jumpLog: 0.009950330853168092
anchorLog: 0.006825965070399891
1.4577178099426114
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 1020
virtual: 2
weight: 97
jumpSize: 100
minAnchorPrice: 192
jumpLog: 0.009950330853168092
anchorLog: 0.00519481687710393
1.9154343817246016
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 36
minAnchorPrice: 8763761437045288
jumpLog: 0.027398974188114347
anchorLog: 2.2204460492503128e-16
123394009943925.62
maxTicks: 1
maxTicks_: 123394009943925
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 2020
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 940402767274692
weight: 11
jumpSize: 1
minAnchorPrice: 5172215220010806
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 5745273134067678
weight: 3
jumpSize: 1
minAnchorPrice: 8617909701101517
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 5 - block: 2021

trials left: 1 - iteration: 6 - block: 2022

trials left: 1 - iteration: 7 - block: 2023
virtual: 6917044901064951
weight: 1
jumpSize: 63
minAnchorPrice: 6808966074485811
jumpLog: 0.015748356968139112
anchorLog: 2.2204460492503128e-16
70924294573408.88
maxTicks: 1
maxTicks_: 70924294573408
1
virtual: 2
weight: 92
jumpSize: 100
minAnchorPrice: 182
jumpLog: 0.009950330853168092
anchorLog: 0.0054794657646255705
1.8159308371640186
maxTicks: 1
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 2024
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 1
weight: 100
jumpSize: 1
minAnchorPrice: 50
jumpLog: 0.6931471805599453
anchorLog: 0.01980262729617973
35.0027887811465
maxTicks: 1
maxTicks_: 35
1
virtual: 4354010021744166
weight: 2
jumpSize: 13
minAnchorPrice: 8086018611810594
jumpLog: 0.07410797215372183
anchorLog: 2.2204460492503128e-16
333752635776684.8
maxTicks: 1
maxTicks_: 333752635776684
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 9 - block: 3024
virtual: 4376867357236914
weight: 3
jumpSize: 1
minAnchorPrice: 6565301035855371
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 440110690566374
maxTicks_: 3121657384082680
3
virtual: 2512478432655332
weight: 2
jumpSize: 76
minAnchorPrice: 4959697685241694
jumpLog: 0.0130720815673527
anchorLog: 2.2204460492503128e-16
58871421675686.36
maxTicks: 146703563522124
maxTicks_: 58871421675686
3
virtual: 9007199254740991
weight: 1
jumpSize: 87
minAnchorPrice: 8904844717755297
jumpLog: 0.01142869582362285
anchorLog: 2.2204460492503128e-16
51470270252598.62
maxTicks: 146703563522124
maxTicks_: 51470270252598
3
virtual: 4376867357236914
weight: 3
jumpSize: 1
minAnchorPrice: 6565301035855371
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
virtual: 4376867357236914
weight: 3
jumpSize: 1
minAnchorPrice: 6565301035855371
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 4024
Swapping.boundary()
addedBuyingA0: 368
addedSellingA0: 6917044901064950
diff: -6917044901064582
Swapping.boundary()
addedBuyingA0: 9377867739141280
addedSellingA0: 18014398509481980
diff: -8636530770340700
Swapping.boundary()
addedBuyingA0: 1792264048301320332772280632160
addedSellingA0: 1792264048301330902716252160000
diff: -10569943971527840
subSwap: 1 bought
addedBuyingA0: 368
addedSellingA0: 6917044901064950
diff: -6917044901064582
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: cd7f41cf8834d23fb34dc1651f8ba21e8a30493b4a2a1fe03c8cf203, 
   +     +  virtual: +[
   +     +  +  1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4_oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5: 6917044901064951,
   +     +  +  55fd8b96dd4405ee58b09f56452534cd01d7bef13f934fa6a74e2870_bcI6N2tcjPd3UBVfqI7xYBrcaFEMrh: 2
   +     +  ], 
   +     +  weights: +[
   +     +  +  1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4_oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5: 1,
   +     +  +  55fd8b96dd4405ee58b09f56452534cd01d7bef13f934fa6a74e2870_bcI6N2tcjPd3UBVfqI7xYBrcaFEMrh: 92
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4_oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5: 63,
   +     +  +  55fd8b96dd4405ee58b09f56452534cd01d7bef13f934fa6a74e2870_bcI6N2tcjPd3UBVfqI7xYBrcaFEMrh: 100
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: cd7f41cf8834d23fb34dc1651f8ba21e8a30493b4a2a1fe03c8cf203,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 193a297719fc0c3a7eb85ef9ff41dd27711fd085eba7e62ebdb4d18a92c4ec8e),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 08846e6e1fa87a7e174d91051de9d76747d5007598aee0e2671b136ac9cf0079),
   +     +  anchorPrices: +[
   +     +  +  1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4_oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5: 6808966074485811,
   +     +  +  55fd8b96dd4405ee58b09f56452534cd01d7bef13f934fa6a74e2870_bcI6N2tcjPd3UBVfqI7xYBrcaFEMrh: 182
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3098890,
   +  +  1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4_oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5: 1,
   +  +  55fd8b96dd4405ee58b09f56452534cd01d7bef13f934fa6a74e2870_bcI6N2tcjPd3UBVfqI7xYBrcaFEMrh: 1
   +  ]
     )
  boughtAsset: Asset(1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4, oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5)
  soldAsset: Asset(55fd8b96dd4405ee58b09f56452534cd01d7bef13f934fa6a74e2870, bcI6N2tcjPd3UBVfqI7xYBrcaFEMrh)
  boughtAmount: 1
  soldAmount: 1
  boughtSpot: 6917044901064950
  soldSpot: 368
  boughtExp: 1
  soldExp: 71
  spotPrice: 5.320190995772525e-14
  effectivePrice: 1
)

trials left: 1 - iteration: 11 - block: 5024
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 7571678049646005
weight: 1
jumpSize: 100
minAnchorPrice: 7496710940243569
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 12 - block: 5025
virtual: 2
weight: 100
jumpSize: 100
minAnchorPrice: 198
jumpLog: 0.009950330853168092
anchorLog: 0.005037794029957081
1.9751364970458831
maxTicks: 3932694845204185
maxTicks_: 1
1
virtual: 2269833964316894
weight: 4
jumpSize: 32
minAnchorPrice: 8804204467653407
jumpLog: 0.030771658666753687
anchorLog: 2.2204460492503128e-16
138583230505164.02
maxTicks: 3932694845204185
maxTicks_: 138583230505164
3
virtual: 2269833964316894
weight: 4
jumpSize: 32
minAnchorPrice: 8804204467653407
jumpLog: 0.030771658666753687
anchorLog: 2.2204460492503128e-16
138583230505164.02
virtual: 2269833964316894
weight: 4
jumpSize: 32
minAnchorPrice: 8804204467653407
jumpLog: 0.030771658666753687
anchorLog: 2.2204460492503128e-16
138583230505164.02
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 5884

trials left: 1 - iteration: 14 - block: 5885
virtual: 9007199254740991
weight: 1
jumpSize: 75
minAnchorPrice: 8888683475073346
jumpLog: 0.013245226750020723
anchorLog: 2.2204460492503128e-16
59651198255831.06
maxTicks: 1
maxTicks_: 59651198255831
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 15 - block: 6885

trials left: 1 - iteration: 16 - block: 7885
virtual: 5202388679766084
weight: 1
jumpSize: 88
minAnchorPrice: 5143934874375453
jumpLog: 0.011299555253933466
anchorLog: 2.2204460492503128e-16
50888672831067.09
maxTicks: 4634393718970432
maxTicks_: 50888672831067
3
virtual: 8782176413324925
weight: 1
jumpSize: 51
minAnchorPrice: 8613288405376368
jumpLog: 0.019418085857101516
anchorLog: 2.2204460492503128e-16
87451284230290.7
maxTicks: 4634393718970432
maxTicks_: 87451284230290
3
virtual: 8782176413324925
weight: 1
jumpSize: 51
minAnchorPrice: 8613288405376368
jumpLog: 0.019418085857101516
anchorLog: 2.2204460492503128e-16
87451284230290.7
virtual: 8782176413324925
weight: 1
jumpSize: 51
minAnchorPrice: 8613288405376368
jumpLog: 0.019418085857101516
anchorLog: 2.2204460492503128e-16
87451284230290.7
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 17 - block: 8885
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
virtual: 1473781364060488
weight: 1
jumpSize: 50
minAnchorPrice: 1444883690255380
jumpLog: 0.01980262729617973
anchorLog: 6.661338147750937e-16
29727701637343.957
maxTicks: 1
maxTicks_: 29727701637343
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 18 - block: 8886

trials left: 1 - iteration: 19 - block: 9886
Swapping.boundary()
addedBuyingA0: 27291813741865200
addedSellingA0: 28147497671065600
diff: -855683929200400
subSwap: 1 bought
addedBuyingA0: 9097271247288400
addedSellingA0: 28147497671065600
diff: -19050226423777200
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: fef20dca66819cda16a4c3c3b1c82e2b49fe81d4145050173256d244, 
   +     +  virtual: +[
   +     +  +  1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4_oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5: 9007199254740991,
   +     +  +  ea46f707ecd9e1d91a2271a25d9f01fc33c0ed434ebb7365d8258a26_: 1,
   +     +  +  55fd8b96dd4405ee58b09f56452534cd01d7bef13f934fa6a74e2870_bcI6N2tcjPd3UBVfqI7xYBrcaFEMrh: 4354010021744166
   +     +  ], 
   +     +  weights: +[
   +     +  +  1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4_oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5: 1,
   +     +  +  ea46f707ecd9e1d91a2271a25d9f01fc33c0ed434ebb7365d8258a26_: 100,
   +     +  +  55fd8b96dd4405ee58b09f56452534cd01d7bef13f934fa6a74e2870_bcI6N2tcjPd3UBVfqI7xYBrcaFEMrh: 2
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4_oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5: 100,
   +     +  +  ea46f707ecd9e1d91a2271a25d9f01fc33c0ed434ebb7365d8258a26_: 1,
   +     +  +  55fd8b96dd4405ee58b09f56452534cd01d7bef13f934fa6a74e2870_bcI6N2tcjPd3UBVfqI7xYBrcaFEMrh: 13
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: fef20dca66819cda16a4c3c3b1c82e2b49fe81d4145050173256d244,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 32bd5c1776b3f05b3afe391b8e73fe3425b547a9079c46fa381921b47c0bca44),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 401df33aa1ccf0395a9bbef155b06ec52cbd9a03f5d590164df1923729698f8c),
   +     +  anchorPrices: +[
   +     +  +  1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4_oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5: 8918019064099991,
   +     +  +  ea46f707ecd9e1d91a2271a25d9f01fc33c0ed434ebb7365d8258a26_: 50,
   +     +  +  55fd8b96dd4405ee58b09f56452534cd01d7bef13f934fa6a74e2870_bcI6N2tcjPd3UBVfqI7xYBrcaFEMrh: 8086018611810594
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 3486790,
   +  +  1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4_oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5: 1,
   +  +  55fd8b96dd4405ee58b09f56452534cd01d7bef13f934fa6a74e2870_bcI6N2tcjPd3UBVfqI7xYBrcaFEMrh: 21937532358804,
   +  +  ea46f707ecd9e1d91a2271a25d9f01fc33c0ed434ebb7365d8258a26_: 472591347527102
   +  ]
     )
  boughtAsset: Asset(ea46f707ecd9e1d91a2271a25d9f01fc33c0ed434ebb7365d8258a26, )
  soldAsset: Asset(1a9ede3756dab99b0c5d2c2e99ea09a12ffead0a38909cb966170da4, oUlAJpUfiIwjDfusH7uJvMQfvFbrs7i5)
  boughtAmount: 1
  soldAmount: 1
  boughtSpot: 28147497671065600
  soldSpot: 9097271247288400
  boughtExp: 49
  soldExp: 2
  spotPrice: 0.32319999999999993
  effectivePrice: 1
)
traces.length: 20
Opening: 12
Closing: 6
Swapping: 2
--- DONE ---
Opening: 12
Closing: 6
Swapping: 2
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(47s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m4s)[0m

