[0m[32mTask[0m [0m[36mtest[0m deno test --allow-env --allow-read --allow-net tests
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/emulator.test.ts
[0m[32mCheck[0m file:///Users/ChrisHiatt/Projects/adaswap/vasil_2022Q3/euclid-offchain/tests/types.test.ts
[0m[38;5;245mrunning 1 test from ./tests/emulator.test.ts[0m
emulator ...
[0m[38;5;245m------- output -------[0m
trials left: 1
accounts: 1

trials left: 1 - iteration: 0 - block: 0
virtual: 1
weight: 61
jumpSize: 60
minAnchorPrice: 60
jumpLog: 0.016529301951210506
anchorLog: 0.016529301951210506
1
maxTicks: 9007199254740991
maxTicks_: 1
1
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 9007199254740991
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 1 - block: 689

trials left: 1 - iteration: 2 - block: 690
virtual: 1
weight: 2
jumpSize: 1
minAnchorPrice: 1
jumpLog: 0.6931471805599453
anchorLog: 0.6931471805599453
1
maxTicks: 1
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 3 - block: 1690
virtual: 4329311610499052
weight: 1
jumpSize: 100
minAnchorPrice: 4286447139107972
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 9007199254740990
maxTicks_: 44812306322540
3
virtual: 1
weight: 33
jumpSize: 1
minAnchorPrice: 16
jumpLog: 0.6931471805599453
anchorLog: 0.06062462181643484
11.433426878252934
maxTicks: 9007199254740990
maxTicks_: 11
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 4 - block: 1691

trials left: 1 - iteration: 5 - block: 2691

trials left: 1 - iteration: 6 - block: 3667
virtual: 9007199254740991
weight: 1
jumpSize: 88
minAnchorPrice: 8905994768732665
jumpLog: 0.011299555253933466
anchorLog: 2.2204460492503128e-16
50888672831067.09
maxTicks: 1
maxTicks_: 50888672831067
1
virtual: 1877128135074524
weight: 3
jumpSize: 58
minAnchorPrice: 5535937211914697
jumpLog: 0.01709443335930004
anchorLog: 2.2204460492503128e-16
76986483707053.45
maxTicks: 1
maxTicks_: 76986483707053
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 7 - block: 4061
virtual: 9007199254740991
weight: 1
jumpSize: 31
minAnchorPrice: 8725724278030335
jumpLog: 0.03174869831458027
anchorLog: 2.2204460492503128e-16
142983425899042.03
maxTicks: 9007199254740990
maxTicks_: 142983425899042
3
virtual: 1
weight: 99
jumpSize: 98
minAnchorPrice: 98
jumpLog: 0.010152371464017908
anchorLog: 0.010152371464017908
1
maxTicks: 4503599627370495
maxTicks_: 1
1
virtual: 9007199254740991
weight: 1
jumpSize: 31
minAnchorPrice: 8725724278030335
jumpLog: 0.03174869831458027
anchorLog: 2.2204460492503128e-16
142983425899042.03
Opening pool with 2 dirac utxos and 1 param utxos

trials left: 1 - iteration: 8 - block: 4175

trials left: 1 - iteration: 9 - block: 4756
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 9007199254740990
maxTicks_: 3121657384082680
3
virtual: 9007199254740991
weight: 1
jumpSize: 12
minAnchorPrice: 8314337773607068
jumpLog: 0.08004270767353636
anchorLog: 2.2204460492503128e-16
360480308452263.94
maxTicks: 9007199254740990
maxTicks_: 360480308452263
3
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 10 - block: 5756

trials left: 1 - iteration: 11 - block: 5757

trials left: 1 - iteration: 12 - block: 6757
virtual: 1143547180403821
weight: 7
jumpSize: 100
minAnchorPrice: 7925574517650244
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 2455109509515416
maxTicks_: 44812306322540
3
virtual: 2632753378002568
weight: 1
jumpSize: 85
minAnchorPrice: 2602139966630445
jumpLog: 0.011696039763191236
anchorLog: 4.440892098500625e-16
26337140159609.28
maxTicks: 2455109509515416
maxTicks_: 26337140159609
3
virtual: 2632753378002568
weight: 1
jumpSize: 85
minAnchorPrice: 2602139966630445
jumpLog: 0.011696039763191236
anchorLog: 4.440892098500625e-16
26337140159609.28
virtual: 2632753378002568
weight: 1
jumpSize: 85
minAnchorPrice: 2602139966630445
jumpLog: 0.011696039763191236
anchorLog: 4.440892098500625e-16
26337140159609.28
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 13 - block: 7757
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 441234506176982
maxTicks_: 1
1
virtual: 988598196307301
weight: 1
jumpSize: 100
minAnchorPrice: 978810095353763
jumpLog: 0.009950330853168092
anchorLog: 1.110223024625156e-15
8962461264508.2
maxTicks: 441234506176982
maxTicks_: 8962461264508
3
virtual: 7871723988450325
weight: 2
jumpSize: 1
minAnchorPrice: 7871723988450325
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 147078168725660
maxTicks_: 3121657384082680
3
virtual: 988598196307301
weight: 1
jumpSize: 100
minAnchorPrice: 978810095353763
jumpLog: 0.009950330853168092
anchorLog: 1.110223024625156e-15
8962461264508.2
virtual: 988598196307301
weight: 1
jumpSize: 100
minAnchorPrice: 978810095353763
jumpLog: 0.009950330853168092
anchorLog: 1.110223024625156e-15
8962461264508.2
Opening pool with 3 dirac utxos and 1 param utxos

trials left: 1 - iteration: 14 - block: 8180
Swapping.boundary()
addedBuyingA0: 33336251468476264780290
addedSellingA0: 33336252366440753674875
diff: -897964488894585
Swapping.boundary()
addedBuyingA0: 33336251468476264780290
addedSellingA0: 33336252187411614221742
diff: -718935349441452
Swapping.boundary()
addedBuyingA0: 33336251468476264780290
addedSellingA0: 33336252555372492324725
diff: -1086896227544435
subSwap: 2409290 bought
addedBuyingA0: 33336251468476264780290
addedSellingA0: 33336252366440753674875
diff: -897964488894585
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: f57ea830952c38856266bae345998353a54c928bbd9a37c2eec3a5dd, 
   +     +  virtual: +[
   +     +  +  6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c_rVmUPrQa: 1143547180403821,
   +     +  +  _: 2632753378002568
   +     +  ], 
   +     +  weights: +[
   +     +  +  6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c_rVmUPrQa: 7,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c_rVmUPrQa: 100,
   +     +  +  _: 85
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: f57ea830952c38856266bae345998353a54c928bbd9a37c2eec3a5dd,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 54e3eb0c6b204ed2f5fe06a27759e58aaeff3a3890157f998cb24fbf1ac27c82),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 6d87f5a7d76dc3b8b7bea3310fc0e85c17cd42cdc9e68a0f199422c3f08733c1),
   +     +  anchorPrices: +[
   +     +  +  6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c_rVmUPrQa: 7925574517650244,
   +     +  +  _: 2602139966630445
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2409290,
   +  +  6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c_rVmUPrQa: 818369836505138
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c, rVmUPrQa)
  boughtAmount: 2409290
  soldAmount: 12662125
  boughtSpot: 2632753378002567
  soldSpot: 13836545815769901
  boughtExp: 1
  soldExp: 56
  spotPrice: 5.255541947596889
  effectivePrice: 5.255542089163198
)

trials left: 1 - iteration: 15 - block: 8181
Swapping.boundary()
addedBuyingA0: 33336251468476264780290
addedSellingA0: 33336252366440753674875
diff: -897964488894585
Swapping.boundary()
addedBuyingA0: 33336251468476264780290
addedSellingA0: 33336252187411614221742
diff: -718935349441452
Swapping.boundary()
addedBuyingA0: 33336251468476264780290
addedSellingA0: 33336252555372492324725
diff: -1086896227544435
subSwap: 2409290 bought
addedBuyingA0: 33336251468476264780290
addedSellingA0: 33336252555372492324725
diff: -1086896227544435
Swapping (
  paramUtxo: ParamUtxo (
     +  param: Param (
   +     +  owner: f57ea830952c38856266bae345998353a54c928bbd9a37c2eec3a5dd, 
   +     +  virtual: +[
   +     +  +  6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c_rVmUPrQa: 1143547180403821,
   +     +  +  _: 2632753378002568
   +     +  ], 
   +     +  weights: +[
   +     +  +  6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c_rVmUPrQa: 7,
   +     +  +  _: 1
   +     +  ]
   +     +  jumpSizes: +[
   +     +  +  6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c_rVmUPrQa: 100,
   +     +  +  _: 85
   +     +  ], 
   +     +  active: 1
   +     )
     )
  diracUtxo: DiracUtxo (
     +  dirac: Dirac(
   +     +  owner: f57ea830952c38856266bae345998353a54c928bbd9a37c2eec3a5dd,
   +     +  threadNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 579f86fcd018dd5525eec4be9d485cb1cd2f8aa2088c9f7fee043c4c03b3b779),
   +     +  paramNFT: IdNFT (Currency(49a0b0e032416036152977ff1fac1aed683512166af02b36f2eb1851), Hash: 6d87f5a7d76dc3b8b7bea3310fc0e85c17cd42cdc9e68a0f199422c3f08733c1),
   +     +  anchorPrices: +[
   +     +  +  6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c_rVmUPrQa: 7925574517650244,
   +     +  +  _: 2622509097831175
   +     +  ],
   +     ),
     +  balance: +[
   +  +  _: 2409290,
   +  +  6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c_rVmUPrQa: 818369836505138
   +  ]
     )
  boughtAsset: Asset(, )
  soldAsset: Asset(6ea9d92fef1c52cdbfa6978fd9e062f2462ba0b6beb3317311b86d0c, rVmUPrQa)
  boughtAmount: 2409290
  soldAmount: 12711587
  boughtSpot: 2622509097831175
  soldSpot: 13836545815769901
  boughtExp: 0
  soldExp: 56
  spotPrice: 5.276071616763037
  effectivePrice: 5.276071788784248
)

trials left: 1 - iteration: 16 - block: 8719
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 1
maxTicks_: 44812306322540
1
virtual: 9007199254740991
weight: 1
jumpSize: 1
minAnchorPrice: 4503599627370495
jumpLog: 0.6931471805599453
anchorLog: 2.2204460492503128e-16
3121657384082680
maxTicks: 1
maxTicks_: 3121657384082680
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 17 - block: 9055

trials left: 1 - iteration: 18 - block: 9811
virtual: 9007199254740991
weight: 1
jumpSize: 100
minAnchorPrice: 8918019064099991
jumpLog: 0.009950330853168092
anchorLog: 2.2204460492503128e-16
44812306322540.98
maxTicks: 6110855213674885
maxTicks_: 44812306322540
3
virtual: 2
weight: 51
jumpSize: 100
minAnchorPrice: 100
jumpLog: 0.009950330853168092
anchorLog: 0.009950330853168092
1
maxTicks: 6110855213674885
maxTicks_: 1
1
Opening pool with 1 dirac utxos and 1 param utxos

trials left: 1 - iteration: 19 - block: 10811
traces.length: 20
Opening: 10
Closing: 8
Swapping: 2
--- DONE ---
Opening: 10
Closing: 8
Swapping: 2
[0m[38;5;245m----- output end -----[0m
emulator ... [0m[32mok[0m [0m[38;5;245m(34s)[0m
[0m[38;5;245mrunning 0 tests from ./tests/types.test.ts[0m

[0m[32mok[0m | 1 passed | 0 failed [0m[38;5;245m(3m0s)[0m

